{"version":3,"sources":["hooks/useDidUpdateEffect.js","utils.ts","router/MainRouter.tsx","Context.ts","hooks/useLocationChange.js","images/icons/shopping-cart-white.svg","images/icons/delete.svg","images/icons/delete-red.svg","components/cart/HeaderCartItem.tsx","components/cart/HeaderCart.tsx","ui/header/Header.tsx","hooks/useFetch.ts","tools/wc-api.ts","ui/Loader.js","components/product/ProductContent.tsx","components/widgets/TextWidget.tsx","images/phone-call.png","images/whatsapp.png","images/email.png","components/widgets/NavWidget.tsx","ui/sidebar/Sidebar.tsx","pages/Product.tsx","components/cart/CartItem.tsx","pages/Cart..tsx","components/products/ProductItem.tsx","components/products/ProductList.tsx","components/filter/FilterRange.tsx","components/filter/FilterCategory.tsx","components/filter/FilterOrderby.tsx","components/filter/FilterSearch.tsx","components/filter/ClearFilter.tsx","components/filter/ProductsFilter.tsx","hooks/useProducts.js","components/pagination/Pagination.tsx","api/rest.ts","pages/Catalog.tsx","router/index.ts","components/demo/DemoAlert.tsx","App.tsx","index.tsx"],"names":["useDidUpdateEffect","OrderbyEnum","effect","deps","didMount","useRef","useEffect","current","price_format","price","location","Intl","NumberFormat","format","calcTotalCart","cart","total","key","qty","pushCart","id","product","new_cart","getMapProduct","product_map","name","img","images","src","image","parseFloat","price_html","MainRouter","routes","redirect","map","route","path","exact","Fragment","Helmet","title","component","to","Context","React","createContext","CartContext","FilterContext","ProductContext","useLocationChange","action","useLocation","HeaderCartItem","removeProduct","useContext","className","alt","onLoad","e","target","style","height","getComputedStyle","width","dangerouslySetInnerHTML","__html","DOMPurify","sanitize","icon_trash","onMouseEnter","setAttribute","icon_trash_hover","onMouseLeave","onClick","HeaderCart","useState","setPath","showCart","setShowCart","cartMap","cartCounter","totalCart","pathname","split","filter","item","Boolean","icon_cart_path","Object","keys","Header","useFetch","callback","isLoading","setLoading","status","message","isError","setError","fetching","a","wcApi","WooCommerceRestApi","url","consumerKey","consumerSecret","version","Loader","role","ProductContent","calcTotal","addToCart","useParams","setProduct","setQty","inCart","setInCart","get","data","cartKeys","length","includes","href","rel","display","type","value","onChange","parseInt","categories","ind","description","TextWidget","NavWidget","Sidebar","Product","CartItem","min","max","trash","trash_h","sizes_td","Colgroup","THead","TBody","TFoot","colSpan","Cart","gap","ProductItem","push","useHistory","String","ProductList","products","FilterRange","minRange","setMinRange","maxRange","setMaxRange","currentRange","setCurrentRange","setMaxCost","sortedPosts","category","min_max","productsList","prices","Math","calc_min_max","step","onInput","onMouseUp","FilterCategory","setCategory","count","FilterOrderby","orderby","setOrderby","FilterSearch","searchQuery","setSearchQuery","placeholder","ClearFilter","ProductsFilter","useSortedByCategoryProducts","useMemo","some","cat","sortByCategory","useSortedByCostProducts","maxCost","sortedByCost","cost","sortByCost","useSortedByOrderbyProducts","sortedByOrderby","sort","b","sortByOrderby","useProducts","query","byCategory","byMaxCost","bySearch","filtredPosts","post","toLowerCase","trim","searchByQuery","useSortedBySearchProducts","Pagination","page","setPage","list","from","Array","_","i","fillArrayFromTo","ProductService","totalPages","read_categories","headers","console","error","Error","limit","getProducts","isNext","axios","getProductById","res","setCacheProducts","useStateIfMounted","setProducts","setCategories","setTotal","per_page","fetchProducts","getCategories","Provider","DemoAlert","visible","setVisible","App","cacheProducts","setCartMap","setCartCounter","setTotalCart","localStorage","getItem","localCart","JSON","parse","setItem","stringify","cartList","reduce","obj","filterCart","prev","ReactDOM","render","document","getElementById"],"mappings":"kTAceA,ICKHC,EDLGD,EAZf,SAA4BE,EAAQC,GAClC,IAAMC,EAAWC,kBAAO,GAExBC,qBAAU,WACJF,EAASG,QACXL,IAEAE,EAASG,SAAU,IAJd,YAMFJ,M,SCQGF,K,UAAAA,E,YAAAA,E,mBAAAA,M,KAML,IA+BMO,EAAe,SAACC,GAA+C,IAAhCC,EAA+B,uDAAZ,QAC7D,OAAO,IAAIC,KAAKC,aAAaF,GAAUG,OAAOJ,IASnCK,EAAgB,SAACC,GAC5B,IAAIC,EAAQ,EAEZ,IAAK,IAAMC,KAAOF,EAChBC,GAASD,EAAKE,GAAKR,MAAQM,EAAKE,GAAKC,IAGvC,OAAOF,GA2BIG,EAAW,SACtBC,EACAC,EACAN,GAEA,IAAIO,EAAW,GAOf,OALAA,EAAQ,eACHP,IAEIK,GAAMC,EAERC,GA4BIC,EAAgB,SAC3BF,GAEI,IAAD,EADHH,EACG,uDADW,EAERM,EAA2B,CAC/BJ,GAAIC,EAAQD,GACZK,KAAMJ,EAAQI,KACdC,IAAG,UAAEL,EAAQM,OAAO,GAAGC,WAApB,QAA2B,sCAC9BC,MAAOR,EAAQM,OAAO,GACtBlB,MAAOqB,WAAWT,EAAQZ,OAC1BS,MACAF,MAAOc,WAAWT,EAAQZ,OAASS,EACnCa,WAAYV,EAAQU,YAGtB,OAAOP,G,sBC/HMQ,EAlBwB,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,SAChD,OACE,eAAC,IAAD,WACGD,EAAOE,KAAI,SAACC,EAAOhB,GAAR,OACV,cAAC,IAAD,CAAOiB,KAAMD,EAAMC,KAAMC,MAAOF,EAAME,MAAtC,SACE,eAAC,IAAMC,SAAP,WACE,cAACC,EAAA,EAAD,UACE,gCAAQJ,EAAMK,UAEhB,cAACL,EAAMM,UAAP,QAL8CtB,MASpD,cAAC,IAAD,CAAUuB,GAAIT,QCrBPU,EAAUC,IAAMC,cAAc,MAC9BC,EAAcF,IAAMC,cAAc,MAClCE,EAAgBH,IAAMC,cAAc,MACpCG,EAAiBJ,IAAMC,cAAc,MCKnCI,EAPW,SAACC,GACzB,IAAMzC,EAAW0C,cACjB9C,qBAAU,WACR6C,EAAOzC,KACN,CAACA,EAAUyC,KCPD,MAA0B,gDCA1B,MAA0B,mCCA1B,MAA0B,uC,iBCwE1BE,EA3DsB,SAAC,GAAiB,IAAD,EAAdhC,EAAc,EAAdA,QAC9BiC,EAAkBC,qBAAWR,GAA7BO,cAER,OACE,qBAAKE,UAAU,sBAAf,SACE,sBAAKA,UAAU,2DAAf,UACE,qBAAKA,UAAU,QAAf,SACE,sBAAKA,UAAU,yBAAf,UACE,qBAAKA,UAAU,QAAf,SACE,qBACE5B,IAAG,UAAEP,EAAQQ,MAAMD,WAAhB,QAAuB,sCAC1B6B,IAAKpC,EAAQQ,MAAM4B,KAAOpC,EAAQQ,MAAMJ,KACxCiC,OAAQ,SAACC,GACP,IAAMC,EAASD,EAAEC,OACjBA,EAAOC,MAAMC,OAASC,iBAAiBH,GAAQI,OAEjDR,UAAU,2BAGd,qBAAKA,UAAU,QAAf,SACE,eAAC,IAAD,CACEA,UAAU,sBACVb,GAAE,mBAActB,EAAQD,IAF1B,UAIGC,EAAQI,KACRJ,EAAQH,IAAM,EAAd,aAAwBG,EAAQH,IAAhC,kBAA4C,eAKrD,qBAAKsC,UAAU,QAAf,SACE,sBAAKA,UAAU,uBAAf,UACE,mBACEA,UAAU,uBACVS,wBAAyB,CACvBC,OAAQC,IAAUC,SAAS/C,EAAQU,eAGvC,qBACEH,IAAKyC,EACLZ,IAAI,aACJD,UAAU,wBACVc,aAAc,SAACX,GACEA,EAAEC,OACVW,aAAa,MAAOC,IAE7BC,aAAc,SAACd,GACEA,EAAEC,OACVW,aAAa,MAAOF,IAE7BK,QAAS,kBAAMpB,EAAc,GAAD,OAAIjC,EAAQD,mBCKvCuD,EAzDI,WACjB,MAAwBC,mBAAS,KAAjC,mBAAOvC,EAAP,KAAawC,EAAb,KACA,EAAgCD,oBAAS,GAAzC,mBAAOE,EAAP,KAAiBC,EAAjB,KACA,EACExB,qBAAWR,GADLiC,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,YAAaC,EAA9B,EAA8BA,UAe9B,OAZAhC,GAAkB,SAACxC,GACjBmE,EACwB,MAAtBnE,EAASyE,SACLzE,EAASyE,SAASC,MAAM,KAAKC,QAAO,SAACC,GAAD,MAAmB,KAATA,KAAa,GAC3D,QAIRhF,qBAAU,WACRyE,EAAYQ,QAASN,EAAc,GAAgB,SAAT5C,MACzC,CAACA,EAAM4C,IAGR,sBAAKzB,UAAU,eAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,qBAAK5B,IAAK4D,EAAgB/B,IAAI,OAAOD,UAAU,sBAC/C,8BACGyB,EAAc,EACb,eAAC,IAAD,CAAMtC,GAAG,SAASa,UAAU,oBAA5B,uDACU,OAGV,8CAEDsB,EACC,sBAAMtB,UAAU,2BAAhB,SAA4CyB,IAC1C,WAGPH,EACC,sBAAKtB,UAAU,uBAAf,UACE,qBAAKA,UAAU,iBAAf,SACGiC,OAAOC,KAAKV,GAAS7C,KAAI,SAAClB,GAAD,OACxB,cAAC,EAAD,CAAgBI,QAAS2D,EAAQ/D,IAAWA,QAGhD,qBAAKuC,UAAU,uBAAf,SACE,oBAAIA,UAAU,mBAEhB,sBAAKA,UAAU,cAAf,UACE,sBAAMA,UAAU,mBAAhB,6CACA,uBAAMA,UAAU,oBAAhB,UACGhD,EAAa0E,GADhB,mBAKF,SC7CKS,EAfA,WACb,OACE,wBAAQnC,UAAU,SAAlB,SACE,qBAAKA,UAAU,YAAf,SACE,sBAAKA,UAAU,iCAAf,UACE,cAAC,IAAD,CAAMb,GAAG,WAAWa,UAAU,gBAA9B,6BAGA,cAAC,EAAD,Y,sCCsBKoC,EAxBa,SAACC,GAC3B,MAAgCjB,oBAAS,GAAzC,mBAAOkB,EAAP,KAAkBC,EAAlB,KACA,EAA4BnB,mBAAiB,CAC3CoB,QAAQ,EACRC,QAAS,KAFX,mBAAOC,EAAP,KAAgBC,EAAhB,KAKMC,EAAQ,uCAAG,sBAAAC,EAAA,sEAEbN,GAAW,GAFE,SAGPF,IAHO,sDAKbM,EAAS,CACPH,QAAQ,EACRC,QAAS,KAAEA,UAPA,uBAUbF,GAAW,GAVE,0EAAH,qDAcd,MAAO,CAACK,EAAUN,EAAWI,ICrBhBI,EAPD,I,MAAIC,GAAmB,CACnCC,IAAK,uBACLC,YAAa,8CACbC,eAAgB,8CAChBC,QAAS,UCEIC,EARA,kBACb,qBAAKpD,UAAU,kBAAf,SACE,qBAAKA,UAAU,8BAA8BqD,KAAK,SAAlD,SACE,sBAAMrD,UAAU,kBAAhB,6BC2HSsD,EAnHQ,WAAO,IAAD,EAE3B,EAA0CvD,qBAAWR,GAA7CiC,EAAR,EAAQA,QAAS+B,EAAjB,EAAiBA,UAAWC,EAA5B,EAA4BA,UAEpB5F,EAAO6F,cAAP7F,GAER,EAA8BwD,mBAAS,MAAvC,mBAAOvD,EAAP,KAAgB6F,EAAhB,KACA,EAAsBtC,mBAAS,GAA/B,mBAAO1D,EAAP,KAAYiG,EAAZ,KACA,EAA4BvC,oBAAS,GAArC,mBAAOwC,EAAP,KAAeC,EAAf,KAEA,EAA8BzB,EAAQ,sBAAC,8BAAAS,EAAA,sEACiBC,EAAMgB,IAAN,mBACxClG,IAFuB,gBAC7BmG,EAD6B,EAC7BA,KAGRL,EAAWK,GAJ0B,4CAAvC,mBAAOnB,EAAP,KAAiBN,EAAjB,KAmBA,OAZAxF,qBAAU,kBAAM8F,MAAY,CAAChF,IAE7BpB,GAAmB,WACboH,GAAQL,EAAU3F,EAAIF,KACzB,CAACA,IAEJZ,qBAAU,WACR,IAAMkH,EAAW/B,OAAOC,KAAKV,GACzBwC,EAASC,QAAUD,EAASE,SAAStG,IAAK+F,EAAOnC,EAAQ5D,GAAIF,KACjEmG,EAAUG,EAASE,SAAStG,MAC3B,CAAC4D,EAAS5D,IAGX,cAAC,IAAMmB,SAAP,UACIuD,GAAyB,OAAZzE,EA8Eb,cAAC,EAAD,IA7EA,eAAC,IAAMkB,SAAP,WACE,qBAAKiB,UAAU,kBAAf,SACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,QAAf,SACE,qBAAKA,UAAU,gBAAf,SACE,mBACEmE,KAAMtG,EAAQM,OAAO,GAAGC,IACxBgC,OAAO,SACPgE,IAAI,aACJ/D,MAAO,CAAEgE,QAAS,SAJpB,SAME,qBACEjG,IAAG,UACDP,EAAQM,OAAO,GAAGC,WADjB,QAED,sCAEF6B,IAAKpC,EAAQM,OAAO,GAAG8B,KAAOpC,EAAQM,OAAO,GAAGF,aAKxD,qBAAK+B,UAAU,QAAf,SACE,sBAAKA,UAAU,eAAf,UACE,mBAAGA,UAAU,eAAb,SAA6BnC,EAAQI,OACrC,mBACE+B,UAAU,gBACVS,wBAAyB,CACvBC,OAAQC,IAAUC,SAAS/C,EAAQU,eAGvC,sBAAKyB,UAAU,oBAAf,UACE,uBACEsE,KAAK,SACLtE,UAAU,2BACVuE,MAAO7G,EACP8G,SAAU,SAACrE,GAAD,OAAOwD,EAAOc,SAAStE,EAAEC,OAAOmE,WAE3CX,EACC,sBAAM5D,UAAU,2BAAhB,sEAIA,sBACEA,UAAU,gBACVkB,QAAS,WACPsC,EAAU3F,EAASH,GACnBmG,GAAU,IAJd,kEAWJ,wFACa,IACX,sBAAM7D,UAAU,qBAAhB,SACGnC,EAAQ6G,WAAW/F,KAAI,SAACmD,EAAM6C,GAC7B,OAAOA,EAAM,IAAM9G,EAAQ6G,WAAWT,OAA/B,UACAnC,EAAK7D,KADL,gBAEA6D,EAAK7D,wBAQzBJ,EAAQ+G,YACP,qBAAK5E,UAAU,kBAAf,SACE,qBACEA,UAAU,sBACVS,wBAAyB,CAAEC,OAAQ7C,EAAQ+G,iBAG7C,WChFCC,EAhCI,WACjB,OACE,sBAAK7E,UAAU,oCAAf,UACE,8BACE,sBAAMA,UAAU,mBAAhB,SACE,qBAAK5B,ICVA,y1DDUW6B,IAAI,iBAGtB,mBAAGkE,KAAK,mBAAR,kCAEF,8BACE,sBAAMnE,UAAU,mBAAhB,SACE,qBAAK5B,IEjBA,iwCFiBe6B,IAAI,eAG1B,mBAAGkE,KAAK,4BAA4B/D,OAAO,SAASgE,IAAI,aAAxD,kCAIF,8BACE,sBAAMpE,UAAU,mBAAhB,SACE,qBAAK5B,IG1BA,i4CH0BY6B,IAAI,YAGvB,mBAAGkE,KAAK,4BAA4B/D,OAAO,SAASgE,IAAI,aAAxD,uCIZOU,EAfG,WAChB,OACE,qBAAK9E,UAAU,aAAf,SACE,oBAAIA,UAAU,mBAAd,SACE,oBAAIA,UAAU,mBAAd,SACE,cAAC,IAAD,CAAMb,GAAG,YAAT,+DCSK4F,EAbC,WACd,OACE,sBAAK/E,UAAU,kBAAf,UACE,qBAAKA,UAAU,gBAAf,SACE,cAAC,EAAD,MAEF,qBAAKA,UAAU,gBAAf,SACE,cAAC,EAAD,UCQOgF,EAfC,WACd,OACE,qBAAKhF,UAAU,YAAf,SACE,sBAAKA,UAAU,4BAAf,UACE,qBAAKA,UAAU,QAAf,SACE,cAAC,EAAD,MAEF,qBAAKA,UAAU,uBAAf,SACE,cAAC,EAAD,YCqEKiF,EA/De,SAAC,GAAiB,IAAD,EAAdpH,EAAc,EAAdA,QAC/B,EAAsBuD,mBAASvD,EAAQH,KAAvC,mBAAOA,EAAP,KAAYiG,EAAZ,KACA,EACE5D,qBAAWR,GADLO,EAAR,EAAQA,cAAeyD,EAAvB,EAAuBA,UAOvB,OAJAzG,qBAAU,WACRyG,EAAU,GAAD,OAAI1F,EAAQD,IAAMF,KAC1B,CAACA,IAGF,+BACE,oBAAIsC,UAAU,oBAAd,SACE,qBACE5B,IAAG,UAAEP,EAAQQ,MAAMD,WAAhB,QAAuB,sCAC1B6B,IAAKpC,EAAQQ,MAAM4B,KAAOpC,EAAQQ,MAAMJ,KACxCiC,OAAQ,SAACC,GACP,IAAMC,EAASD,EAAEC,OACjBA,EAAOC,MAAMC,OAASC,iBAAiBH,GAAQI,WAIrD,oBAAIR,UAAU,qBAAd,SACE,cAAC,IAAD,CAAMb,GAAE,mBAActB,EAAQD,IAA9B,SAAqCC,EAAQI,SAE/C,oBACE+B,UAAU,sBACVS,wBAAyB,CACvBC,OAAQC,IAAUC,SAAS/C,EAAQU,eAGvC,oBAAIyB,UAAU,oBAAd,SACE,uBACEsE,KAAK,SACLtE,UAAU,eACVkF,IAAI,IACJC,IAAI,KACJZ,MAAO7G,EACP8G,SAAU,SAACrE,GAAD,OAAOwD,EAAOc,SAAStE,EAAEC,OAAOmE,aAG9C,qBAAIvE,UAAU,sBAAd,UACGhD,EAAaa,EAAQL,OACrB,aAEH,oBAAIwC,UAAU,uBAAd,SACE,qBACE5B,IAAKgH,EACLnF,IAAI,gBACJiB,QAAS,kBAAMpB,EAAc,GAAD,OAAIjC,EAAQD,MACxCkD,aAAc,SAACX,GACEA,EAAEC,OACVW,aAAa,MAAOsE,IAE7BpE,aAAc,SAACd,GACEA,EAAEC,OACVW,aAAa,MAAOqE,YCjEjCE,EAAW,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAE/CC,EAAW,kBACf,mCACGD,EAAS3G,KAAI,SAACmD,EAAM6C,GAAP,OACZ,qBAAKtE,MAAO,CAAEG,MAAOsB,IAAa6C,SAKlCa,EAAQ,kBACZ,uBAAOxF,UAAU,qBAAjB,SACE,+BACE,0DACA,+IACA,0DACA,iEACA,wFACA,4CAKAyF,EAAQ,SAAC,GAAD,IAAGjE,EAAH,EAAGA,QAAH,OACZ,uBAAOxB,UAAU,qBAAjB,SACGiC,OAAOC,KAAKV,GAASyC,OAClBhC,OAAOC,KAAKV,GAAS7C,KAAI,SAAClB,EAAKkH,GAAN,OACvB,cAAC,EAAD,CAAU9G,QAAS2D,EAAQ/D,IAAWA,MAExC,QAIFiI,EAAQ,SAAC,GAAD,IAAGhE,EAAH,EAAGA,UAAH,OACZ,uBAAO1B,UAAU,qBAAjB,SACE,qBAAIA,UAAU,uBAAd,UACE,oBAAI2F,QAAS,EAAb,6CACA,+BACG3I,EAAa0E,GACb,aAEH,4CA+BSkE,EA1BF,WACX,MAA+B7F,qBAAWR,GAAlCiC,EAAR,EAAQA,QAASE,EAAjB,EAAiBA,UAEjB,OACE,qBAAK1B,UAAU,YAAf,SACE,sBAAKA,UAAU,6BAAf,UACE,qBAAKA,UAAU,QAAf,SACE,cAAC,EAAD,MAEF,qBAAKA,UAAU,2BAA2BK,MAAO,CAAEwF,IAAK,UAAxD,SAEE,yBAAS7F,UAAU,gBAAnB,SACE,wBAAOA,UAAU,gBAAjB,UACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,CAAOwB,QAASA,IAChB,cAAC,EAAD,CAAOE,UAAWA,iBCNjBoE,EArDkB,SAAC,GAAiB,IAAD,EAAdjI,EAAc,EAAdA,QAClC,EAA4BuD,oBAAS,GAArC,mBAAOwC,EAAP,KAAeC,EAAf,KACA,EAA+B9D,qBAAWR,GAAlCiC,EAAR,EAAQA,QAASgC,EAAjB,EAAiBA,UACTuC,EAASC,cAATD,KAMR,OAJAjJ,qBAAU,WACR+G,EAAU5B,OAAOC,KAAKV,GAAS0C,SAAS+B,OAAOpI,EAAQD,QACtD,CAAC4D,EAAS3D,EAAQD,KAGnB,qBAAKoC,UAAU,8CAAf,SACE,sBAAKA,UAAU,mBAAf,UACE,qBACE5B,IAAG,UAAEP,EAAQM,OAAO,GAAGC,WAApB,QAA2B,sCAC9B6B,IAAKpC,EAAQM,OAAO,GAAG8B,KAAOpC,EAAQM,OAAO,GAAGF,KAChDiC,OAAQ,SAACC,GACP,IAAMC,EAASD,EAAEC,OACjBA,EAAOC,MAAMC,OAASC,iBAAiBH,GAAQI,SAGnD,sBAAKR,UAAU,gBAAf,UACE,mBACEA,UAAU,gBACVkB,QAAS,kBAAM6E,EAAK,YAAD,OAAalI,EAAQD,MAF1C,SAIGC,EAAQI,OAEX,mBACE+B,UAAU,gBACVS,wBAAyB,CACvBC,OAAQC,IAAUC,SAAS/C,EAAQU,eAItCqF,EACC,sBAAM5D,UAAU,2BAAhB,sEAEA,sBACEA,UAAU,gBACVkB,QAAS,WACPsC,EAAU3F,GACVgG,GAAU,IAJd,wECvBGqC,EAnBK,WAClB,IAAQC,EAAiDpG,qBAAWX,GAA5D+G,SAER,OACE,qBAAKnG,UAAU,MAAMK,MAAO,CAAEwF,IAAK,UAAnC,SACGM,EAASlC,OACRkC,EAASxH,KAAI,SAACd,GACZ,OAAO,cAAC,EAAD,CAA8BA,QAASA,GAArBA,EAAQD,OAGnC,mBAAGoC,UAAU,qBAAb,6cC6COoG,GAlDK,WAClB,MAAgChF,mBAAS,GAAzC,mBAAOiF,EAAP,KAAiBC,EAAjB,KACA,EAAgClF,mBAAS,GAAzC,mBAAOmF,EAAP,KAAiBC,EAAjB,KACA,EAAwCpF,mBAAS,GAAjD,mBAAOqF,EAAP,KAAqBC,EAArB,KACA,EAAoC3G,qBAAWP,GAAvCmH,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,YACZC,EAAa9G,qBAAWX,GAAxByH,SAER/J,qBAAU,WACR,GAAI8J,EAAY3C,OAAQ,CACtB,IAAM6C,EzBmHgB,SAACC,GAC3B,IAAIC,EAAmB,GAEvB,OADAA,EAAOjB,KAAP,MAAAiB,EAAM,YAASD,EAAapI,KAAI,SAACd,GAAD,OAAa4G,SAAS5G,EAAQZ,YACvD,CAACgK,KAAK/B,IAAL,MAAA+B,KAAYD,GAASC,KAAK9B,IAAL,MAAA8B,KAAYD,IyBtHrBE,CAAaN,GAE7BN,EAAYQ,EAAQ,IACpBN,EAAYM,EAAQ,IACpBH,EAAWG,EAAQ,IACnBJ,EAAgBI,EAAQ,OAEzB,CAACD,EAAUD,IAWd,OACE,sBAAK5G,UAAU,qBAAf,UACE,mBAAGA,UAAU,qBAAb,oEACA,sBAAKA,UAAU,uBAAf,UACE,uBACEsE,KAAK,QACLtE,UAAU,aACVkF,IAAKmB,EACLlB,IAAKoB,EACLhC,MAAOkC,EACPU,KAAK,KACLC,QApBe,SAACjH,GACtBuG,EAAgBjC,SAAStE,EAAEC,OAAOmE,SAoB5B8C,UAjBiB,SAAClH,GACxB,IAAMC,EAASD,EAAEC,OACjBuG,EAAWlC,SAASrE,EAAOmE,WAiBvB,oBAAGvE,UAAU,uBAAb,uCACQ,sBAAMA,UAAU,WAAhB,SAA4BqG,IADpC,iBACyD,IACvD,sBAAMrG,UAAU,WAAhB,SAA4ByG,IAF9B,oBCjBOa,GA9BQ,WACrB,IAAQ5C,EACN3E,qBAAWX,GADLsF,WAER,EAAkC3E,qBAAWP,GAArCqH,EAAR,EAAQA,SAAUU,EAAlB,EAAkBA,YAElB,OACE,sBAAKvH,UAAU,qBAAf,UACE,mBAAGA,UAAU,qBAAb,oEACA,qBAAKA,UAAU,uBAAf,SACE,yBACEA,UAAU,cACVuE,MAAOsC,EACPrC,SAAU,SAACrE,GAAD,OAAOoH,EAAY9C,SAAStE,EAAEC,OAAOmE,SAHjD,UAKE,wBAAQA,OAAQ,EAAhB,+GACCG,EAAW/F,KAAI,SAACkI,GACf,OACqB,IAAnBA,EAASW,OACP,wBAAQjD,MAAOsC,EAASjJ,GAAxB,SACGiJ,EAAS5I,MADqB4I,EAASjJ,gBCK3C6J,GAxBO,WACpB,MAAgC1H,qBAAWP,GAAnCkI,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,WAGjB,OAFqB5H,qBAAWX,GAAxB+G,SAEKlC,OAAS,EAAU,KAG9B,sBAAKjE,UAAU,qBAAf,UACE,mBAAGA,UAAU,qBAAb,0EACA,qBAAKA,UAAU,uBAAf,SACE,yBACEA,UAAU,cACVuE,MAAOmD,EACPlD,SAAU,SAACrE,GAAD,OAAOwH,EAAWxH,EAAEC,OAAOmE,QAHvC,UAKE,wBAAQA,MAAM,UAAd,iFACA,wBAAQA,MAAM,MAAd,6FACA,wBAAQA,MAAM,OAAd,oFCKKqD,GArBM,WACnB,MAAwC7H,qBAAWP,GAA3CqI,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,eAErB,OACE,sBAAK9H,UAAU,qBAAf,UACE,mBAAGA,UAAU,qBAAb,4CACA,qBAAKA,UAAU,uBAAf,SACE,uBACEsE,KAAK,OACLtE,UAAU,eACVuE,MAAOsD,EACPT,QAAS,SAACjH,GAAD,OACP2H,EAAe3H,EAAEC,OAAOmE,QAE1BwD,YAAY,0FCCPC,GAhBK,WAClB,MAAoDjI,qBAAWP,GAAvD+H,EAAR,EAAQA,YAAaI,EAArB,EAAqBA,WAAYG,EAAjC,EAAiCA,eAE3BE,EAAc,WAClBT,GAAa,GACbI,EAAW,WACXG,EAAe,KAGjB,OACE,wBAAQ9H,UAAU,kBAAkBkB,QAAS8G,EAA7C,+DCOWC,I,OAZQ,WACrB,OACE,sBAAKjI,UAAU,eAAf,UACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,SCPOkI,GAA8B,SAACrB,EAAUV,GACpD,IAAMS,EAAcuB,mBAAQ,WAC1B,O/BN0B,WAGxB,IAFJtB,EAEG,wDAFiB,EACpBV,EACG,uCACH,OAAqB,IAAdU,EACHV,EACAA,EAAStE,QAAO,SAACC,GAAD,OACdA,EAAK4C,WAAW0D,MAAK,SAACC,GAAD,OAASA,EAAIzK,KAAOiJ,Q+BDtCyB,CAAezB,EAAD,YAAeV,MACnC,CAACU,EAAUV,IAEd,OAAOS,GAGI2B,GAA0B,SAACC,EAASrC,GAC/C,IAAMsC,EAAeN,mBAAQ,WAC3B,OAAmB,IAAZK,E/BHe,SAACE,EAAcvC,GACvC,OAAOA,EAAStE,QAAO,SAACC,GAAD,OAAUxD,WAAWwD,EAAK7E,QAAUyL,K+BElCC,CAAWH,EAAD,YAAcrC,IAAaA,IAC3D,CAACqC,EAASrC,IAEb,OAAOsC,GAGIG,GAA6B,SAAClB,EAASvB,GAClD,IAAM0C,EAAkBV,mBAAQ,WAC9B,O/BDyB,SAC3BT,EACAvB,GAEA,MAAgB,YAAZuB,EAA8BvB,EAE3BA,EAAS2C,MAAK,SAACjG,EAAGkG,GACvB,MAAgB,QAAZrB,EAA0BpJ,WAAWuE,EAAE5F,OAASqB,WAAWyK,EAAE9L,OACjD,SAAZyK,EAA2BpJ,WAAWyK,EAAE9L,OAASqB,WAAWuE,EAAE5F,OACtD,Q+BRL+L,CAActB,EAAD,YAAcvB,MACjC,CAACuB,EAASvB,IAEb,OAAO0C,GAYII,GAAc,SAACpC,EAAU2B,EAASd,EAASwB,EAAO/C,GAC7D,IAAMgD,EAAajB,GAA4BrB,EAAUV,GACnDiD,EAAYb,GAAwBC,EAASW,GAE7CE,EAbiC,SAACH,EAAO/C,GAC/C,IAAMmD,EAAenB,mBAAQ,WAC3B,O/BWyB,SAC3Be,EACA/C,GAEA,MAAiB,KAAV+C,EACH/C,EAAStE,QAAO,SAAC0H,GAAD,OACdA,EAAKtL,KAAKuL,cAActF,SAASgF,EAAMM,cAAcC,WAEvDtD,E+BnBKuD,CAAcR,EAAD,YAAY/C,MAC/B,CAAC+C,EAAO/C,IAEX,OAAOmD,EAQUK,CAA0BT,EADzBN,GAA2BlB,EAAS0B,IAGtD,OAAOC,G,SClBMO,GApBqB,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,KAAMrM,EAAqB,EAArBA,MAAOsM,EAAc,EAAdA,QAClD,GAAc,IAAVtM,EAAa,OAAO,KAExB,IAAMuM,EhC+GuB,SAC7BC,EACA7K,GAEc,IADdgI,EACa,uDADE,EAEf,OAAO8C,MAAMD,KACX,CAAE/F,QAAS9E,EAAK6K,GAAQ7C,EAAO,IAC/B,SAAC+C,EAAGC,GAAJ,OAAUH,EAAOG,EAAIhD,KgCtHViD,CAAgB,EAAG5M,GAEhC,OACE,qBAAKwC,UAAU,kBAAf,SACG+J,EAAKpL,KAAI,SAACmD,GAAD,OACR,sBACE9B,UAAS,yBAAoB8B,IAAS+H,EAAO,gBAAkB,IAC/D3I,QAAS,kBAAM4I,EAAQhI,IAFzB,SAKGA,GAFIA,S,sCChBMuI,G,2IACnB,WACEhI,GADF,6FAIQqC,EAAqC,GACrC4F,EAAa,EAEXC,EAPV,uCAO4B,gDAAA1H,EAAA,6DAAOgH,EAAP,+BAAc,EAAd,SAIoC/G,EAAMgB,IAC9D,sBACA,CACE+F,SAPkB,gBAEpB9F,EAFoB,EAEpBA,KACAyG,EAHoB,EAGpBA,QAQF9F,EAAU,sBAAOA,GAAP,YAAsBX,IAChCuG,EAAU,UAAG7F,SAAS+F,EAAQ,2BAApB,QAA2C,EAEjDX,EAAOS,EACTC,EAAgBV,EAAO,GAEvBxH,EAASqC,GAjBW,2CAP5B,8DA4BU6F,IA5BV,6DA8BUpK,EA9BV,KA+BIsK,QAAQC,MAAMvK,EAAEsC,SACV,IAAIkI,MAAMxK,EAAEsC,SAhCtB,yD,kFAwDA,SAAqBmI,Q,KAzDFP,GAqCZQ,Y,sBAAc,0CAAAhI,EAAA,sDACfsD,EAAW,GACX0D,EAAO,EACPiB,GAAS,EAHM,WAKZA,EALY,iCAMeC,KAAMjH,IACpC,uDAAyD+F,GAP1C,gBAMTW,EANS,EAMTA,QAASzG,EANA,EAMAA,KAIjBoC,EAAQ,sBAAOA,GAAP,YAAoBpC,IACtBvG,EAXW,UAWHgN,EAAQ,0BAXL,QAW2B,EAE5CM,EAASjB,EAAOrM,EAChBqM,IAdiB,gDAiBZ1D,GAjBY,4CArCFkE,GA2DZW,e,uCAAiB,WAAOpN,GAAP,eAAAiF,EAAA,sEACJkI,KAAMjH,IACtB,2DAA6DlG,GAFzC,cAChBqN,EADgB,yBAKfA,EAAIlH,KAAK,IALM,2C,sDC7C1B,ICQetF,GArBU,CACvB,CACEI,KAAM,WACNK,UDUY,WAEd,IAAQgM,EAAqBnL,qBAAWN,GAAhCyL,iBAER,EAAgCC,6BAAwC,IAAxE,mBAAOhF,EAAP,KAAiBiF,EAAjB,KACA,EAAoCD,6BAClC,IADF,mBAAOzG,EAAP,KAAmB2G,EAAnB,KAGA,EAAgCjK,oBAAU,GAA1C,mBAAOyF,EAAP,KAAiBU,EAAjB,KACA,EAA8BnG,mBAAS,GAAvC,mBAAOoH,EAAP,KAAgB7B,EAAhB,KACA,EAA8BvF,mBAAS,WAAvC,mBAAOsG,EAAP,KAAgBC,EAAhB,KACA,EAAsCvG,mBAAS,IAA/C,mBAAOyG,EAAP,KAAoBC,EAApB,KACA,EAAgB1G,mBAAS,IAAlBwJ,EAAP,oBACA,EAAwBxJ,mBAAS,GAAjC,mBAAOyI,EAAP,KAAaC,EAAb,KACA,EAA0B1I,mBAAS,GAAnC,mBAAO5D,EAAP,KAAc8N,EAAd,KAEA,EAA0ClJ,EAAQ,sBAAC,gCAAAS,EAAA,sEACjBC,EAAMgB,IAAI,WAAY,CAAEyH,SAAUX,EAAOf,SADxB,gBACzC9F,EADyC,EACzCA,KAAMyG,EADmC,EACnCA,QACdY,EAAYrH,GACZuH,EAAS7G,SAAS+F,EAAQ,qBAHuB,4CAAnD,mBAAOgB,EAAP,KAAsBlJ,EAAtB,KAAiCoI,EAAjC,KAMM9D,EAAcsB,GAA4BrB,EAAUV,GACpDmD,EAAeL,GACnBpC,EACA2B,EACAd,EACAG,EACA1B,GAoBF,OAhBArJ,qBAAU,WACR0O,IAEAnB,GAAeoB,eAAc,SAAC1H,GAC5BsH,EAActH,QAGf,CAAC8F,IAEJ/M,qBAAU,WACJqJ,EAASlC,QACXiH,EAAiB/E,KAGlB,CAACA,IAGF,cAAC/G,EAAQsM,SAAT,CAAkBnH,MAAO,CAAE4B,SAAUmD,EAAc5E,aAAYmC,YAA/D,SACE,qBAAK7G,UAAU,YAAf,SACE,sBAAKA,UAAU,2CAAf,UACE,uBAAOA,UAAU,iDAAjB,SACE,cAACR,EAAckM,SAAf,CACEnH,MAAO,CACLsC,WACAa,UACAc,UACAX,cACAjB,cACAW,cACAI,aACAhB,aACAmB,kBAVJ,SAaE,cAAC,GAAD,QAGJ,yBAAS9H,UAAU,sDAAnB,SACI0K,EAAMlI,OAcN,6KAAkCkI,EAAMjI,WAbxCH,EACE,cAAC,EAAD,IAEA,qCACE,cAAC,EAAD,IACA,cAAC,GAAD,CACEuH,KAAMA,EACNrM,MAAOA,EACPsM,QAAS,SAACD,GAAD,OAAkBC,EAAQD,mBCxFnD/K,OAAO,EACPG,MAAO,gEAET,CACEJ,KAAM,eACNK,UAAW8F,EACXlG,OAAO,EACPG,MAAO,mBAET,CACEJ,KAAM,SACNK,UAAW0G,EACX9G,OAAO,EACPG,MAAO,4GCFI0M,GAlBG,WAChB,MAA8BvK,oBAAS,GAAvC,mBAAOwK,EAAP,KAAgBC,EAAhB,KAEA,OAAKD,EAGH,sBAAK5L,UAAU,eAAf,UACE,sBAAMA,UAAU,oBAAhB,8oBAIA,sBAAMA,UAAU,qBAAqBkB,QAAS,kBAAM2K,GAAW,IAA/D,qBARiB,MCsFRC,GA3EH,WACV,MAA0C1K,mBAAS,IAAnD,mBAAO2K,EAAP,KAAsBb,EAAtB,KACA,EAA8B9J,mBAAS,IAAvC,mBAAOI,EAAP,KAAgBwK,EAAhB,KACA,EAAsC5K,mBAAS,GAA/C,mBAAOK,EAAP,KAAoBwK,EAApB,KACA,EAAkC7K,mBAAS,GAA3C,mBAAOM,EAAP,KAAkBwK,EAAlB,KAGApP,qBAAU,WACR,GAAwC,OAApCqP,aAAaC,QAAQ,WAAqB,CAC5C,IAAMC,EAAYC,KAAKC,MAAMJ,aAAaC,QAAQ,YAEZ,IAAlCnK,OAAOC,KAAKmK,GAAWpI,SACzB+H,EAAWK,GACXJ,EAAehK,OAAOC,KAAKmK,GAAWpI,QACtCiI,EAAa5O,EAAc+O,QAG9B,IAGH7P,GAAmB,WACjB2P,aAAaK,QAAQ,UAAWF,KAAKG,UAAUjL,IAC/CyK,EAAehK,OAAOC,KAAKV,GAASyC,QACpCiI,EAAa5O,EAAckE,MAC1B,CAACA,IA6BJ,OACE,cAAC,IAAD,UACE,cAAC/B,EAAeiM,SAAhB,CAAyBnH,MAAO,CAAEwH,gBAAeb,oBAAjD,SACE,eAAC3L,EAAYmM,SAAb,CACEnH,MAAO,CACL/C,UACAC,cACAC,YACA5B,cAjCY,SAAClC,GACrBoO,ErCsCsB,SAACpO,EAAY8O,GACrC,OAAOzK,OAAOC,KAAKwK,GAChB7K,QAAO,SAACpE,GAAD,OAASA,IAAQG,KACxB+O,QAAO,SAACC,EAAKnP,GAEZ,OADAmP,EAAInP,GAAOiP,EAASjP,GACbmP,IACN,IqC5CQC,CAAWjP,EAAI4D,KAiClB+B,UAxBQ,SAAC3F,EAAYF,GAC7B,IAAMiB,EAAG,2BACJ6C,EAAQ5D,IADJ,IAEPF,IAAKA,EACLF,MAAOgE,EAAQ5D,GAAIX,MAAQS,IAG7BsO,GAAW,SAACc,GAAD,OAAUnP,EAASC,EAAIe,EAAKmO,OAkB/BtJ,UAfQ,SAAC3F,GAAmC,IAArBH,EAAoB,uDAAN,EACvCiB,EAAMZ,EAAcF,EAASH,GACnCsO,GAAW,SAACc,GAAD,OAAUnP,EAASE,EAAQD,GAAIe,EAAKmO,QAM3C,UAUE,cAAC,EAAD,IACA,cAAC,EAAD,CAAYrO,OAAQA,GAAQC,SAAS,aACrC,cAAC,GAAD,YCjFVqO,IAASC,OAAO,cAAC,GAAD,IAASC,SAASC,eAAe,U","file":"static/js/main.c8bdf5f3.chunk.js","sourcesContent":["import { useRef, useEffect } from \"react\";\r\n\r\nfunction useDidUpdateEffect(effect, deps) {\r\n  const didMount = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (didMount.current) {\r\n      effect();\r\n    } else {\r\n      didMount.current = true;\r\n    }\r\n  }, [...deps]); // eslint-disable-line react-hooks/exhaustive-deps\r\n}\r\n\r\nexport default useDidUpdateEffect;\r\n","import { ICartShop } from \"./types/types\";\r\nimport { IMapProduct } from \"./types/types\";\r\nimport { WC_REST_API_Product, WC_REST_API_Products } from \"./types/wc-types\";\r\n\r\nexport const sortByCategory = (\r\n  category: number = -1,\r\n  products: WC_REST_API_Products\r\n) => {\r\n  return category === -1\r\n    ? products\r\n    : products.filter((item) =>\r\n        item.categories.some((cat) => cat.id === category)\r\n      );\r\n};\r\n\r\nexport const sortByCost = (cost: number, products: WC_REST_API_Products) => {\r\n  return products.filter((item) => parseFloat(item.price) <= cost);\r\n};\r\n\r\nexport enum OrderbyEnum {\r\n  asc = \"asc\",\r\n  desc = \"desc\",\r\n  default = \"default\",\r\n}\r\n\r\nexport const sortByOrderby = (\r\n  orderby: OrderbyEnum,\r\n  products: WC_REST_API_Products\r\n) => {\r\n  if (orderby === \"default\") return products;\r\n\r\n  return products.sort((a, b) => {\r\n    if (orderby === \"asc\") return parseFloat(a.price) - parseFloat(b.price);\r\n    if (orderby === \"desc\") return parseFloat(b.price) - parseFloat(a.price);\r\n    else return null;\r\n  });\r\n};\r\n\r\n/**\r\n * Filtering products by search query\r\n *\r\n * @param { string } query search query\r\n * @param { WC_REST_API_Products } products list of products\r\n * @returns { WC_REST_API_Products } filtered list of products\r\n */\r\nexport const searchByQuery = (\r\n  query: string,\r\n  products: WC_REST_API_Products\r\n) => {\r\n  return query !== \"\"\r\n    ? products.filter((post) =>\r\n        post.name.toLowerCase().includes(query.toLowerCase().trim())\r\n      )\r\n    : products;\r\n};\r\n\r\nexport const price_format = (price: number, location: string = \"ru-RU\") => {\r\n  return new Intl.NumberFormat(location).format(price);\r\n};\r\n\r\n/**\r\n * Calculation of the total cost of the goods, taking into account its quantity\r\n *\r\n * @param { ICartShop } cart\r\n * @returns { number } the total amount, taking into account the number of goods and its price\r\n */\r\nexport const calcTotalCart = (cart: ICartShop): number => {\r\n  let total = 0;\r\n\r\n  for (const key in cart) {\r\n    total += cart[key].price * cart[key].qty;\r\n  }\r\n\r\n  return total;\r\n};\r\n\r\n/**\r\n * Deleting an item from the shopping cart by ID\r\n *\r\n * @param { string } id id of the item being deleted from the cart\r\n * @param { ICartShop } cartList shopping cart with goods\r\n * @returns { ICartShop } filtered shopping cart of goods\r\n */\r\nexport const filterCart = (id: string, cartList: ICartShop): ICartShop => {\r\n  return Object.keys(cartList)\r\n    .filter((key) => key !== id)\r\n    .reduce((obj, key) => {\r\n      obj[key] = cartList[key];\r\n      return obj;\r\n    }, {});\r\n};\r\n\r\n/**\r\n * Adding a new product to the shopping cart\r\n *\r\n * @param { string } id\r\n * @param { IMapProduct } product\r\n * @param { ICartShop } cart\r\n * @returns { ICartShop } new cart\r\n */\r\nexport const pushCart = (\r\n  id: string,\r\n  product: IMapProduct,\r\n  cart: ICartShop\r\n): ICartShop => {\r\n  let new_cart = {};\r\n\r\n  new_cart = {\r\n    ...cart,\r\n  };\r\n  new_cart[id] = product;\r\n\r\n  return new_cart;\r\n};\r\n\r\n/**\r\n * Filling an array with numbers\r\n *\r\n * @param { number } from the number from which the filling begins\r\n * @param { number } to the end of filling the array\r\n * @param { number } step step between filling numbers\r\n * @returns { number[] } array of numbers\r\n */\r\nexport const fillArrayFromTo = (\r\n  from: number,\r\n  to: number,\r\n  step: number = 1\r\n): number[] => {\r\n  return Array.from(\r\n    { length: (to - from) / step + 1 },\r\n    (_, i) => from + i * step\r\n  );\r\n};\r\n\r\nexport const calc_min_max = (productsList: WC_REST_API_Products) => {\r\n  let prices: number[] = [];\r\n  prices.push(...productsList.map((product) => parseInt(product.price)));\r\n  return [Math.min(...prices), Math.max(...prices)];\r\n};\r\n\r\nexport const getMapProduct = (\r\n  product: WC_REST_API_Product,\r\n  qty: number = 1\r\n) => {\r\n  const product_map: IMapProduct = {\r\n    id: product.id,\r\n    name: product.name,\r\n    img: product.images[0].src ?? \"https://via.placeholder.com/300x300\",\r\n    image: product.images[0],\r\n    price: parseFloat(product.price),\r\n    qty,\r\n    total: parseFloat(product.price) * qty,\r\n    price_html: product.price_html,\r\n  };\r\n\r\n  return product_map;\r\n};\r\n\r\nexport const findAndReplaceList = (newItem: any, someList: any) => {\r\n  return someList.map((item: { _id: any }) =>\r\n    item._id !== newItem._id ? item : { ...newItem }\r\n  );\r\n};\r\n","import React, { FC } from \"react\";\r\nimport { Route, Switch, Redirect } from \"react-router-dom\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport IRoute from \"../types/IRoute\";\r\n\r\ninterface AppRouterProps {\r\n  routes: IRoute[];\r\n  redirect: string;\r\n}\r\n\r\nconst MainRouter: FC<AppRouterProps> = ({ routes, redirect }) => {\r\n  return (\r\n    <Switch>\r\n      {routes.map((route, id) => (\r\n        <Route path={route.path} exact={route.exact} key={id}>\r\n          <React.Fragment>\r\n            <Helmet>\r\n              <title>{route.title}</title>\r\n            </Helmet>\r\n            <route.component />\r\n          </React.Fragment>\r\n        </Route>\r\n      ))}\r\n      <Redirect to={redirect} />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default MainRouter;\r\n","import React from \"react\";\r\n\r\nexport const Context = React.createContext(null);\r\nexport const CartContext = React.createContext(null);\r\nexport const FilterContext = React.createContext(null);\r\nexport const ProductContext = React.createContext(null);\r\n","import { useLocation } from \"react-router\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst useLocationChange = (action) => {\r\n  const location = useLocation();\r\n  useEffect(() => {\r\n    action(location);\r\n  }, [location, action]);\r\n};\r\n\r\nexport default useLocationChange;\r\n","export default __webpack_public_path__ + \"static/media/shopping-cart-white.61bc96f9.svg\";","export default __webpack_public_path__ + \"static/media/delete.e4efcb06.svg\";","export default __webpack_public_path__ + \"static/media/delete-red.0a2da310.svg\";","import React, { FC, useContext } from \"react\";\r\nimport { CartContext } from \"../../Context\";\r\n// Img\r\nimport icon_trash from \"../../images/icons/delete.svg\";\r\nimport icon_trash_hover from \"../../images/icons/delete-red.svg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DOMPurify from \"dompurify\";\r\nimport { IMapProduct } from \"../../types/types\";\r\n\r\ninterface HCIProps {\r\n  product: IMapProduct;\r\n}\r\n\r\nconst HeaderCartItem: FC<HCIProps> = ({ product }) => {\r\n  const { removeProduct } = useContext(CartContext);\r\n\r\n  return (\r\n    <div className=\"cart__products-item\">\r\n      <div className=\"row justify-content-between align-items-center w-100 m-0\">\r\n        <div className=\"col-8\">\r\n          <div className=\"row align-items-center\">\r\n            <div className=\"col-4\">\r\n              <img\r\n                src={product.image.src ?? \"https://via.placeholder.com/300x300\"}\r\n                alt={product.image.alt || product.image.name}\r\n                onLoad={(e) => {\r\n                  const target = e.target as HTMLImageElement;\r\n                  target.style.height = getComputedStyle(target).width;\r\n                }}\r\n                className=\"cart__products-image\"\r\n              />\r\n            </div>\r\n            <div className=\"col-8\">\r\n              <Link\r\n                className=\"cart__products-name\"\r\n                to={`/catalog/${product.id}`}\r\n              >\r\n                {product.name}\r\n                {product.qty > 1 ? ` x ${product.qty} шт.` : null}\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-3\">\r\n          <div className=\"cart__products-right\">\r\n            <p\r\n              className=\"cart__products-price\"\r\n              dangerouslySetInnerHTML={{\r\n                __html: DOMPurify.sanitize(product.price_html),\r\n              }}\r\n            />\r\n            <img\r\n              src={icon_trash}\r\n              alt=\"move-trash\"\r\n              className=\"cart__products-remove\"\r\n              onMouseEnter={(e: React.MouseEvent<HTMLImageElement>) => {\r\n                const target = e.target as HTMLImageElement;\r\n                target.setAttribute(\"src\", icon_trash_hover);\r\n              }}\r\n              onMouseLeave={(e: React.MouseEvent<HTMLImageElement>) => {\r\n                const target = e.target as HTMLImageElement;\r\n                target.setAttribute(\"src\", icon_trash);\r\n              }}\r\n              onClick={() => removeProduct(`${product.id}`)}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HeaderCartItem;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport useLocationChange from \"../../hooks/useLocationChange\";\r\n// Images\r\nimport icon_cart_path from \"../../images/icons/shopping-cart-white.svg\";\r\n// Utils\r\nimport { price_format } from \"../../utils\";\r\n// Context\r\nimport { CartContext } from \"../../Context\";\r\nimport { Link } from \"react-router-dom\";\r\nimport HeaderCartItem from \"./HeaderCartItem\";\r\n\r\nconst HeaderCart = () => {\r\n  const [path, setPath] = useState(\"/\");\r\n  const [showCart, setShowCart] = useState(true);\r\n  const { cartMap, cartCounter, totalCart } =\r\n    useContext(CartContext);\r\n\r\n  useLocationChange((location) => {\r\n    setPath(\r\n      location.pathname !== \"/\"\r\n        ? location.pathname.split(\"/\").filter((item) => item !== \"\")[0]\r\n        : \"/\"\r\n    );\r\n  });\r\n\r\n  useEffect(() => {\r\n    setShowCart(Boolean((cartCounter > 0) && (path !== \"cart\")));\r\n  }, [path, cartCounter]);\r\n\r\n  return (\r\n    <div className=\"header__cart\">\r\n      <div className=\"header__cart-inner\">\r\n        <img src={icon_cart_path} alt=\"cart\" className=\"header__cart-icon\" />\r\n        <p>\r\n          {cartCounter > 0 ? (\r\n            <Link to=\"/cart/\" className=\"header__cart-link\">\r\n              Корзина{\" \"}\r\n            </Link>\r\n          ) : (\r\n            \"Корзина \"\r\n          )}\r\n          {showCart ? (\r\n            <span className=\"header__cart-cartCounter\">{cartCounter}</span>\r\n          ) : null}\r\n        </p>\r\n      </div>\r\n      {showCart ? (\r\n        <div className=\"header__cart-content\">\r\n          <div className=\"cart__products\">\r\n            {Object.keys(cartMap).map((key) => (\r\n              <HeaderCartItem product={cartMap[key]} key={key} />\r\n            ))}\r\n          </div>\r\n          <div className=\"cart__driver-wrapper\">\r\n            <hr className=\"cart__driver\" />\r\n          </div>\r\n          <div className=\"cart__total\">\r\n            <span className=\"cart__total-text\">Итого:</span>\r\n            <span className=\"cart__total-price\">\r\n              {price_format(totalCart)} ₽\r\n            </span>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HeaderCart;\r\n","import { Link } from \"react-router-dom\";\r\nimport HeaderCart from \"../../components/cart/HeaderCart\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"container\">\r\n        <div className=\"d-flex justify-content-between\">\r\n          <Link to=\"/catalog\" className=\"header__brand\">\r\n            Laserkids Store\r\n          </Link>\r\n          <HeaderCart />\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { useState } from \"react\";\r\n\r\ninterface IError {\r\n  status: boolean;\r\n  message: string;\r\n}\r\n\r\ntype useFetchT = (callback: () => void) => [() => void, boolean, IError];\r\n\r\nconst useFetch: useFetchT = (callback: () => void) => {\r\n  const [isLoading, setLoading] = useState(false);\r\n  const [isError, setError] = useState<IError>({\r\n    status: false,\r\n    message: \"\",\r\n  });\r\n\r\n  const fetching = async () => {\r\n    try {\r\n      setLoading(true);\r\n      await callback();\r\n    } catch (e) {\r\n      setError({\r\n        status: true,\r\n        message: e.message,\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return [fetching, isLoading, isError];\r\n};\r\n\r\nexport default useFetch;\r\n","import WooCommerceRestApi from \"@woocommerce/woocommerce-rest-api\";\r\n\r\nconst wcApi = new WooCommerceRestApi({\r\n  url: \"https://laserkids.ru\",\r\n  consumerKey: \"ck_f630e083e201d809e9054871d305f211abc832c5\",\r\n  consumerSecret: \"cs_5c9c01c48ea9db07a9e45a55c729c5406b02ef9b\",\r\n  version: \"wc/v3\",\r\n});\r\n\r\nexport default wcApi;\r\n","const Loader = () => (\r\n  <div className=\"loading-spinner\">\r\n    <div className=\"spinner-border text-default\" role=\"status\">\r\n      <span className=\"visually-hidden\">Loading...</span>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Loader;\r\n","import DOMPurify from \"dompurify\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { CartContext } from \"../../Context\";\r\nimport useDidUpdateEffect from \"../../hooks/useDidUpdateEffect\";\r\nimport useFetch from \"../../hooks/useFetch\";\r\nimport wcApi from \"../../tools/wc-api\";\r\nimport { IParams } from \"../../types/types\";\r\nimport { WC_REST_API_Product } from \"../../types/wc-types\";\r\nimport Loader from \"../../ui/Loader\";\r\n\r\nconst ProductContent = () => {\r\n  // context\r\n  const { cartMap, calcTotal, addToCart } = useContext(CartContext);\r\n  // params\r\n  const { id } = useParams<IParams>();\r\n  // states\r\n  const [product, setProduct] = useState(null);\r\n  const [qty, setQty] = useState(1);\r\n  const [inCart, setInCart] = useState(false);\r\n  // fetch\r\n  const [fetching, isLoading] = useFetch(async () => {\r\n    const { data }: { data: WC_REST_API_Product } = await wcApi.get(\r\n      `products/${id}`\r\n    );\r\n    setProduct(data);\r\n  });\r\n\r\n  useEffect(() => fetching(), [id]); // eslint-disable-line\r\n\r\n  useDidUpdateEffect(() => {\r\n    if (inCart) calcTotal(id, qty);\r\n  }, [qty]);\r\n\r\n  useEffect(() => {\r\n    const cartKeys = Object.keys(cartMap);\r\n    if (cartKeys.length && cartKeys.includes(id)) setQty(cartMap[id].qty);\r\n    setInCart(cartKeys.includes(id));\r\n  }, [cartMap, id]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {!isLoading && product !== null ? (\r\n        <React.Fragment>\r\n          <div className=\"product-wrapper\">\r\n            <div className=\"row\">\r\n              <div className=\"col-5\">\r\n                <div className=\"product-image\">\r\n                  <a\r\n                    href={product.images[0].src}\r\n                    target=\"_blank\"\r\n                    rel=\"noreferrer\"\r\n                    style={{ display: \"block\" }}\r\n                  >\r\n                    <img\r\n                      src={\r\n                        product.images[0].src ??\r\n                        \"https://via.placeholder.com/300x300\"\r\n                      }\r\n                      alt={product.images[0].alt || product.images[0].name}\r\n                    />\r\n                  </a>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-7\">\r\n                <div className=\"product-body\">\r\n                  <p className=\"product-name\">{product.name}</p>\r\n                  <p\r\n                    className=\"product-price\"\r\n                    dangerouslySetInnerHTML={{\r\n                      __html: DOMPurify.sanitize(product.price_html),\r\n                    }}\r\n                  />\r\n                  <div className=\"product__add-cart\">\r\n                    <input\r\n                      type=\"number\"\r\n                      className=\"form-control product-qty\"\r\n                      value={qty}\r\n                      onChange={(e) => setQty(parseInt(e.target.value))}\r\n                    />\r\n                    {inCart ? (\r\n                      <span className=\"product__cart cart_added\">\r\n                        В корзине &#10004;\r\n                      </span>\r\n                    ) : (\r\n                      <span\r\n                        className=\"product__cart\"\r\n                        onClick={() => {\r\n                          addToCart(product, qty);\r\n                          setInCart(true);\r\n                        }}\r\n                      >\r\n                        В корзину\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  <p>\r\n                    Категория:{\" \"}\r\n                    <span className=\"product-categories\">\r\n                      {product.categories.map((item, ind) => {\r\n                        return ind + 1 !== product.categories.length\r\n                          ? `${item.name}, `\r\n                          : `${item.name}`;\r\n                      })}\r\n                    </span>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {product.description ? (\r\n            <div className=\"product-wrapper\">\r\n              <div\r\n                className=\"product-description\"\r\n                dangerouslySetInnerHTML={{ __html: product.description }}\r\n              ></div>\r\n            </div>\r\n          ) : null}\r\n        </React.Fragment>\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ProductContent;\r\n","// images\r\nimport call from \"../../images/phone-call.png\";\r\nimport whatsapp from \"../../images/whatsapp.png\";\r\nimport email from \"../../images/email.png\";\r\n\r\nconst TextWidget = () => {\r\n  return (\r\n    <div className=\"text-widget text-widget__contacts\">\r\n      <p>\r\n        <span className=\"text-widget__img\">\r\n          <img src={call} alt=\"phone-call\" />\r\n        </span>\r\n\r\n        <a href=\"tel:+79603621543\">+7 (960) 362 1543</a>\r\n      </p>\r\n      <p>\r\n        <span className=\"text-widget__img\">\r\n          <img src={whatsapp} alt=\"whatsapp\" />\r\n        </span>\r\n\r\n        <a href=\"https://wa.me/79603621543\" target=\"_blank\" rel=\"noreferrer\">\r\n          +7 (960) 362 1543\r\n        </a>\r\n      </p>\r\n      <p>\r\n        <span className=\"text-widget__img\">\r\n          <img src={email} alt=\"email\" />\r\n        </span>\r\n\r\n        <a href=\"mailto:laserkid@yandex.ru\" target=\"_blank\" rel=\"noreferrer\">\r\n          laserkid@yandex.ru\r\n        </a>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextWidget;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYEAYAAACw5+G7AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5QoKEBsa5yJJxAAABF5JREFUWMPNl3tMU2cYxp+3tDAuA1niGC2ijLExUMe4jGWyZGQYCS04QSqCMpxZqo5dYEtA5SoyYCJVRjYRmDpx0Qo2gwoyXBaRBHVAMghudtJFWCkjJlwk5db22x9SdjGkBVzZ89dJTp7nPL/vOyffewj/0nOlpeENShsbrVJ3jXWVldEEXsKncXFMil6sVKlYCE6ydcnJmq7ULaLi69exzCLjhY8sm8kuWFuPXnB6x764pgY3sA45kZGPOB7AiiQTE0xEmYYvo6IGvkkZE0VevbpcABzjio8EOSntk+TyeYsb9ST0rNzWlhQsj7O3ro4fL3VU1IeFLRuA9mt9DzuWnk4huIyaiAiznbMgyGDv0pRCIYiSJig0QqHFAaiTTVF5QsJiA2gjBLC1scFK1kvC8+cF75eGNyjd3CwGgEq8wU67uCw56QrEyHNwMGTrRKwqIMByAGpw8bJavdQgdhhtKJqZ4fnTAfZ6d7flAIJYLnuxrW3RxYtwHy+oVJwu9DPNtm19fSljIpFKZTmAcUxb7aitXXDxJIyhr72dlzCab+fp6/u7NPWG6Fe53FLF5wDUW1f1PNjS1MTa4IgDd++aa6QTCCNpVdU9yqVQmpy0dPE5AEAsFov1ejaFSnQVFprtDEc/+0IgWK7ifwN4KI3XaJud4cwZJKKDKjs7TTqfQgCmd+40HoTLDgDkUijpdJwV2IseiQTRkMFDr5/XeQkKsNWrtdO6Efjl5PwPAB6qPy01JELZ3s78yZM+yM01FUAy9LOktDT++pIjih1xcYst8syuYr8GpY+PgH+0WFEfG+tafnxFvb+7+4IBjBrYNVJ9szk/n32FQ/i+sXHeBDU+hpAIrXSQrE6dckspebXBLj7e3OKCDUerGtISE61GOAexqbsbRBziyGScW3pvDnp6TM1aZOoB7u4FBQqFs7Puc+tkCm9poX1Ugaa1a002G0YvvS2VGqT26/XuGRkaiUQS2anVGm8/61FY0Pydk9NkvY10JvP2bdrE0lkWn/9Ijonp1ySAUauKin759jU+3+DJ8+JNtrbiQxxneR4epnysAn+gUaOhIRZHg+fOsTJOFHt6fHxuBnNFOqvz8jJZYBbEMGTYx+SbN2ue+IQnDGpuNhtgDiT0s8kGpaen4T0uD3HNzeaCPDbNgtAdzhg7Fh6+YIA5kNkd0XtzBdyWpiazX63HJPYzClDa1bVoAKPmvpFrNtEUW1294P+KxQJkQgK7wUHOUoP6+vbvF4mGhwc8Rp+/pY2MZIepg6RZWSbPkSWKNuAeHM6eXfIOzCe+TMoub/Xzw08sF29WVNBpOMI9MHCpuUyOGPxWW+u6x77RJXj79v8M4C9lsx8YlysQO17UfrR7N4LpEkbT01GCVxC7Zs1ii3d0SvYEBs3MWADgnwrwLz/R/iOPNyDRSoZOCoXkyu7jZkwMvQVf9AQHwxtc1i4QsCs4hKSBAbqDaHhVVak3jjrbXSwuNo48xrw/AeIx3Jud3VH5AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTEwLTEwVDE2OjI3OjI2KzAwOjAwX9pcYwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0xMC0xMFQxNjoyNzoyNiswMDowMC6H5N8AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAMrSURBVEiJrZZfaFt1FMc/55emydbV3IamUp06ttkYROdsU9wQt8L61o4ksIIw4oOoCIKCLxaZ+OfBh8EQ3waCFEVrC00LgogPKTJBSBvbMq1OZDhsH5rOBZvRLmnu8cE2velyu6b4fbq/cw7f7zm/e885V1QVNyRSibaiSlSM3QV0CnQBKEwB02qbqUbRzFh8bMmNQ2oJ9Ez2NDTlrUEDFxS8rhkAAiUbPrht5T9Mn06v31OgL5WIiOgQEN2JuAYyqvLC1/GxeafROA/9E7GkGDu7B3KAqBg72z8RSzqNlQr6UomIGDuLin8P5E7GNbXN05uVGPjvzkV0yEn+0IGDxA6fJegP1ieg4hfRoZ7JnoaKQFPeGsRxLeGWDi49d5Fk5DwXooN7qSO6wYln7thcmwoTgGfTm4yc59B9jwBg+Sxml+dYXrtZl4KBZ0fnRy6bokp0+6cYaQlXBfc+fKbuEhS8RZWo2WiiKty6k68OVrtuAQAxdpcBOrc7ZnKzlee/127xyS+f7kkA6DSb7e/E94tXKGt546R4zY7N7AqBLlNrFCwUFhj7YxyAoD/Im8ffwIi5i2A3MMCvtRzD10b4KTcDwJOtT/DS4y/iEU9VTHNjM5bPciVXmPJ0PB8+AXLXewCYXsoSbesk4Atw1DrCifZnuLFyg9zqMu1N7Xx86hKxw2cJ7W/lr8IihVJhO8WX0peKvQ585JZFc2Mzb0ffosN6tGKbyc1y8MCDtO5rrdjKWubV9Gssr271i9qmz3hVPgdW3ARWiiu8++P7fPvnd2zOradCx6rIATzioVC6XTkLlBpFM5754fnVL34b9gtyyk1kXctML2WZXsryQFM7oX0hRKQq5qvfR5nNzW1lD+9NxFPfiKrSOzoQ8HtL14EWNxEnLF+A7vujRIKPcadc5MriD1y9+bMzJFOw8ifTp9PrW+N6PH5d4NBuBHZErXHdPx7v/r/IgVecW60BQGDAffXvGhm1Te2VqXAOyAOfIZoow1FELwL/3DNpKCm8U7DyJ7eTA8iZkXOB/Q3r3Qu50OTUy5dLTmfv6EDA5y0lReU4omEgLFCs57flX0EkMkeNoDLGAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYEAYAAACw5+G7AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5QoKEB8oS5ndQAAAAv1JREFUWMPtl11IU2EYx//POU4ktShEp9tACzSZepMaGkoYhZFgfpIEfgx1KhlEpFSEelGkIhKSmR9bRiTMJIUsyIrIStQUdBMDK8S5nCKo4MVqbm83ngXJIHV4Cvzdnfdw3uf3f57D4bzALrtsC1JUt1XPXImMtCXSMlVqNFQJFXqVSgyhHzEcJ7agg2jEYcBuZ+0IRqjBwEI4rX2vSkUBPZqlWT+9nkrwlH0KCxPb829hzzGFA3o9RzUkZ3elUrGFNgvdxmE0SaUcvHCRPOvrxRbaNCHwpJX6ehKuZQFazawxIwNBKGWDjY2YZg046uMjtqcAewIzJSwvkwH3EF9ebipQGeVtzc2cLFubP/tAq3UzIc8q7+tb28N/lXgrlewpPYShq0tscSxQJ3S9vfw7xtvPKpVu+TRjbdXpBG8Or1ksO5Gba73PrknOTE5y6TY/69XY2O/ReW8Vp9PTwQiEzEwEUikGFxd3qtOoRAVVqtUma94LxeWkJGbmykgaEbG2H7zbqF4veJNMptEYjYxt3AkVqOjsZJ/5O5yuuNiWRrF8F8/zN23nrPbGRkph2QhLS3N1p+kCZwLUavduS8nP5NVVyyPJefeemhrKRCcyCwv/fMz5d55QhaqMDDy2DbN4g8HVk3HWacA+BoSH/1hyL3FfMRiciTs0nU7AaeVtTmaLnXZdACHHDUyR2mxmRLeYubh4Tp1HitHubn+j5ojxWFYWlwp/pJaVIYje4wtj9jp2COO1tXMK1YjiQ0eH/JKWGesSE5kWPI63tMCTtcJXLt+sx5YDbECKASS3t1v32UqtReXlC28KIg4Wzs8Lt30TWsa/Nfv5SVb4BklTdTXMiEFPTs52y7ougDCZSaxSoMVC/RjAqeFhx3ocYvAyKopC4cWmPTxcVc/NVRs5OvJb8CQQF+dYd3Whdf6dv80tB5ChDS58hXaMdW+OXcczSpmYENtns7BX+AhvvZ5jRVyPbSg3FxYEY2RsTDg4iC24AcFr3VM40Iittct/zy/zh3+SYYcCLwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0xMC0xMFQxNjozMTo0MCswMDowMDb1z1kAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMTAtMTBUMTY6MzE6NDArMDA6MDBHqHflAAAAAElFTkSuQmCC\"","import { Link } from \"react-router-dom\";\r\n\r\nconst NavWidget = () => {\r\n  return (\r\n    <nav className=\"nav-widget\">\r\n      <ul className=\"nav-widget__list\">\r\n        <li className=\"nav-widget__item\">\r\n          <Link to=\"/catalog/\">Каталог</Link>\r\n        </li>\r\n        {/* <li className=\"nav-widget__item\">\r\n          <Link to=\"/cart/\">Корзина</Link>\r\n        </li> */}\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavWidget;\r\n","import TextWidget from \"../../components/widgets/TextWidget\";\r\nimport NavWidget from \"../../components/widgets/NavWidget\";\r\n\r\nconst Sidebar = () => {\r\n  return (\r\n    <div className=\"sidebar-wrapper\">\r\n      <div className=\"sidebar-block\">\r\n        <NavWidget />\r\n      </div>\r\n      <div className=\"sidebar-block\">\r\n        <TextWidget />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import ProductContent from \"../components/product/ProductContent\";\r\nimport Sidebar from \"../ui/sidebar/Sidebar\";\r\n\r\nconst Product = () => {\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row justify-content-start\">\r\n        <div className=\"col-3\">\r\n          <Sidebar />\r\n        </div>\r\n        <div className=\"col-8 single-product\">\r\n          <ProductContent />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import { FC, MouseEvent, useContext, useEffect, useState } from \"react\";\r\nimport trash from \"../../images/icons/delete.svg\";\r\nimport trash_h from \"../../images/icons/delete-red.svg\";\r\n// Utils\r\nimport { Link } from \"react-router-dom\";\r\nimport { price_format } from \"../../utils\";\r\nimport { CartContext } from \"../../Context\";\r\nimport { IMapProduct } from \"../../types/types\";\r\nimport DOMPurify from \"dompurify\";\r\n\r\ninterface CIProps {\r\n  product: IMapProduct;\r\n}\r\n\r\ntype RPT = (id: string) => void;\r\ntype CTT = (id: string, qty: number) => void;\r\n\r\nconst CartItem: FC<CIProps> = ({ product }) => {\r\n  const [qty, setQty] = useState(product.qty);\r\n  const { removeProduct, calcTotal }: { removeProduct: RPT; calcTotal: CTT } =\r\n    useContext(CartContext);\r\n\r\n  useEffect(() => {\r\n    calcTotal(`${product.id}`, qty);\r\n  }, [qty]); // eslint-disable-line\r\n\r\n  return (\r\n    <tr>\r\n      <td className=\"cart__content-img\">\r\n        <img\r\n          src={product.image.src ?? \"https://via.placeholder.com/300x300\"}\r\n          alt={product.image.alt || product.image.name}\r\n          onLoad={(e) => {\r\n            const target = e.target as HTMLImageElement;\r\n            target.style.height = getComputedStyle(target).width;\r\n          }}\r\n        />\r\n      </td>\r\n      <td className=\"cart__content-name\">\r\n        <Link to={`/catalog/${product.id}`}>{product.name}</Link>\r\n      </td>\r\n      <td\r\n        className=\"cart__content-price\"\r\n        dangerouslySetInnerHTML={{\r\n          __html: DOMPurify.sanitize(product.price_html),\r\n        }}\r\n      ></td>\r\n      <td className=\"cart__content-qty\">\r\n        <input\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          min=\"1\"\r\n          max=\"10\"\r\n          value={qty}\r\n          onChange={(e) => setQty(parseInt(e.target.value))}\r\n        />\r\n      </td>\r\n      <td className=\"cart__content-total\">\r\n        {price_format(product.total)}\r\n        {\" ₽\"}\r\n      </td>\r\n      <td className=\"cart__content-remove\">\r\n        <img\r\n          src={trash}\r\n          alt=\"move-to-trash\"\r\n          onClick={() => removeProduct(`${product.id}`)}\r\n          onMouseEnter={(e: MouseEvent<HTMLImageElement>) => {\r\n            const target = e.target as HTMLImageElement;\r\n            target.setAttribute(\"src\", trash_h);\r\n          }}\r\n          onMouseLeave={(e: React.MouseEvent<HTMLImageElement>) => {\r\n            const target = e.target as HTMLImageElement;\r\n            target.setAttribute(\"src\", trash);\r\n          }}\r\n        />\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import { CartContext } from \"../Context\";\r\nimport { useContext } from \"react\";\r\nimport CartItem from \"../components/cart/CartItem\";\r\nimport { price_format } from \"../utils\";\r\nimport Sidebar from \"../ui/sidebar/Sidebar\";\r\n// import Checkout from \"../components/checkout/Checkout\";\r\n\r\nconst sizes_td = [\"11%\", \"45%\", \"13%\", \"12%\", \"13%\", \"6%\"];\r\n\r\nconst Colgroup = () => (\r\n  <colgroup>\r\n    {sizes_td.map((item, ind) => (\r\n      <col style={{ width: item }} key={ind} />\r\n    ))}\r\n  </colgroup>\r\n);\r\n\r\nconst THead = () => (\r\n  <thead className=\"cart__content-head\">\r\n    <tr>\r\n      <td>Фото</td>\r\n      <td>Наименование товара</td>\r\n      <td>Цена</td>\r\n      <td>Кол-во</td>\r\n      <td>Стоимость</td>\r\n      <td>&nbsp;</td>\r\n    </tr>\r\n  </thead>\r\n);\r\n\r\nconst TBody = ({ cartMap }) => (\r\n  <tbody className=\"cart__content-body\">\r\n    {Object.keys(cartMap).length\r\n      ? Object.keys(cartMap).map((key, ind) => (\r\n          <CartItem product={cartMap[key]} key={key} />\r\n        ))\r\n      : null}\r\n  </tbody>\r\n);\r\n\r\nconst TFoot = ({ totalCart }) => (\r\n  <tfoot className=\"cart__content-foot\">\r\n    <tr className=\"cart__content-result\">\r\n      <td colSpan={4}>Итого:</td>\r\n      <td>\r\n        {price_format(totalCart)}\r\n        {\" ₽\"}\r\n      </td>\r\n      <td>&nbsp;</td>\r\n    </tr>\r\n  </tfoot>\r\n);\r\n\r\nconst Cart = () => {\r\n  const { cartMap, totalCart } = useContext(CartContext);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"col-3\">\r\n          <Sidebar />\r\n        </div>\r\n        <div className=\"col-9 d-flex flex-column\" style={{ gap: \"30px 0\" }}>\r\n          {/* <h2 className=\"cart__title\">Корзина</h2> */}\r\n          <section className=\"cart__wrapper\">\r\n            <table className=\"cart__content\">\r\n              <Colgroup />\r\n              <THead />\r\n              <TBody cartMap={cartMap} />\r\n              <TFoot totalCart={totalCart} />\r\n            </table>\r\n          </section>\r\n          {/* <Checkout /> */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import { useState, useContext, useEffect, FC } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { CartContext } from \"../../Context\";\r\nimport { WC_REST_API_Product } from \"../../types/wc-types\";\r\nimport DOMPurify from \"dompurify\";\r\n\r\ninterface PIProps {\r\n  product: WC_REST_API_Product;\r\n}\r\n\r\nconst ProductItem: FC<PIProps> = ({ product }) => {\r\n  const [inCart, setInCart] = useState(false);\r\n  const { cartMap, addToCart } = useContext(CartContext);\r\n  const { push } = useHistory();\r\n\r\n  useEffect(() => {\r\n    setInCart(Object.keys(cartMap).includes(String(product.id)));\r\n  }, [cartMap, product.id]);\r\n\r\n  return (\r\n    <div className=\"col-12 col-sm-6 col-md-12 col-lg-6 col-xl-4\">\r\n      <div className=\"product__wrapper\">\r\n        <img\r\n          src={product.images[0].src ?? \"https://via.placeholder.com/300x300\"}\r\n          alt={product.images[0].alt || product.images[0].name}\r\n          onLoad={(e) => {\r\n            const target = e.target as HTMLImageElement;\r\n            target.style.height = getComputedStyle(target).width;\r\n          }}\r\n        />\r\n        <div className=\"product__body\">\r\n          <p\r\n            className=\"product__name\"\r\n            onClick={() => push(`/catalog/${product.id}`)}\r\n          >\r\n            {product.name}\r\n          </p>\r\n          <p\r\n            className=\"product__cost\"\r\n            dangerouslySetInnerHTML={{\r\n              __html: DOMPurify.sanitize(product.price_html),\r\n            }}\r\n          />\r\n\r\n          {inCart ? (\r\n            <span className=\"product__cart cart_added\">В корзине &#10004;</span>\r\n          ) : (\r\n            <span\r\n              className=\"product__cart\"\r\n              onClick={() => {\r\n                addToCart(product);\r\n                setInCart(true);\r\n              }}\r\n            >\r\n              В корзину\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductItem;\r\n","import ProductItem from \"./ProductItem\";\r\nimport { Context } from \"../../Context\";\r\nimport { useContext } from \"react\";\r\nimport { WC_REST_API_Products } from \"../../types/wc-types\";\r\n\r\nconst ProductList = () => {\r\n  const { products }: { products: WC_REST_API_Products } = useContext(Context);\r\n\r\n  return (\r\n    <div className=\"row\" style={{ gap: \"15px 0\" }}>\r\n      {products.length ? (\r\n        products.map((product) => {\r\n          return <ProductItem key={product.id} product={product} />;\r\n        })\r\n      ) : (\r\n        <p className=\"produst__not-found\">\r\n          Мы не смогли найти подходящих товаров для вас! Попробуйте поменять\r\n          настройки фильтра\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductList;\r\n","import { Context, FilterContext } from \"../../Context\";\r\nimport React, {\r\n  useState,\r\n  useContext,\r\n  useEffect,\r\n  ChangeEvent,\r\n  MouseEvent,\r\n} from \"react\";\r\nimport { calc_min_max } from \"../../utils\";\r\n\r\nconst FilterRange = () => {\r\n  const [minRange, setMinRange] = useState(0);\r\n  const [maxRange, setMaxRange] = useState(0);\r\n  const [currentRange, setCurrentRange] = useState(0);\r\n  const { setMaxCost, sortedPosts } = useContext(FilterContext);\r\n  const { category } = useContext(Context);\r\n\r\n  useEffect(() => {\r\n    if (sortedPosts.length) {\r\n      const min_max = calc_min_max(sortedPosts);\r\n\r\n      setMinRange(min_max[0]);\r\n      setMaxRange(min_max[1]);\r\n      setMaxCost(min_max[1]);\r\n      setCurrentRange(min_max[1]);\r\n    }\r\n  }, [category, sortedPosts]); // eslint-disable-line\r\n\r\n  const onInputHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setCurrentRange(parseInt(e.target.value));\r\n  };\r\n\r\n  const onMouseUpHandler = (e: MouseEvent<HTMLInputElement>) => {\r\n    const target = e.target as HTMLInputElement;\r\n    setMaxCost(parseInt(target.value));\r\n  };\r\n\r\n  return (\r\n    <div className=\"main__filter-block\">\r\n      <p className=\"filter-item__title\">Стоимость</p>\r\n      <div className=\"filter-item__content\">\r\n        <input\r\n          type=\"range\"\r\n          className=\"form-range\"\r\n          min={minRange}\r\n          max={maxRange}\r\n          value={currentRange}\r\n          step=\"50\"\r\n          onInput={onInputHandler}\r\n          onMouseUp={onMouseUpHandler}\r\n        />\r\n        <p className=\"filter-item__by-cost\">\r\n          Цена: <span className=\"min-cost\">{minRange}</span> ₽ —{\" \"}\r\n          <span className=\"max-cost\">{currentRange}</span> ₽\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterRange;\r\n","import { Context, FilterContext } from \"../../Context\";\r\nimport { useContext } from \"react\";\r\nimport { WC_REST_API_Categories } from \"../../types/wc-types\";\r\n\r\nconst FilterCategory = () => {\r\n  const { categories }: { categories: WC_REST_API_Categories } =\r\n    useContext(Context);\r\n  const { category, setCategory } = useContext(FilterContext);\r\n\r\n  return (\r\n    <div className=\"main__filter-block\">\r\n      <p className=\"filter-item__title\">Категории</p>\r\n      <div className=\"filter-item__content\">\r\n        <select\r\n          className=\"form-select\"\r\n          value={category}\r\n          onChange={(e) => setCategory(parseInt(e.target.value))}\r\n        >\r\n          <option value={-1}>Выбрать категорию</option>\r\n          {categories.map((category) => {\r\n            return (\r\n              category.count !== 0 && (\r\n                <option value={category.id} key={category.id}>\r\n                  {category.name}\r\n                </option>\r\n              )\r\n            );\r\n          })}\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterCategory;\r\n","import { Context, FilterContext } from \"../../Context\";\r\nimport React, { useContext } from \"react\";\r\n\r\nconst FilterOrderby = () => {\r\n  const { orderby, setOrderby } = useContext(FilterContext);\r\n  const { products } = useContext(Context);\r\n\r\n  if (products.length < 2) return null;\r\n  \r\n  return (\r\n    <div className=\"main__filter-block\">\r\n      <p className=\"filter-item__title\">Сортировка</p>\r\n      <div className=\"filter-item__content\">\r\n        <select\r\n          className=\"form-select\"\r\n          value={orderby}\r\n          onChange={(e) => setOrderby(e.target.value)}\r\n        >\r\n          <option value=\"default\">По умолчанию</option>\r\n          <option value=\"asc\">По возрастанию</option>\r\n          <option value=\"desc\">По убыванию</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterOrderby;\r\n","import { FilterContext } from \"../../Context\";\r\nimport { ChangeEvent } from \"react\";\r\nimport { useContext } from \"react\";\r\n\r\nconst FilterSearch = () => {\r\n  const { searchQuery, setSearchQuery } = useContext(FilterContext);\r\n\r\n  return (\r\n    <div className=\"main__filter-block\">\r\n      <p className=\"filter-item__title\">Поиск</p>\r\n      <div className=\"filter-item__content\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={searchQuery}\r\n          onInput={(e: ChangeEvent<HTMLInputElement>) =>\r\n            setSearchQuery(e.target.value)\r\n          }\r\n          placeholder=\"Введите запрос\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterSearch;\r\n","import { FilterContext } from \"../../Context\";\r\nimport React, { useContext } from \"react\";\r\n\r\nconst ClearFilter = () => {\r\n  const { setCategory, setOrderby, setSearchQuery } = useContext(FilterContext);\r\n\r\n  const ClearFilter = () => {\r\n    setCategory(-1);\r\n    setOrderby(\"default\");\r\n    setSearchQuery(\"\");\r\n  };\r\n\r\n  return (\r\n    <button className=\"btn btn-default\" onClick={ClearFilter}>\r\n      Сбросить\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default ClearFilter;\r\n","import FilterRange from \"./FilterRange\";\r\nimport FilterCategory from \"./FilterCategory\";\r\nimport FilterOrderby from \"./FilterOrderby\";\r\nimport FilterSearch from \"./FilterSearch\";\r\nimport ClearFilter from \"./ClearFilter\";\r\n// CSS\r\nimport \"./product_filter.css\";\r\n\r\nconst ProductsFilter = () => {\r\n  return (\r\n    <div className=\"main__filter\">\r\n      <FilterSearch />\r\n      <FilterCategory />\r\n      <FilterRange />\r\n      <FilterOrderby />\r\n      <ClearFilter />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductsFilter;\r\n","import { useMemo } from \"react\";\r\nimport {\r\n  sortByCategory,\r\n  sortByCost,\r\n  sortByOrderby,\r\n  searchByQuery,\r\n} from \"../utils\";\r\n\r\nexport const useSortedByCategoryProducts = (category, products) => {\r\n  const sortedPosts = useMemo(() => {\r\n    return sortByCategory(category, [...products]);\r\n  }, [category, products]);\r\n\r\n  return sortedPosts;\r\n};\r\n\r\nexport const useSortedByCostProducts = (maxCost, products) => {\r\n  const sortedByCost = useMemo(() => {\r\n    return maxCost !== 0 ? sortByCost(maxCost, [...products]) : products;\r\n  }, [maxCost, products]);\r\n\r\n  return sortedByCost;\r\n};\r\n\r\nexport const useSortedByOrderbyProducts = (orderby, products) => {\r\n  const sortedByOrderby = useMemo(() => {\r\n    return sortByOrderby(orderby, [...products]);\r\n  }, [orderby, products]);\r\n\r\n  return sortedByOrderby;\r\n};\r\n\r\nexport const useSortedBySearchProducts = (query, products) => {\r\n  const filtredPosts = useMemo(() => {\r\n    return searchByQuery(query, [...products]);\r\n  }, [query, products]);\r\n\r\n  return filtredPosts;\r\n};\r\n\r\n// Полная фильтрация\r\nexport const useProducts = (category, maxCost, orderby, query, products) => {\r\n  const byCategory = useSortedByCategoryProducts(category, products);\r\n  const byMaxCost = useSortedByCostProducts(maxCost, byCategory);\r\n  const byOrderby = useSortedByOrderbyProducts(orderby, byMaxCost);\r\n  const bySearch = useSortedBySearchProducts(query, byOrderby);\r\n\r\n  return bySearch;\r\n};\r\n","import React, { FC } from \"react\";\r\nimport { fillArrayFromTo } from \"../../utils\";\r\n\r\ninterface IPagination {\r\n  page: number;\r\n  total: number;\r\n  setPage: (page: number) => void;\r\n}\r\n\r\nconst Pagination: FC<IPagination> = ({ page, total, setPage }) => {\r\n  if (total === 1) return null;\r\n\r\n  const list = fillArrayFromTo(1, total);\r\n\r\n  return (\r\n    <div className=\"pagination_list\">\r\n      {list.map((item) => (\r\n        <span\r\n          className={`pagination_item${item === page ? \" current_page\" : \"\"}`}\r\n          onClick={() => setPage(item)}\r\n          key={item}\r\n        >\r\n          {item}\r\n        </span>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import { WC_REST_API_Categories } from \"./../types/wc-types\";\r\nimport axios, { AxiosError } from \"axios\";\r\nimport wcApi from \"../tools/wc-api\";\r\n\r\nexport default class ProductService {\r\n  static async getCategories(\r\n    callback: (categories: WC_REST_API_Categories) => void\r\n  ) {\r\n    try {\r\n      let categories: WC_REST_API_Categories = [];\r\n      let totalPages = 1;\r\n\r\n      const read_categories = async (page = 1) => {\r\n        const {\r\n          data,\r\n          headers,\r\n        }: { data: WC_REST_API_Categories; headers: any } = await wcApi.get(\r\n          \"products/categories\",\r\n          {\r\n            page,\r\n          }\r\n        );\r\n\r\n        categories = [...categories, ...data];\r\n        totalPages = parseInt(headers[\"x-wp-totalpages\"]) ?? 1;\r\n\r\n        if (page < totalPages) {\r\n          read_categories(page + 1);\r\n        } else {\r\n          callback(categories);\r\n        }\r\n      };\r\n\r\n      await read_categories();\r\n    } catch (err) {\r\n      const e = err as AxiosError;\r\n      console.error(e.message);\r\n      throw new Error(e.message);\r\n    }\r\n  }\r\n\r\n  static getProducts = async () => {\r\n    let products = [];\r\n    let page = 1;\r\n    let isNext = true;\r\n\r\n    while (isNext) {\r\n      const { headers, data } = await axios.get(\r\n        \"https://laserkids.ru/wp-json/wc/store/products?page=\" + page\r\n      );\r\n\r\n      products = [...products, ...data];\r\n      const total = headers[\"x-wp-totalpages\"] ?? 1;\r\n\r\n      isNext = page < total;\r\n      page++;\r\n    }\r\n\r\n    return products;\r\n  };\r\n\r\n  static getWcProducts(limit: number, page: number = 1) {}\r\n\r\n  static getProductById = async (id: number) => {\r\n    const res = await axios.get(\r\n      \"https://laserkids.ru/wp-json/wc/store/products/?include=\" + id\r\n    );\r\n\r\n    return res.data[0];\r\n  };\r\n}\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport ProductList from \"../components/products/ProductList\";\r\nimport ProductsFilter from \"../components/filter/ProductsFilter\";\r\n// Context\r\nimport { Context, FilterContext, ProductContext } from \"../Context\";\r\n// Hooks\r\nimport { useSortedByCategoryProducts, useProducts } from \"../hooks/useProducts\";\r\nimport { useStateIfMounted } from \"use-state-if-mounted\";\r\nimport useFetch from \"../hooks/useFetch\";\r\nimport Loader from \"../ui/Loader\";\r\nimport wcApi from \"../tools/wc-api\";\r\nimport {\r\n  WC_REST_API_Categories,\r\n  WC_REST_API_Products,\r\n} from \"../types/wc-types\";\r\nimport Pagination from \"../components/pagination/Pagination\";\r\nimport ProductService from \"../api/rest\";\r\n\r\nconst Catalog = () => {\r\n  // context { cacheProducts }\r\n  const { setCacheProducts } = useContext(ProductContext);\r\n  // states\r\n  const [products, setProducts] = useStateIfMounted<WC_REST_API_Products>([]);\r\n  const [categories, setCategories] = useStateIfMounted<WC_REST_API_Categories>(\r\n    []\r\n  );\r\n  const [category, setCategory] = useState(-1);\r\n  const [maxCost, setMaxCost] = useState(0);\r\n  const [orderby, setOrderby] = useState(\"default\");\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [limit] = useState(18);\r\n  const [page, setPage] = useState(1);\r\n  const [total, setTotal] = useState(0);\r\n  // fetch\r\n  const [fetchProducts, isLoading, error] = useFetch(async () => {\r\n    const { data, headers } = await wcApi.get(\"products\", { per_page: limit, page });\r\n    setProducts(data);\r\n    setTotal(parseInt(headers[\"x-wp-totalpages\"]));\r\n  });\r\n\r\n  const sortedPosts = useSortedByCategoryProducts(category, products);\r\n  const filtredPosts = useProducts(\r\n    category,\r\n    maxCost,\r\n    orderby,\r\n    searchQuery,\r\n    products\r\n  );\r\n\r\n  // Initial Render\r\n  useEffect(() => {\r\n    fetchProducts();\r\n\r\n    ProductService.getCategories((data) => {\r\n      setCategories(data);\r\n    });\r\n    // eslint-disable-next-line\r\n  }, [page]);\r\n\r\n  useEffect(() => {\r\n    if (products.length) {\r\n      setCacheProducts(products);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [products]);\r\n\r\n  return (\r\n    <Context.Provider value={{ products: filtredPosts, categories, category }}>\r\n      <div className=\"container\">\r\n        <div className=\"row main-section justify-content-between\">\r\n          <aside className=\"col-12 col-md-5 col-lg-4 col-xl-3 mb-4 mb-md-0\">\r\n            <FilterContext.Provider\r\n              value={{\r\n                category,\r\n                orderby,\r\n                maxCost,\r\n                searchQuery,\r\n                sortedPosts,\r\n                setCategory,\r\n                setOrderby,\r\n                setMaxCost,\r\n                setSearchQuery,\r\n              }}\r\n            >\r\n              <ProductsFilter />\r\n            </FilterContext.Provider>\r\n          </aside>\r\n          <article className=\"col-12 col-md-6 col-lg-7 col-xl-8 mb-5 product-list\">\r\n            {!error.status ? (\r\n              isLoading ? (\r\n                <Loader />\r\n              ) : (\r\n                <>\r\n                  <ProductList />\r\n                  <Pagination\r\n                    page={page}\r\n                    total={total}\r\n                    setPage={(page: number) => setPage(page)}\r\n                  />\r\n                </>\r\n              )\r\n            ) : (\r\n              <div>Произошла какая то ошибка - {error.message}</div>\r\n            )}\r\n          </article>\r\n        </div>\r\n      </div>\r\n    </Context.Provider>\r\n  );\r\n};\r\n\r\nexport default Catalog;\r\n","import Product from \"../pages/Product\";\r\nimport Cart from \"../pages/Cart.\";\r\nimport Catalog from \"../pages/Catalog\";\r\nimport IRoute from \"../types/IRoute\";\r\n\r\nconst routes: IRoute[] = [\r\n  {\r\n    path: \"/catalog\",\r\n    component: Catalog,\r\n    exact: true,\r\n    title: \"Laserkids Store - Каталог\",\r\n  },\r\n  {\r\n    path: \"/catalog/:id\",\r\n    component: Product,\r\n    exact: true,\r\n    title: \"Laserkids Store\",\r\n  },\r\n  {\r\n    path: \"/cart/\",\r\n    component: Cart,\r\n    exact: false,\r\n    title: \"Laserkids Store - Корзина товаров\",\r\n  },\r\n];\r\n\r\nexport default routes;\r\n","import { useState } from \"react\";\r\n\r\nconst DemoAlert = () => {\r\n  const [visible, setVisible] = useState(true);\r\n\r\n  if (!visible) return null;\r\n\r\n  return (\r\n    <div className=\"wrapperAlert\">\r\n      <span className=\"wrapperAlert_text\">\r\n        Данный сайт является демонстрационной работой автора и не нацелен на\r\n        коммерческую деяьтельность, продажу товара и прочее\r\n      </span>\r\n      <span className=\"wrapperAlert_close\" onClick={() => setVisible(false)}>\r\n        &times;\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DemoAlert;\r\n","import { useEffect, useState } from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport useDidUpdateEffect from \"./hooks/useDidUpdateEffect\";\nimport { calcTotalCart, filterCart, pushCart, getMapProduct } from \"./utils\";\n// Router\nimport MainRouter from \"./router/MainRouter\";\n// Context\nimport { CartContext, ProductContext } from \"./Context\";\n// UI\nimport Header from \"./ui/header/Header\";\n// CSS\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./assets/css/style.scss\";\nimport routes from \"./router\";\nimport DemoAlert from \"./components/demo/DemoAlert\";\n\nconst App = () => {\n  const [cacheProducts, setCacheProducts] = useState([]);\n  const [cartMap, setCartMap] = useState({});\n  const [cartCounter, setCartCounter] = useState(0);\n  const [totalCart, setTotalCart] = useState(0);\n\n  // Проверка локальной корзины при рендере\n  useEffect(() => {\n    if (localStorage.getItem(\"WC_Cart\") !== null) {\n      const localCart = JSON.parse(localStorage.getItem(\"WC_Cart\"));\n\n      if (Object.keys(localCart).length !== 0) {\n        setCartMap(localCart);\n        setCartCounter(Object.keys(localCart).length);\n        setTotalCart(calcTotalCart(localCart));\n      }\n    }\n  }, []);\n\n  // Обновление корзины\n  useDidUpdateEffect(() => {\n    localStorage.setItem(\"WC_Cart\", JSON.stringify(cartMap));\n    setCartCounter(Object.keys(cartMap).length);\n    setTotalCart(calcTotalCart(cartMap));\n  }, [cartMap]);\n\n  // --------------------------------------\n\n  const removeProduct = (id: string) => {\n    setCartMap(filterCart(id, cartMap));\n  };\n\n  /**\n   * Calculating the total amount of the product, taking into account its quantity\n   *\n   * @param { string } id ID of the product being counted\n   * @param { number } qty new quantity of products in the cart\n   */\n  const calcTotal = (id: string, qty: number) => {\n    const map = {\n      ...cartMap[id],\n      qty: qty,\n      total: cartMap[id].price * qty,\n    };\n\n    setCartMap((prev) => pushCart(id, map, prev));\n  };\n\n  const addToCart = (product: any, qty: number = 1) => {\n    const map = getMapProduct(product, qty);\n    setCartMap((prev) => pushCart(product.id, map, prev));\n  };\n\n  return (\n    <BrowserRouter>\n      <ProductContext.Provider value={{ cacheProducts, setCacheProducts }}>\n        <CartContext.Provider\n          value={{\n            cartMap,\n            cartCounter,\n            totalCart,\n            removeProduct,\n            calcTotal,\n            addToCart,\n          }}\n        >\n          <Header />\n          <MainRouter routes={routes} redirect=\"/catalog\" />\n          <DemoAlert />\n        </CartContext.Provider>\n      </ProductContext.Provider>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}