(this["webpackJsonplaserkids-filter-ts"]=this["webpackJsonplaserkids-filter-ts"]||[]).push([[0],{106:function(e,t,c){},128:function(e,t){},130:function(e,t){},142:function(e,t){},144:function(e,t){},162:function(e,t,c){},182:function(e,t,c){"use strict";c.r(t);var r=c(40),a=c.n(r),n=c(8),s=c(5),i=c(1),o=c.n(i),l=c(15),u=c(11);var d=function(e,t){var c=Object(i.useRef)(!1);Object(i.useEffect)((function(){c.current?e():c.current=!0}),Object(u.a)(t))},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ru-RU";return new Intl.NumberFormat(t).format(e)},b=function(e){var t=0;for(var c in e)t+=e[c].price*e[c].qty;return t},m=function(e,t,c){var r={};return(r=Object(n.a)({},c))[e]=t,r},O=function(e){var t,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r={id:e.id,name:e.name,img:null!==(t=e.images[0].src)&&void 0!==t?t:"https://via.placeholder.com/300x300",image:e.images[0],price:parseFloat(e.price),qty:c,total:parseFloat(e.price)*c,price_html:e.price_html};return r},p=c(4),h=c(85),x=c(0),f=function(e){var t=e.routes,c=e.redirect;return Object(x.jsxs)(p.d,{children:[t.map((function(e,t){return Object(x.jsx)(p.b,{path:e.path,exact:e.exact,children:Object(x.jsxs)(o.a.Fragment,{children:[Object(x.jsx)(h.a,{children:Object(x.jsx)("title",{children:e.title})}),Object(x.jsx)(e.component,{})]})},t)})),Object(x.jsx)(p.a,{to:c})]})},A=o.a.createContext(null),g=o.a.createContext(null),v=o.a.createContext(null),N=function(e){var t=Object(p.h)();Object(i.useEffect)((function(){e(t)}),[t,e])},y=c.p+"static/media/shopping-cart-white.61bc96f9.svg",w=c(22),C=c.n(w),_=function(e){var t,c=e.product,r=Object(i.useContext)(g).removeProduct;return Object(x.jsx)("div",{className:"cart__products-item",children:Object(x.jsxs)("div",{className:"row justify-content-between align-items-center w-100 m-0",children:[Object(x.jsx)("div",{className:"col-8",children:Object(x.jsxs)("div",{className:"row align-items-center",children:[Object(x.jsx)("div",{className:"col-4",children:Object(x.jsx)("img",{src:null!==(t=c.image.src)&&void 0!==t?t:"https://via.placeholder.com/300x300",alt:c.image.alt||c.image.name,onLoad:function(e){var t=e.target;t.style.height=getComputedStyle(t).width},className:"cart__products-image"})}),Object(x.jsx)("div",{className:"col-8",children:Object(x.jsxs)(l.b,{className:"cart__products-name",to:"/catalog/".concat(c.id),children:[c.name,c.qty>1?" x ".concat(c.qty," \u0448\u0442."):null]})})]})}),Object(x.jsx)("div",{className:"col-3",children:Object(x.jsxs)("div",{className:"cart__products-right",children:[Object(x.jsx)("p",{className:"cart__products-price",dangerouslySetInnerHTML:{__html:C.a.sanitize(c.price_html)}}),Object(x.jsx)("span",{className:"cart__products-remove",onClick:function(){return r("".concat(c.id))},children:"\xd7"})]})})]})})},k=function(){var e=Object(i.useState)("/"),t=Object(s.a)(e,2),c=t[0],r=t[1],a=Object(i.useState)(!0),n=Object(s.a)(a,2),o=n[0],u=n[1],d=Object(i.useContext)(g),b=d.cartMap,m=d.cartCounter,O=d.totalCart;return N((function(e){r("/"!==e.pathname?e.pathname.split("/").filter((function(e){return""!==e}))[0]:"/")})),Object(i.useEffect)((function(){u(Boolean(m>0&&"cart"!==c))}),[c,m]),Object(x.jsxs)("div",{className:"header__cart",children:[Object(x.jsxs)("div",{className:"header__cart-inner",children:[Object(x.jsx)("img",{src:y,alt:"cart",className:"header__cart-icon"}),Object(x.jsxs)("p",{children:[m>0?Object(x.jsxs)(l.b,{to:"/cart/",className:"header__cart-link",children:["\u041a\u043e\u0440\u0437\u0438\u043d\u0430"," "]}):"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 ",o?Object(x.jsx)("span",{className:"header__cart-cartCounter",children:m}):null]})]}),o?Object(x.jsxs)("div",{className:"header__cart-content",children:[Object(x.jsx)("div",{className:"cart__products",children:Object.keys(b).map((function(e){return Object(x.jsx)(_,{product:b[e]},e)}))}),Object(x.jsx)("div",{className:"cart__driver-wrapper",children:Object(x.jsx)("hr",{className:"cart__driver"})}),Object(x.jsxs)("div",{className:"cart__total",children:[Object(x.jsx)("span",{className:"cart__total-text",children:"\u0418\u0442\u043e\u0433\u043e:"}),Object(x.jsxs)("span",{className:"cart__total-price",children:[j(O)," \u20bd"]})]})]}):null]})},S=function(){return Object(x.jsx)("header",{className:"header",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(x.jsx)(l.b,{to:"/catalog",className:"header__brand",children:"Laserkids Store"}),Object(x.jsx)(k,{})]})})})},M=(c(105),c(106),c(7)),E=c.n(M),F=c(20),B=function(e){var t=Object(i.useState)(!1),c=Object(s.a)(t,2),r=c[0],a=c[1],n=Object(i.useState)({status:!1,message:""}),o=Object(s.a)(n,2),l=o[0],u=o[1],d=function(){var t=Object(F.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(!0),t.next=4,e();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),u({status:!0,message:t.t0.message});case 9:return t.prev=9,a(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}();return[d,r,l]},R=new(c(89).a)({url:"https://laserkids.ru",consumerKey:"ck_f630e083e201d809e9054871d305f211abc832c5",consumerSecret:"cs_5c9c01c48ea9db07a9e45a55c729c5406b02ef9b",version:"wc/v3",axiosConfig:{headers:{}}}),I=function(){return Object(x.jsx)("div",{className:"loading-spinner",children:Object(x.jsx)("div",{className:"spinner-border text-default",role:"status",children:Object(x.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})},T=(c(157),c(158),c(93)),L=function(){var e=Object(i.useContext)(g),t=e.cartMap,c=e.calcTotal,r=e.addToCart,a=Object(p.i)().id,n=Object(i.useState)(null),o=Object(s.a)(n,2),l=o[0],u=o[1],j=Object(i.useState)(1),b=Object(s.a)(j,2),m=b[0],O=b[1],h=Object(i.useState)(!1),f=Object(s.a)(h,2),A=f[0],v=f[1],N=B(Object(F.a)(E.a.mark((function e(){var t,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("products/".concat(a));case 2:t=e.sent,c=t.data,u(c);case 5:case"end":return e.stop()}}),e)})))),y=Object(s.a)(N,2),w=y[0],_=y[1];return Object(i.useEffect)((function(){return w()}),[a]),d((function(){A&&c(a,m)}),[m]),Object(i.useEffect)((function(){var e=Object.keys(t);e.length&&e.includes(a)&&O(t[a].qty),v(e.includes(a))}),[t,a]),Object(x.jsx)(x.Fragment,{children:_||null===l?Object(x.jsx)(I,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"product-wrapper",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-5",children:Object(x.jsx)(T.a,{images:l.images})}),Object(x.jsx)("div",{className:"col-7",children:Object(x.jsxs)("div",{className:"product-body",children:[Object(x.jsx)("p",{className:"product-name",children:l.name}),Object(x.jsx)("p",{className:"product-price",dangerouslySetInnerHTML:{__html:C.a.sanitize(l.price_html)}}),Object(x.jsxs)("div",{className:"product__add-cart",children:[Object(x.jsx)("input",{type:"number",className:"form-control product-qty",value:m,onChange:function(e){return O(parseInt(e.target.value))}}),A?Object(x.jsx)("span",{className:"product__cart cart_added",children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 \u2714"}):Object(x.jsx)("span",{className:"product__cart",onClick:function(){r(l,m),v(!0)},children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{children:l.categories.length>1?"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438: ":"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f: "}),Object(x.jsx)("span",{className:"product-categories",children:l.categories.map((function(e,t){return t+1!==l.categories.length?"".concat(e.name,", "):"".concat(e.name)}))})]})]})})]})}),l.description?Object(x.jsx)("div",{className:"product-wrapper",children:Object(x.jsx)("div",{className:"product-description",dangerouslySetInnerHTML:{__html:l.description}})}):null]})})},Q=function(){return Object(x.jsxs)("div",{className:"text-widget text-widget__contacts",children:[Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{className:"text-widget__img",children:Object(x.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYEAYAAACw5+G7AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5QoKEBsa5yJJxAAABF5JREFUWMPNl3tMU2cYxp+3tDAuA1niGC2ijLExUMe4jGWyZGQYCS04QSqCMpxZqo5dYEtA5SoyYCJVRjYRmDpx0Qo2gwoyXBaRBHVAMghudtJFWCkjJlwk5db22x9SdjGkBVzZ89dJTp7nPL/vOyffewj/0nOlpeENShsbrVJ3jXWVldEEXsKncXFMil6sVKlYCE6ydcnJmq7ULaLi69exzCLjhY8sm8kuWFuPXnB6x764pgY3sA45kZGPOB7AiiQTE0xEmYYvo6IGvkkZE0VevbpcABzjio8EOSntk+TyeYsb9ST0rNzWlhQsj7O3ro4fL3VU1IeFLRuA9mt9DzuWnk4huIyaiAiznbMgyGDv0pRCIYiSJig0QqHFAaiTTVF5QsJiA2gjBLC1scFK1kvC8+cF75eGNyjd3CwGgEq8wU67uCw56QrEyHNwMGTrRKwqIMByAGpw8bJavdQgdhhtKJqZ4fnTAfZ6d7flAIJYLnuxrW3RxYtwHy+oVJwu9DPNtm19fSljIpFKZTmAcUxb7aitXXDxJIyhr72dlzCab+fp6/u7NPWG6Fe53FLF5wDUW1f1PNjS1MTa4IgDd++aa6QTCCNpVdU9yqVQmpy0dPE5AEAsFov1ejaFSnQVFprtDEc/+0IgWK7ifwN4KI3XaJud4cwZJKKDKjs7TTqfQgCmd+40HoTLDgDkUijpdJwV2IseiQTRkMFDr5/XeQkKsNWrtdO6Efjl5PwPAB6qPy01JELZ3s78yZM+yM01FUAy9LOktDT++pIjih1xcYst8syuYr8GpY+PgH+0WFEfG+tafnxFvb+7+4IBjBrYNVJ9szk/n32FQ/i+sXHeBDU+hpAIrXSQrE6dckspebXBLj7e3OKCDUerGtISE61GOAexqbsbRBziyGScW3pvDnp6TM1aZOoB7u4FBQqFs7Puc+tkCm9poX1Ugaa1a002G0YvvS2VGqT26/XuGRkaiUQS2anVGm8/61FY0Pydk9NkvY10JvP2bdrE0lkWn/9Ijonp1ySAUauKin759jU+3+DJ8+JNtrbiQxxneR4epnysAn+gUaOhIRZHg+fOsTJOFHt6fHxuBnNFOqvz8jJZYBbEMGTYx+SbN2ue+IQnDGpuNhtgDiT0s8kGpaen4T0uD3HNzeaCPDbNgtAdzhg7Fh6+YIA5kNkd0XtzBdyWpiazX63HJPYzClDa1bVoAKPmvpFrNtEUW1294P+KxQJkQgK7wUHOUoP6+vbvF4mGhwc8Rp+/pY2MZIepg6RZWSbPkSWKNuAeHM6eXfIOzCe+TMoub/Xzw08sF29WVNBpOMI9MHCpuUyOGPxWW+u6x77RJXj79v8M4C9lsx8YlysQO17UfrR7N4LpEkbT01GCVxC7Zs1ii3d0SvYEBs3MWADgnwrwLz/R/iOPNyDRSoZOCoXkyu7jZkwMvQVf9AQHwxtc1i4QsCs4hKSBAbqDaHhVVak3jjrbXSwuNo48xrw/AeIx3Jud3VH5AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTEwLTEwVDE2OjI3OjI2KzAwOjAwX9pcYwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0xMC0xMFQxNjoyNzoyNiswMDowMC6H5N8AAAAASUVORK5CYII=",alt:"phone-call"})}),Object(x.jsx)("a",{href:"tel:+79603621543",children:"+7 (960) 362 1543"})]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{className:"text-widget__img",children:Object(x.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAMrSURBVEiJrZZfaFt1FMc/55emydbV3IamUp06ttkYROdsU9wQt8L61o4ksIIw4oOoCIKCLxaZ+OfBh8EQ3waCFEVrC00LgogPKTJBSBvbMq1OZDhsH5rOBZvRLmnu8cE2velyu6b4fbq/cw7f7zm/e885V1QVNyRSibaiSlSM3QV0CnQBKEwB02qbqUbRzFh8bMmNQ2oJ9Ez2NDTlrUEDFxS8rhkAAiUbPrht5T9Mn06v31OgL5WIiOgQEN2JuAYyqvLC1/GxeafROA/9E7GkGDu7B3KAqBg72z8RSzqNlQr6UomIGDuLin8P5E7GNbXN05uVGPjvzkV0yEn+0IGDxA6fJegP1ieg4hfRoZ7JnoaKQFPeGsRxLeGWDi49d5Fk5DwXooN7qSO6wYln7thcmwoTgGfTm4yc59B9jwBg+Sxml+dYXrtZl4KBZ0fnRy6bokp0+6cYaQlXBfc+fKbuEhS8RZWo2WiiKty6k68OVrtuAQAxdpcBOrc7ZnKzlee/127xyS+f7kkA6DSb7e/E94tXKGt546R4zY7N7AqBLlNrFCwUFhj7YxyAoD/Im8ffwIi5i2A3MMCvtRzD10b4KTcDwJOtT/DS4y/iEU9VTHNjM5bPciVXmPJ0PB8+AXLXewCYXsoSbesk4Atw1DrCifZnuLFyg9zqMu1N7Xx86hKxw2cJ7W/lr8IihVJhO8WX0peKvQ585JZFc2Mzb0ffosN6tGKbyc1y8MCDtO5rrdjKWubV9Gssr271i9qmz3hVPgdW3ARWiiu8++P7fPvnd2zOradCx6rIATzioVC6XTkLlBpFM5754fnVL34b9gtyyk1kXctML2WZXsryQFM7oX0hRKQq5qvfR5nNzW1lD+9NxFPfiKrSOzoQ8HtL14EWNxEnLF+A7vujRIKPcadc5MriD1y9+bMzJFOw8ifTp9PrW+N6PH5d4NBuBHZErXHdPx7v/r/IgVecW60BQGDAffXvGhm1Te2VqXAOyAOfIZoow1FELwL/3DNpKCm8U7DyJ7eTA8iZkXOB/Q3r3Qu50OTUy5dLTmfv6EDA5y0lReU4omEgLFCs57flX0EkMkeNoDLGAAAAAElFTkSuQmCC",alt:"whatsapp"})}),Object(x.jsx)("a",{href:"https://wa.me/79603621543",target:"_blank",rel:"noreferrer",children:"+7 (960) 362 1543"})]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{className:"text-widget__img",children:Object(x.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYEAYAAACw5+G7AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5QoKEB8oS5ndQAAAAv1JREFUWMPtl11IU2EYx//POU4ktShEp9tACzSZepMaGkoYhZFgfpIEfgx1KhlEpFSEelGkIhKSmR9bRiTMJIUsyIrIStQUdBMDK8S5nCKo4MVqbm83ngXJIHV4Cvzdnfdw3uf3f57D4bzALrtsC1JUt1XPXImMtCXSMlVqNFQJFXqVSgyhHzEcJ7agg2jEYcBuZ+0IRqjBwEI4rX2vSkUBPZqlWT+9nkrwlH0KCxPb829hzzGFA3o9RzUkZ3elUrGFNgvdxmE0SaUcvHCRPOvrxRbaNCHwpJX6ehKuZQFazawxIwNBKGWDjY2YZg046uMjtqcAewIzJSwvkwH3EF9ebipQGeVtzc2cLFubP/tAq3UzIc8q7+tb28N/lXgrlewpPYShq0tscSxQJ3S9vfw7xtvPKpVu+TRjbdXpBG8Or1ksO5Gba73PrknOTE5y6TY/69XY2O/ReW8Vp9PTwQiEzEwEUikGFxd3qtOoRAVVqtUma94LxeWkJGbmykgaEbG2H7zbqF4veJNMptEYjYxt3AkVqOjsZJ/5O5yuuNiWRrF8F8/zN23nrPbGRkph2QhLS3N1p+kCZwLUavduS8nP5NVVyyPJefeemhrKRCcyCwv/fMz5d55QhaqMDDy2DbN4g8HVk3HWacA+BoSH/1hyL3FfMRiciTs0nU7AaeVtTmaLnXZdACHHDUyR2mxmRLeYubh4Tp1HitHubn+j5ojxWFYWlwp/pJaVIYje4wtj9jp2COO1tXMK1YjiQ0eH/JKWGesSE5kWPI63tMCTtcJXLt+sx5YDbECKASS3t1v32UqtReXlC28KIg4Wzs8Lt30TWsa/Nfv5SVb4BklTdTXMiEFPTs52y7ougDCZSaxSoMVC/RjAqeFhx3ocYvAyKopC4cWmPTxcVc/NVRs5OvJb8CQQF+dYd3Whdf6dv80tB5ChDS58hXaMdW+OXcczSpmYENtns7BX+AhvvZ5jRVyPbSg3FxYEY2RsTDg4iC24AcFr3VM40Iittct/zy/zh3+SYYcCLwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0xMC0xMFQxNjozMTo0MCswMDowMDb1z1kAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMTAtMTBUMTY6MzE6NDArMDA6MDBHqHflAAAAAElFTkSuQmCC",alt:"email"})}),Object(x.jsx)("a",{href:"mailto:laserkid@yandex.ru",target:"_blank",rel:"noreferrer",children:"laserkid@yandex.ru"})]})]})},P=function(){return Object(x.jsx)("nav",{className:"nav-widget",children:Object(x.jsx)("ul",{className:"nav-widget__list",children:Object(x.jsx)("li",{className:"nav-widget__item",children:Object(x.jsx)(l.b,{to:"/catalog/",children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"})})})})},V=function(){return Object(x.jsxs)("div",{className:"sidebar-wrapper",children:[Object(x.jsx)("div",{className:"sidebar-block",children:Object(x.jsx)(P,{})}),Object(x.jsx)("div",{className:"sidebar-block",children:Object(x.jsx)(Q,{})})]})},G=function(){return Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"row justify-content-start",children:[Object(x.jsx)("div",{className:"col-3",children:Object(x.jsx)(V,{})}),Object(x.jsx)("div",{className:"col-8 single-product",children:Object(x.jsx)(L,{})})]})})},D=c.p+"static/media/delete.e4efcb06.svg",J=c.p+"static/media/delete-red.0a2da310.svg",Y=function(e){var t,c=e.product,r=Object(i.useState)(c.qty),a=Object(s.a)(r,2),n=a[0],o=a[1],u=Object(i.useContext)(g),d=u.removeProduct,b=u.calcTotal;return Object(i.useEffect)((function(){b("".concat(c.id),n)}),[n]),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"cart__content-img",children:Object(x.jsx)("img",{src:null!==(t=c.image.src)&&void 0!==t?t:"https://via.placeholder.com/300x300",alt:c.image.alt||c.image.name,onLoad:function(e){var t=e.target;t.style.height=getComputedStyle(t).width}})}),Object(x.jsx)("td",{className:"cart__content-name",children:Object(x.jsx)(l.b,{to:"/catalog/".concat(c.id),children:c.name})}),Object(x.jsx)("td",{className:"cart__content-price",dangerouslySetInnerHTML:{__html:C.a.sanitize(c.price_html)}}),Object(x.jsx)("td",{className:"cart__content-qty",children:Object(x.jsx)("input",{type:"number",className:"form-control",min:"1",max:"10",value:n,onChange:function(e){return o(parseInt(e.target.value))}})}),Object(x.jsxs)("td",{className:"cart__content-total",children:[j(c.total)," \u20bd"]}),Object(x.jsx)("td",{className:"cart__content-remove",children:Object(x.jsx)("img",{src:D,alt:"move-to-trash",onClick:function(){return d("".concat(c.id))},onMouseEnter:function(e){e.target.setAttribute("src",J)},onMouseLeave:function(e){e.target.setAttribute("src",D)}})})]})},U=["11%","45%","13%","12%","13%","6%"],X=function(){return Object(x.jsx)("colgroup",{children:U.map((function(e,t){return Object(x.jsx)("col",{style:{width:e}},t)}))})},z=function(){return Object(x.jsx)("thead",{className:"cart__content-head",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"\u0424\u043e\u0442\u043e"}),Object(x.jsx)("td",{children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430"}),Object(x.jsx)("td",{children:"\u0426\u0435\u043d\u0430"}),Object(x.jsx)("td",{children:"\u041a\u043e\u043b-\u0432\u043e"}),Object(x.jsx)("td",{children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(x.jsx)("td",{children:"\xa0"})]})})},W=function(e){var t=e.cartMap;return Object(x.jsx)("tbody",{className:"cart__content-body",children:Object.keys(t).length?Object.keys(t).map((function(e,c){return Object(x.jsx)(Y,{product:t[e]},e)})):null})},K=function(e){var t=e.totalCart;return Object(x.jsx)("tfoot",{className:"cart__content-foot",children:Object(x.jsxs)("tr",{className:"cart__content-result",children:[Object(x.jsx)("td",{colSpan:4,children:"\u0418\u0442\u043e\u0433\u043e:"}),Object(x.jsxs)("td",{children:[j(t)," \u20bd"]}),Object(x.jsx)("td",{children:"\xa0"})]})})},q=function(){var e=Object(i.useContext)(g),t=e.cartMap,c=e.totalCart;return Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"row justify-content-center",children:[Object(x.jsx)("div",{className:"col-3",children:Object(x.jsx)(V,{})}),Object(x.jsx)("div",{className:"col-9 d-flex flex-column",style:{gap:"30px 0"},children:Object(x.jsx)("section",{className:"cart__wrapper",children:Object(x.jsxs)("table",{className:"cart__content",children:[Object(x.jsx)(X,{}),Object(x.jsx)(z,{}),Object(x.jsx)(W,{cartMap:t}),Object(x.jsx)(K,{totalCart:c})]})})})]})})},Z=function(e){var t,c=e.product,r=Object(i.useState)(!1),a=Object(s.a)(r,2),n=a[0],o=a[1],l=Object(i.useContext)(g),u=l.cartMap,d=l.addToCart,j=Object(p.g)().push;return Object(i.useEffect)((function(){o(Object.keys(u).includes(String(c.id)))}),[u,c.id]),Object(x.jsx)("div",{className:"col-12 col-sm-6 col-md-12 col-lg-6 col-xl-4",children:Object(x.jsxs)("div",{className:"product__wrapper",children:[Object(x.jsx)("img",{src:null!==(t=c.images[0].src)&&void 0!==t?t:"https://via.placeholder.com/300x300",alt:c.images[0].alt||c.images[0].name,onLoad:function(e){var t=e.target;t.style.height=getComputedStyle(t).width}}),Object(x.jsxs)("div",{className:"product__body",children:[Object(x.jsx)("p",{className:"product__name",onClick:function(){return j("/catalog/".concat(c.id))},children:c.name}),Object(x.jsx)("p",{className:"product__cost",dangerouslySetInnerHTML:{__html:C.a.sanitize(c.price_html)}}),n?Object(x.jsx)("span",{className:"product__cart cart_added",children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 \u2714"}):Object(x.jsx)("span",{className:"product__cart",onClick:function(){d(c),o(!0)},children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]})]})})},H=function(){var e=Object(i.useContext)(A).products;return Object(x.jsx)("div",{className:"row",style:{gap:"15px 0"},children:e.length?e.map((function(e){return Object(x.jsx)(Z,{product:e},e.id)})):Object(x.jsx)("p",{className:"produst__not-found",children:"\u041c\u044b \u043d\u0435 \u0441\u043c\u043e\u0433\u043b\u0438 \u043d\u0430\u0439\u0442\u0438 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0434\u043b\u044f \u0432\u0430\u0441! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u0430"})})},$=c(36),ee=function(){return Object($.b)()},te=$.c,ce={asc:"asc",desc:"desc",default:"default"},re=c(25),ae={category:-1,maxCost:0,orderby:ce.default,searchQuery:""},ne=Object(re.c)({name:"goods",initialState:ae,reducers:{setCategory:function(e,t){e.category=t.payload},setMaxCost:function(e,t){e.maxCost=t.payload},setOrderby:function(e,t){e.orderby=t.payload},setSearchQuery:function(e,t){e.searchQuery=t.payload}}}),se=ne.reducer,ie=ne.actions,oe=ie.setCategory,le=ie.setMaxCost,ue=ie.setOrderby,de=ie.setSearchQuery,je=function(){var e=ee(),t=Object(i.useState)(0),c=Object(s.a)(t,2),r=c[0],a=c[1],n=Object(i.useState)(0),o=Object(s.a)(n,2),l=o[0],d=o[1],j=Object(i.useState)(0),b=Object(s.a)(j,2),m=b[0],O=b[1],p=Object(i.useContext)(v).sortedPosts,h=Object(i.useContext)(A).category;Object(i.useEffect)((function(){if(p.length){var t=function(e){var t=[];return t.push.apply(t,Object(u.a)(e.map((function(e){return parseInt(e.price)})))),[Math.min.apply(Math,t),Math.max.apply(Math,t)]}(p);a(t[0]),d(t[1]),O(t[1]),e(le(t[1]))}}),[h,p]);return Object(x.jsxs)("div",{className:"main__filter-block",children:[Object(x.jsx)("p",{className:"filter-item__title",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(x.jsx)("div",{className:"filter-item__content",children:Object(x.jsxs)("div",{className:"d-flex flex-column w-100",children:[Object(x.jsx)("input",{type:"range",className:"form-range",min:r,max:l,value:m,step:"50",onInput:function(e){O(parseInt(e.target.value))},onMouseUp:function(t){var c=t.target;e(le(parseInt(c.value)))}}),Object(x.jsxs)("p",{className:"filter-item__by-cost",children:["\u0426\u0435\u043d\u0430: ",Object(x.jsx)("span",{className:"min-cost",children:r})," \u20bd \u2014"," ",Object(x.jsx)("span",{className:"max-cost",children:m})," \u20bd"]})]})})]})},be=function(){var e=ee(),t=Object(i.useContext)(A).categories,c=te((function(e){return e.FilterReducer})),r=c.category;return Object(x.jsxs)("div",{className:"main__filter-block",children:[Object(x.jsx)("p",{className:"filter-item__title",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),Object(x.jsx)("div",{className:"filter-item__content",children:Object(x.jsxs)("select",{className:"form-select",value:r,onChange:function(t){return e(oe(parseInt(t.target.value)))},children:[Object(x.jsx)("option",{value:-1,children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"}),t.map((function(e){return 0!==e.count&&Object(x.jsx)("option",{value:e.id,children:e.name},e.id)}))]})})]})},me=function(){var e=ee(),t=te((function(e){return e.FilterReducer})),c=t.orderby;if(Object(i.useContext)(A).products.length<2)return null;return Object(x.jsxs)("div",{className:"main__filter-block",children:[Object(x.jsx)("p",{className:"filter-item__title",children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430"}),Object(x.jsx)("div",{className:"filter-item__content",children:Object(x.jsxs)("select",{className:"form-select",value:c,onChange:function(t){e(ue(ce[t.target.value]))},children:[Object(x.jsx)("option",{value:"default",children:"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"}),Object(x.jsx)("option",{value:"asc",children:"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e"}),Object(x.jsx)("option",{value:"desc",children:"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e"})]})})]})},Oe=function(){var e=ee(),t=te((function(e){return e.FilterReducer})),c=t.searchQuery;return Object(x.jsxs)("div",{className:"main__filter-block",children:[Object(x.jsx)("p",{className:"filter-item__title",children:"\u041f\u043e\u0438\u0441\u043a"}),Object(x.jsxs)("div",{className:"filter-item__content",children:[Object(x.jsx)("input",{type:"text",className:"form-control",value:c,onInput:function(t){return e(de(t.target.value))},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441"}),c&&Object(x.jsx)("span",{className:"clear-search",onClick:function(){return e(de(""))},children:"\xd7"})]})]})},pe=function(){var e=ee(),t=function(){e(oe(-1)),e(ue(ce.default)),e(de(""))};return Object(x.jsx)("button",{className:"btn btn-default",onClick:t,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})},he=(c(162),function(){return Object(x.jsxs)("div",{className:"main__filter",children:[Object(x.jsx)(Oe,{}),Object(x.jsx)(be,{}),Object(x.jsx)(je,{}),Object(x.jsx)(me,{}),Object(x.jsx)(pe,{})]})}),xe=function(e,t){var c=Object(i.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0;return-1===e?t:t.filter((function(t){return t.categories.some((function(t){return t.id===e}))}))}(e,Object(u.a)(t))}),[e,t]);return c},fe=function(e,t){var c=Object(i.useMemo)((function(){return 0!==e?function(e,t){return t.filter((function(t){return parseFloat(t.price)<=e}))}(e,Object(u.a)(t)):t}),[e,t]);return c},Ae=function(e,t){var c=Object(i.useMemo)((function(){return function(e,t){return"default"===e?t:t.sort((function(t,c){return"asc"===e?parseFloat(t.price)-parseFloat(c.price):"desc"===e?parseFloat(c.price)-parseFloat(t.price):null}))}(e,Object(u.a)(t))}),[e,t]);return c},ge=function(e,t,c,r,a){var n=xe(e,a),s=fe(t,n),o=function(e,t){var c=Object(i.useMemo)((function(){return function(e,t){return""!==e?t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase().trim())})):t}(e,Object(u.a)(t))}),[e,t]);return c}(r,Ae(c,s));return o},ve=c(95),Ne=function(e){var t=e.page,c=e.setPage,r=te((function(e){return e.GoodsReducer})),a=r.total;if(1===a)return null;var n=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Array.from({length:(t-e)/c+1},(function(t,r){return e+r*c}))}(1,a);return Object(x.jsx)("div",{className:"pagination_list",children:n.map((function(e){return Object(x.jsx)("span",{className:"pagination_item".concat(e===t?" current_page":""),onClick:function(){return c(e)},children:e},e)}))})},ye=c(35),we=c(42),Ce=c(51),_e=c.n(Ce),ke=function(){function e(){Object(ye.a)(this,e)}return Object(we.a)(e,null,[{key:"getCategories",value:function(){var e=Object(F.a)(E.a.mark((function e(t){var c,r,a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=[],r=1,a=function(){var e=Object(F.a)(E.a.mark((function e(){var n,s,i,o,l,d=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>0&&void 0!==d[0]?d[0]:1,e.next=3,R.get("products/categories",{page:s});case 3:i=e.sent,o=i.data,l=i.headers,c=[].concat(Object(u.a)(c),Object(u.a)(o)),r=null!==(n=parseInt(l["x-wp-totalpages"]))&&void 0!==n?n:1,s<r?a(s+1):t(c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=6,a();case 6:e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(0),n=e.t0,console.error(n.message),new Error(n.message);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getWcProducts",value:function(e){}}]),e}();ke.getProducts=Object(F.a)(E.a.mark((function e(){var t,c,r,a,n,s,i,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],c=1,r=!0;case 3:if(!r){e.next=15;break}return e.next=6,_e.a.get("https://laserkids.ru/wp-json/wc/store/products?page="+c);case 6:n=e.sent,s=n.headers,i=n.data,t=[].concat(Object(u.a)(t),Object(u.a)(i)),o=null!==(a=s["x-wp-totalpages"])&&void 0!==a?a:1,r=c<o,c++,e.next=3;break;case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e)}))),ke.getProductById=function(){var e=Object(F.a)(E.a.mark((function e(t){var c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.a.get("https://laserkids.ru/wp-json/wc/store/products/?include="+t);case 2:return c=e.sent,e.abrupt("return",c.data[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Se=Object(re.b)("goods/fetchGoods",function(){var e=Object(F.a)(E.a.mark((function e(t,c){var r,a,n,s,i,o,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.limit,a=t.page,n=c.rejectWithValue,s=c.signal,e.prev=2,e.next=5,R.get("products",{per_page:r,page:a,signal:s});case 5:return i=e.sent,o=i.data,l=i.headers,e.abrupt("return",{goods:o,total:parseInt(l["x-wp-totalpages"])});case 11:return e.prev=11,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",n(""));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,c){return e.apply(this,arguments)}}()),Me=Object(re.c)({name:"goods",initialState:{goods:[],total:0,isLoading:!0,errorText:""},reducers:{},extraReducers:function(e){e.addCase(Se.fulfilled.type,(function(e,t){e.goods=t.payload.goods,e.total=t.payload.total,e.errorText="",e.isLoading=!1})),e.addCase(Se.rejected.type,(function(e){e.errorText="\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!",e.isLoading=!1}))}}).reducer,Ee=function(){var e=ee(),t=te((function(e){return e.GoodsReducer})),c=t.goods,r=t.isLoading,a=t.errorText,n=te((function(e){return e.FilterReducer})),o=n.category,l=n.maxCost,u=n.orderby,d=n.searchQuery,j=Object(ve.useStateIfMounted)([]),b=Object(s.a)(j,2),m=b[0],O=b[1],p=Object(i.useState)(18),h=Object(s.a)(p,2),f=h[0],g=h[1],N=Object(i.useState)(1),y=Object(s.a)(N,2),w=y[0],C=y[1],_=xe(o,c),k=ge(o,l,u,d,c);return Object(i.useEffect)((function(){var t=e(Se({limit:f,page:w}));return ke.getCategories((function(e){O(e)})),function(){t.abort()}}),[w]),Object(x.jsx)(A.Provider,{value:{products:k,categories:m,category:o},children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"row main-section justify-content-between",children:[Object(x.jsx)("aside",{className:"col-12 col-md-5 col-lg-4 col-xl-3 mb-4 mb-md-0",children:Object(x.jsx)(v.Provider,{value:{sortedPosts:_,limit:f,setLimit:g},children:Object(x.jsx)(he,{})})}),Object(x.jsx)("article",{className:"col-12 col-md-6 col-lg-7 col-xl-8 mb-5 product-list",children:a?Object(x.jsxs)("div",{children:["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043a\u0430\u043a\u0430\u044f \u0442\u043e \u043e\u0448\u0438\u0431\u043a\u0430 - ",a]}):r?Object(x.jsx)(I,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(H,{}),Object(x.jsx)(Ne,{page:w,setPage:function(e){return C(e)}})]})})]})})})},Fe=[{path:"/catalog",component:Ee,exact:!0,title:"Laserkids Store - \u041a\u0430\u0442\u0430\u043b\u043e\u0433"},{path:"/catalog/:id",component:G,exact:!0,title:"Laserkids Store"},{path:"/cart/",component:q,exact:!1,title:"Laserkids Store - \u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"}],Be=c(21),Re=Object(Be.b)({GoodsReducer:Me,FilterReducer:se}),Ie=Object(re.a)({reducer:Re}),Te=function(){var e=Object(i.useState)({}),t=Object(s.a)(e,2),c=t[0],r=t[1],a=Object(i.useState)(0),o=Object(s.a)(a,2),u=o[0],j=o[1],p=Object(i.useState)(0),h=Object(s.a)(p,2),A=h[0],v=h[1];Object(i.useEffect)((function(){if(null!==localStorage.getItem("WC_Cart")){var e=JSON.parse(localStorage.getItem("WC_Cart"));0!==Object.keys(e).length&&(r(e),j(Object.keys(e).length),v(b(e)))}}),[]),d((function(){localStorage.setItem("WC_Cart",JSON.stringify(c)),j(Object.keys(c).length),v(b(c))}),[c]);return Object(x.jsx)($.a,{store:Ie,children:Object(x.jsx)(l.a,{children:Object(x.jsxs)(g.Provider,{value:{cartMap:c,cartCounter:u,totalCart:A,removeProduct:function(e){r(function(e,t){return Object.keys(t).filter((function(t){return t!==e})).reduce((function(e,c){return e[c]=t[c],e}),{})}(e,c))},calcTotal:function(e,t){var a=Object(n.a)(Object(n.a)({},c[e]),{},{qty:t,total:c[e].price*t});r((function(t){return m(e,a,t)}))},addToCart:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=O(e,t);r((function(t){return m(e.id,c,t)}))}},children:[Object(x.jsx)(S,{}),Object(x.jsx)(f,{routes:Fe,redirect:"/catalog"})]})})})};a.a.render(Object(x.jsx)(Te,{}),document.getElementById("root"))},93:function(e,t,c){"use strict";(function(e){var r=c(8),a=c(1),n=c(50),s=c.n(n),i=c(0),o=function(t){var c,r=t.image,a=t.ind,n=t.wrapperRef;return Object(i.jsx)("img",{src:null!==(c=r.src)&&void 0!==c?c:"https://via.placeholder.com/300x300",alt:r.alt||r.name,onLoad:function(t){if(0===a){var c=n.current.container,r=e(t.target).css("height");e(c).find(".owl-stage-outer").css("height",r)}}})};t.a=function(t){var c=t.images,n=Object(a.useRef)(null),l=Object(a.useRef)(null);var u={items:1,dots:!1,nav:!1,margin:10,responsive:{0:{items:1,autoHeight:!0},768:{items:1,autoHeight:!0}},onChanged:function(t){var c=e(".previewSlider"),r=t.item.index;c.find(".owl-item").removeClass("current").eq(r).addClass("current");var a=c.find(".owl-item.active").length-1,n=c.find(".owl-item.active").first().index();r>c.find(".owl-item.active").last().index()&&c.trigger("to.owl.carousel",[r,100,!0]),r<n&&c.trigger("to.owl.carousel",[r-a,100,!0])}},d={onInitialized:function(t){e(t.target).find(".owl-item").eq(0).addClass("current")},items:3,dots:!1,nav:!0,margin:5,slideBy:3,responsiveRefreshRate:100,onChanged:function(t){var c=e(".product-images"),r=t.item.index;c.trigger("to.owl.carousel",[r,100,!0])}};return c.length<2?Object(i.jsx)("div",{className:"product-image",children:Object(i.jsx)("a",{href:c[0].src,target:"_blank",rel:"noreferrer",style:{display:"block"},children:Object(i.jsx)(o,{image:c[0]})})}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(s.a,Object(r.a)(Object(r.a)({className:"owl-theme product-images"},u),{},{ref:n,children:c.map((function(e,t){return Object(i.jsx)(o,{image:e,ind:t,wrapperRef:n},e.id)}))})),Object(i.jsx)("div",{className:"product-images__preview mt-2",children:Object(i.jsx)(s.a,Object(r.a)(Object(r.a)({},d),{},{className:"previewSlider",ref:l,children:c.map((function(t,c){return Object(i.jsx)("img",{src:t.src,alt:t.alt||t.name,onClick:function(){return function(t){var c;if(null===(c=l.current)||void 0===c?void 0:c.container){for(var r=e(l.current.container).find(".owl-item"),a="current",s=0;s<r.length;s++)r.eq(s).removeClass(a);r.eq(t).addClass(a),e(n.current.container).trigger("to.owl.carousel",[t])}}(c)}},t.id)}))}))})]})}}).call(this,c(47))}},[[182,1,2]]]);
//# sourceMappingURL=main.ee6b2155.chunk.js.map