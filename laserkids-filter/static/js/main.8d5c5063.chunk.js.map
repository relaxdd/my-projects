{"version":3,"sources":["utils.ts","router/MainRouter.tsx","hooks/useLocationChange.js","images/icons/shopping-cart-white.svg","images/icons/delete.svg","images/icons/delete-red.svg","components/cart/HeaderCartItem.tsx","components/cart/HeaderCart.tsx","ui/header/Header.tsx","components/widgets/TextWidget.tsx","images/phone-call.png","images/whatsapp.png","images/email.png","components/widgets/NavWidget.tsx","ui/sidebar/Sidebar.tsx","pages/Product.tsx","components/cart/CartItem.tsx","pages/Cart..tsx","components/products/ProductItem.tsx","components/products/ProductList.tsx","components/filter/FilterRange.tsx","components/filter/FilterCategory.tsx","components/filter/FilterOrderby.tsx","components/filter/FilterSearch.tsx","components/filter/ClearFilter.tsx","components/filter/ProductsFilter.tsx","hooks/useProducts.js","components/pagination/Pagination.tsx","api/rest.ts","pages/Catalog.tsx","router/index.ts","App.tsx","index.tsx","tools/wc-api.ts","Context.ts","hooks/useDidUpdateEffect.js","hooks/useFetch.ts","ui/Loader.js","components/product/ProductContent.tsx"],"names":["OrderbyEnum","price_format","price","location","Intl","NumberFormat","format","calcTotalCart","cart","total","key","qty","pushCart","id","product","new_cart","getMapProduct","product_map","name","img","images","src","image","parseFloat","price_html","MainRouter","routes","redirect","map","route","path","exact","Fragment","Helmet","title","component","to","useLocationChange","action","useLocation","useEffect","HeaderCartItem","removeProduct","useContext","CartContext","className","alt","onLoad","e","target","style","height","getComputedStyle","width","dangerouslySetInnerHTML","__html","DOMPurify","sanitize","icon_trash","onMouseEnter","setAttribute","icon_trash_hover","onMouseLeave","onClick","HeaderCart","useState","setPath","showCart","setShowCart","cartMap","cartCounter","totalCart","pathname","split","filter","item","Boolean","icon_cart_path","Object","keys","Header","TextWidget","href","rel","NavWidget","Sidebar","Product","ProductContent","CartItem","setQty","calcTotal","type","min","max","value","onChange","parseInt","trash","trash_h","sizes_td","Colgroup","ind","THead","TBody","length","TFoot","colSpan","Cart","gap","ProductItem","inCart","setInCart","addToCart","push","useHistory","includes","String","ProductList","products","Context","FilterRange","minRange","setMinRange","maxRange","setMaxRange","currentRange","setCurrentRange","FilterContext","setMaxCost","sortedPosts","category","min_max","productsList","prices","Math","calc_min_max","step","onInput","onMouseUp","FilterCategory","categories","setCategory","count","FilterOrderby","orderby","setOrderby","FilterSearch","searchQuery","setSearchQuery","placeholder","ClearFilter","ProductsFilter","useSortedByCategoryProducts","useMemo","some","cat","sortByCategory","useSortedByCostProducts","maxCost","sortedByCost","cost","sortByCost","useSortedByOrderbyProducts","sortedByOrderby","sort","a","b","sortByOrderby","useProducts","query","byCategory","byMaxCost","bySearch","filtredPosts","post","toLowerCase","trim","searchByQuery","useSortedBySearchProducts","Pagination","page","setPage","list","from","Array","_","i","fillArrayFromTo","ProductService","callback","totalPages","read_categories","wcApi","get","data","headers","console","error","message","Error","limit","getProducts","isNext","axios","getProductById","res","setCacheProducts","ProductContext","useStateIfMounted","setProducts","setCategories","setTotal","useFetch","per_page","fetchProducts","isLoading","getCategories","Provider","status","Loader","App","cacheProducts","setCartMap","setCartCounter","setTotalCart","localStorage","getItem","localCart","JSON","parse","useDidUpdateEffect","setItem","stringify","cartList","reduce","obj","filterCart","prev","ReactDOM","render","document","getElementById","WooCommerceRestApi","url","consumerKey","consumerSecret","version","axiosConfig","React","createContext","effect","deps","didMount","useRef","current","setLoading","isError","setError","fetching","role","ProductImage","wrapperRef","wrapper","container","imgHeight","$","css","find","useParams","setProduct","sliderRef","previewRef","cartKeys","sliderPrms","items","dots","nav","margin","responsive","autoHeight","onChanged","el","sync2","index","removeClass","eq","addClass","onscreen","start","first","last","trigger","previewPrms","onInitialized","slideBy","responsiveRefreshRate","sync1","number","ref","owlItem","activeClass","previewClick","display","description"],"mappings":"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","file":"static/js/main.8d5c5063.chunk.js","sourcesContent":["import { ICartShop } from \"./types/types\";\r\nimport { IMapProduct } from \"./types/types\";\r\nimport { WC_REST_API_Product, WC_REST_API_Products } from \"./types/wc-types\";\r\n\r\nexport const sortByCategory = (\r\n  category: number = -1,\r\n  products: WC_REST_API_Products\r\n) => {\r\n  return category === -1\r\n    ? products\r\n    : products.filter((item) =>\r\n        item.categories.some((cat) => cat.id === category)\r\n      );\r\n};\r\n\r\nexport const sortByCost = (cost: number, products: WC_REST_API_Products) => {\r\n  return products.filter((item) => parseFloat(item.price) <= cost);\r\n};\r\n\r\nexport enum OrderbyEnum {\r\n  asc = \"asc\",\r\n  desc = \"desc\",\r\n  default = \"default\",\r\n}\r\n\r\nexport const sortByOrderby = (\r\n  orderby: OrderbyEnum,\r\n  products: WC_REST_API_Products\r\n) => {\r\n  if (orderby === \"default\") return products;\r\n\r\n  return products.sort((a, b) => {\r\n    if (orderby === \"asc\") return parseFloat(a.price) - parseFloat(b.price);\r\n    if (orderby === \"desc\") return parseFloat(b.price) - parseFloat(a.price);\r\n    else return null;\r\n  });\r\n};\r\n\r\n/**\r\n * Filtering products by search query\r\n *\r\n * @param { string } query search query\r\n * @param { WC_REST_API_Products } products list of products\r\n * @returns { WC_REST_API_Products } filtered list of products\r\n */\r\nexport const searchByQuery = (\r\n  query: string,\r\n  products: WC_REST_API_Products\r\n) => {\r\n  return query !== \"\"\r\n    ? products.filter((post) =>\r\n        post.name.toLowerCase().includes(query.toLowerCase().trim())\r\n      )\r\n    : products;\r\n};\r\n\r\nexport const price_format = (price: number, location: string = \"ru-RU\") => {\r\n  return new Intl.NumberFormat(location).format(price);\r\n};\r\n\r\n/**\r\n * Calculation of the total cost of the goods, taking into account its quantity\r\n *\r\n * @param { ICartShop } cart\r\n * @returns { number } the total amount, taking into account the number of goods and its price\r\n */\r\nexport const calcTotalCart = (cart: ICartShop): number => {\r\n  let total = 0;\r\n\r\n  for (const key in cart) {\r\n    total += cart[key].price * cart[key].qty;\r\n  }\r\n\r\n  return total;\r\n};\r\n\r\n/**\r\n * Deleting an item from the shopping cart by ID\r\n *\r\n * @param { string } id id of the item being deleted from the cart\r\n * @param { ICartShop } cartList shopping cart with goods\r\n * @returns { ICartShop } filtered shopping cart of goods\r\n */\r\nexport const filterCart = (id: string, cartList: ICartShop): ICartShop => {\r\n  return Object.keys(cartList)\r\n    .filter((key) => key !== id)\r\n    .reduce((obj, key) => {\r\n      obj[key] = cartList[key];\r\n      return obj;\r\n    }, {});\r\n};\r\n\r\n/**\r\n * Adding a new product to the shopping cart\r\n *\r\n * @param { string } id\r\n * @param { IMapProduct } product\r\n * @param { ICartShop } cart\r\n * @returns { ICartShop } new cart\r\n */\r\nexport const pushCart = (\r\n  id: string,\r\n  product: IMapProduct,\r\n  cart: ICartShop\r\n): ICartShop => {\r\n  let new_cart = {};\r\n\r\n  new_cart = {\r\n    ...cart,\r\n  };\r\n  new_cart[id] = product;\r\n\r\n  return new_cart;\r\n};\r\n\r\n/**\r\n * Filling an array with numbers\r\n *\r\n * @param { number } from the number from which the filling begins\r\n * @param { number } to the end of filling the array\r\n * @param { number } step step between filling numbers\r\n * @returns { number[] } array of numbers\r\n */\r\nexport const fillArrayFromTo = (\r\n  from: number,\r\n  to: number,\r\n  step: number = 1\r\n): number[] => {\r\n  return Array.from(\r\n    { length: (to - from) / step + 1 },\r\n    (_, i) => from + i * step\r\n  );\r\n};\r\n\r\nexport const calc_min_max = (productsList: WC_REST_API_Products) => {\r\n  let prices: number[] = [];\r\n  prices.push(...productsList.map((product) => parseInt(product.price)));\r\n  return [Math.min(...prices), Math.max(...prices)];\r\n};\r\n\r\nexport const getMapProduct = (\r\n  product: WC_REST_API_Product,\r\n  qty: number = 1\r\n) => {\r\n  const product_map: IMapProduct = {\r\n    id: product.id,\r\n    name: product.name,\r\n    img: product.images[0].src ?? \"https://via.placeholder.com/300x300\",\r\n    image: product.images[0],\r\n    price: parseFloat(product.price),\r\n    qty,\r\n    total: parseFloat(product.price) * qty,\r\n    price_html: product.price_html,\r\n  };\r\n\r\n  return product_map;\r\n};\r\n\r\nexport const findAndReplaceList = (newItem: any, someList: any) => {\r\n  return someList.map((item: { _id: any }) =>\r\n    item._id !== newItem._id ? item : { ...newItem }\r\n  );\r\n};\r\n","import React, { FC } from \"react\";\r\nimport { Route, Switch, Redirect } from \"react-router-dom\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport IRoute from \"../types/IRoute\";\r\n\r\ninterface AppRouterProps {\r\n  routes: IRoute[];\r\n  redirect: string;\r\n}\r\n\r\nconst MainRouter: FC<AppRouterProps> = ({ routes, redirect }) => {\r\n  return (\r\n    <Switch>\r\n      {routes.map((route, id) => (\r\n        <Route path={route.path} exact={route.exact} key={id}>\r\n          <React.Fragment>\r\n            <Helmet>\r\n              <title>{route.title}</title>\r\n            </Helmet>\r\n            <route.component />\r\n          </React.Fragment>\r\n        </Route>\r\n      ))}\r\n      <Redirect to={redirect} />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default MainRouter;\r\n","import { useLocation } from \"react-router\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst useLocationChange = (action) => {\r\n  const location = useLocation();\r\n  useEffect(() => {\r\n    action(location);\r\n  }, [location, action]);\r\n};\r\n\r\nexport default useLocationChange;\r\n","export default __webpack_public_path__ + \"static/media/shopping-cart-white.61bc96f9.svg\";","export default __webpack_public_path__ + \"static/media/delete.e4efcb06.svg\";","export default __webpack_public_path__ + \"static/media/delete-red.0a2da310.svg\";","import React, { FC, useContext } from \"react\";\r\nimport { CartContext } from \"../../Context\";\r\n// Img\r\nimport icon_trash from \"../../images/icons/delete.svg\";\r\nimport icon_trash_hover from \"../../images/icons/delete-red.svg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DOMPurify from \"dompurify\";\r\nimport { IMapProduct } from \"../../types/types\";\r\n\r\ninterface HCIProps {\r\n  product: IMapProduct;\r\n}\r\n\r\nconst HeaderCartItem: FC<HCIProps> = ({ product }) => {\r\n  const { removeProduct } = useContext(CartContext);\r\n\r\n  return (\r\n    <div className=\"cart__products-item\">\r\n      <div className=\"row justify-content-between align-items-center w-100 m-0\">\r\n        <div className=\"col-8\">\r\n          <div className=\"row align-items-center\">\r\n            <div className=\"col-4\">\r\n              <img\r\n                src={product.image.src ?? \"https://via.placeholder.com/300x300\"}\r\n                alt={product.image.alt || product.image.name}\r\n                onLoad={(e) => {\r\n                  const target = e.target as HTMLImageElement;\r\n                  target.style.height = getComputedStyle(target).width;\r\n                }}\r\n                className=\"cart__products-image\"\r\n              />\r\n            </div>\r\n            <div className=\"col-8\">\r\n              <Link\r\n                className=\"cart__products-name\"\r\n                to={`/catalog/${product.id}`}\r\n              >\r\n                {product.name}\r\n                {product.qty > 1 ? ` x ${product.qty} шт.` : null}\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-3\">\r\n          <div className=\"cart__products-right\">\r\n            <p\r\n              className=\"cart__products-price\"\r\n              dangerouslySetInnerHTML={{\r\n                __html: DOMPurify.sanitize(product.price_html),\r\n              }}\r\n            />\r\n            <img\r\n              src={icon_trash}\r\n              alt=\"move-trash\"\r\n              className=\"cart__products-remove\"\r\n              onMouseEnter={(e: React.MouseEvent<HTMLImageElement>) => {\r\n                const target = e.target as HTMLImageElement;\r\n                target.setAttribute(\"src\", icon_trash_hover);\r\n              }}\r\n              onMouseLeave={(e: React.MouseEvent<HTMLImageElement>) => {\r\n                const target = e.target as HTMLImageElement;\r\n                target.setAttribute(\"src\", icon_trash);\r\n              }}\r\n              onClick={() => removeProduct(`${product.id}`)}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HeaderCartItem;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport useLocationChange from \"../../hooks/useLocationChange\";\r\n// Images\r\nimport icon_cart_path from \"../../images/icons/shopping-cart-white.svg\";\r\n// Utils\r\nimport { price_format } from \"../../utils\";\r\n// Context\r\nimport { CartContext } from \"../../Context\";\r\nimport { Link } from \"react-router-dom\";\r\nimport HeaderCartItem from \"./HeaderCartItem\";\r\n\r\nconst HeaderCart = () => {\r\n  const [path, setPath] = useState(\"/\");\r\n  const [showCart, setShowCart] = useState(true);\r\n  const { cartMap, cartCounter, totalCart } =\r\n    useContext(CartContext);\r\n\r\n  useLocationChange((location) => {\r\n    setPath(\r\n      location.pathname !== \"/\"\r\n        ? location.pathname.split(\"/\").filter((item) => item !== \"\")[0]\r\n        : \"/\"\r\n    );\r\n  });\r\n\r\n  useEffect(() => {\r\n    setShowCart(Boolean((cartCounter > 0) && (path !== \"cart\")));\r\n  }, [path, cartCounter]);\r\n\r\n  return (\r\n    <div className=\"header__cart\">\r\n      <div className=\"header__cart-inner\">\r\n        <img src={icon_cart_path} alt=\"cart\" className=\"header__cart-icon\" />\r\n        <p>\r\n          {cartCounter > 0 ? (\r\n            <Link to=\"/cart/\" className=\"header__cart-link\">\r\n              Корзина{\" \"}\r\n            </Link>\r\n          ) : (\r\n            \"Корзина \"\r\n          )}\r\n          {showCart ? (\r\n            <span className=\"header__cart-cartCounter\">{cartCounter}</span>\r\n          ) : null}\r\n        </p>\r\n      </div>\r\n      {showCart ? (\r\n        <div className=\"header__cart-content\">\r\n          <div className=\"cart__products\">\r\n            {Object.keys(cartMap).map((key) => (\r\n              <HeaderCartItem product={cartMap[key]} key={key} />\r\n            ))}\r\n          </div>\r\n          <div className=\"cart__driver-wrapper\">\r\n            <hr className=\"cart__driver\" />\r\n          </div>\r\n          <div className=\"cart__total\">\r\n            <span className=\"cart__total-text\">Итого:</span>\r\n            <span className=\"cart__total-price\">\r\n              {price_format(totalCart)} ₽\r\n            </span>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HeaderCart;\r\n","import { Link } from \"react-router-dom\";\r\nimport HeaderCart from \"../../components/cart/HeaderCart\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"container\">\r\n        <div className=\"d-flex justify-content-between\">\r\n          <Link to=\"/catalog\" className=\"header__brand\">\r\n            Laserkids Store\r\n          </Link>\r\n          <HeaderCart />\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","// images\r\nimport call from \"../../images/phone-call.png\";\r\nimport whatsapp from \"../../images/whatsapp.png\";\r\nimport email from \"../../images/email.png\";\r\n\r\nconst TextWidget = () => {\r\n  return (\r\n    <div className=\"text-widget text-widget__contacts\">\r\n      <p>\r\n        <span className=\"text-widget__img\">\r\n          <img src={call} alt=\"phone-call\" />\r\n        </span>\r\n\r\n        <a href=\"tel:+79603621543\">+7 (960) 362 1543</a>\r\n      </p>\r\n      <p>\r\n        <span className=\"text-widget__img\">\r\n          <img src={whatsapp} alt=\"whatsapp\" />\r\n        </span>\r\n\r\n        <a href=\"https://wa.me/79603621543\" target=\"_blank\" rel=\"noreferrer\">\r\n          +7 (960) 362 1543\r\n        </a>\r\n      </p>\r\n      <p>\r\n        <span className=\"text-widget__img\">\r\n          <img src={email} alt=\"email\" />\r\n        </span>\r\n\r\n        <a href=\"mailto:laserkid@yandex.ru\" target=\"_blank\" rel=\"noreferrer\">\r\n          laserkid@yandex.ru\r\n        </a>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextWidget;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYEAYAAACw5+G7AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5QoKEBsa5yJJxAAABF5JREFUWMPNl3tMU2cYxp+3tDAuA1niGC2ijLExUMe4jGWyZGQYCS04QSqCMpxZqo5dYEtA5SoyYCJVRjYRmDpx0Qo2gwoyXBaRBHVAMghudtJFWCkjJlwk5db22x9SdjGkBVzZ89dJTp7nPL/vOyffewj/0nOlpeENShsbrVJ3jXWVldEEXsKncXFMil6sVKlYCE6ydcnJmq7ULaLi69exzCLjhY8sm8kuWFuPXnB6x764pgY3sA45kZGPOB7AiiQTE0xEmYYvo6IGvkkZE0VevbpcABzjio8EOSntk+TyeYsb9ST0rNzWlhQsj7O3ro4fL3VU1IeFLRuA9mt9DzuWnk4huIyaiAiznbMgyGDv0pRCIYiSJig0QqHFAaiTTVF5QsJiA2gjBLC1scFK1kvC8+cF75eGNyjd3CwGgEq8wU67uCw56QrEyHNwMGTrRKwqIMByAGpw8bJavdQgdhhtKJqZ4fnTAfZ6d7flAIJYLnuxrW3RxYtwHy+oVJwu9DPNtm19fSljIpFKZTmAcUxb7aitXXDxJIyhr72dlzCab+fp6/u7NPWG6Fe53FLF5wDUW1f1PNjS1MTa4IgDd++aa6QTCCNpVdU9yqVQmpy0dPE5AEAsFov1ejaFSnQVFprtDEc/+0IgWK7ifwN4KI3XaJud4cwZJKKDKjs7TTqfQgCmd+40HoTLDgDkUijpdJwV2IseiQTRkMFDr5/XeQkKsNWrtdO6Efjl5PwPAB6qPy01JELZ3s78yZM+yM01FUAy9LOktDT++pIjih1xcYst8syuYr8GpY+PgH+0WFEfG+tafnxFvb+7+4IBjBrYNVJ9szk/n32FQ/i+sXHeBDU+hpAIrXSQrE6dckspebXBLj7e3OKCDUerGtISE61GOAexqbsbRBziyGScW3pvDnp6TM1aZOoB7u4FBQqFs7Puc+tkCm9poX1Ugaa1a002G0YvvS2VGqT26/XuGRkaiUQS2anVGm8/61FY0Pydk9NkvY10JvP2bdrE0lkWn/9Ijonp1ySAUauKin759jU+3+DJ8+JNtrbiQxxneR4epnysAn+gUaOhIRZHg+fOsTJOFHt6fHxuBnNFOqvz8jJZYBbEMGTYx+SbN2ue+IQnDGpuNhtgDiT0s8kGpaen4T0uD3HNzeaCPDbNgtAdzhg7Fh6+YIA5kNkd0XtzBdyWpiazX63HJPYzClDa1bVoAKPmvpFrNtEUW1294P+KxQJkQgK7wUHOUoP6+vbvF4mGhwc8Rp+/pY2MZIepg6RZWSbPkSWKNuAeHM6eXfIOzCe+TMoub/Xzw08sF29WVNBpOMI9MHCpuUyOGPxWW+u6x77RJXj79v8M4C9lsx8YlysQO17UfrR7N4LpEkbT01GCVxC7Zs1ii3d0SvYEBs3MWADgnwrwLz/R/iOPNyDRSoZOCoXkyu7jZkwMvQVf9AQHwxtc1i4QsCs4hKSBAbqDaHhVVak3jjrbXSwuNo48xrw/AeIx3Jud3VH5AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTEwLTEwVDE2OjI3OjI2KzAwOjAwX9pcYwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0xMC0xMFQxNjoyNzoyNiswMDowMC6H5N8AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAMrSURBVEiJrZZfaFt1FMc/55emydbV3IamUp06ttkYROdsU9wQt8L61o4ksIIw4oOoCIKCLxaZ+OfBh8EQ3waCFEVrC00LgogPKTJBSBvbMq1OZDhsH5rOBZvRLmnu8cE2velyu6b4fbq/cw7f7zm/e885V1QVNyRSibaiSlSM3QV0CnQBKEwB02qbqUbRzFh8bMmNQ2oJ9Ez2NDTlrUEDFxS8rhkAAiUbPrht5T9Mn06v31OgL5WIiOgQEN2JuAYyqvLC1/GxeafROA/9E7GkGDu7B3KAqBg72z8RSzqNlQr6UomIGDuLin8P5E7GNbXN05uVGPjvzkV0yEn+0IGDxA6fJegP1ieg4hfRoZ7JnoaKQFPeGsRxLeGWDi49d5Fk5DwXooN7qSO6wYln7thcmwoTgGfTm4yc59B9jwBg+Sxml+dYXrtZl4KBZ0fnRy6bokp0+6cYaQlXBfc+fKbuEhS8RZWo2WiiKty6k68OVrtuAQAxdpcBOrc7ZnKzlee/127xyS+f7kkA6DSb7e/E94tXKGt546R4zY7N7AqBLlNrFCwUFhj7YxyAoD/Im8ffwIi5i2A3MMCvtRzD10b4KTcDwJOtT/DS4y/iEU9VTHNjM5bPciVXmPJ0PB8+AXLXewCYXsoSbesk4Atw1DrCifZnuLFyg9zqMu1N7Xx86hKxw2cJ7W/lr8IihVJhO8WX0peKvQ585JZFc2Mzb0ffosN6tGKbyc1y8MCDtO5rrdjKWubV9Gssr271i9qmz3hVPgdW3ARWiiu8++P7fPvnd2zOradCx6rIATzioVC6XTkLlBpFM5754fnVL34b9gtyyk1kXctML2WZXsryQFM7oX0hRKQq5qvfR5nNzW1lD+9NxFPfiKrSOzoQ8HtL14EWNxEnLF+A7vujRIKPcadc5MriD1y9+bMzJFOw8ifTp9PrW+N6PH5d4NBuBHZErXHdPx7v/r/IgVecW60BQGDAffXvGhm1Te2VqXAOyAOfIZoow1FELwL/3DNpKCm8U7DyJ7eTA8iZkXOB/Q3r3Qu50OTUy5dLTmfv6EDA5y0lReU4omEgLFCs57flX0EkMkeNoDLGAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYEAYAAACw5+G7AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5QoKEB8oS5ndQAAAAv1JREFUWMPtl11IU2EYx//POU4ktShEp9tACzSZepMaGkoYhZFgfpIEfgx1KhlEpFSEelGkIhKSmR9bRiTMJIUsyIrIStQUdBMDK8S5nCKo4MVqbm83ngXJIHV4Cvzdnfdw3uf3f57D4bzALrtsC1JUt1XPXImMtCXSMlVqNFQJFXqVSgyhHzEcJ7agg2jEYcBuZ+0IRqjBwEI4rX2vSkUBPZqlWT+9nkrwlH0KCxPb829hzzGFA3o9RzUkZ3elUrGFNgvdxmE0SaUcvHCRPOvrxRbaNCHwpJX6ehKuZQFazawxIwNBKGWDjY2YZg046uMjtqcAewIzJSwvkwH3EF9ebipQGeVtzc2cLFubP/tAq3UzIc8q7+tb28N/lXgrlewpPYShq0tscSxQJ3S9vfw7xtvPKpVu+TRjbdXpBG8Or1ksO5Gba73PrknOTE5y6TY/69XY2O/ReW8Vp9PTwQiEzEwEUikGFxd3qtOoRAVVqtUma94LxeWkJGbmykgaEbG2H7zbqF4veJNMptEYjYxt3AkVqOjsZJ/5O5yuuNiWRrF8F8/zN23nrPbGRkph2QhLS3N1p+kCZwLUavduS8nP5NVVyyPJefeemhrKRCcyCwv/fMz5d55QhaqMDDy2DbN4g8HVk3HWacA+BoSH/1hyL3FfMRiciTs0nU7AaeVtTmaLnXZdACHHDUyR2mxmRLeYubh4Tp1HitHubn+j5ojxWFYWlwp/pJaVIYje4wtj9jp2COO1tXMK1YjiQ0eH/JKWGesSE5kWPI63tMCTtcJXLt+sx5YDbECKASS3t1v32UqtReXlC28KIg4Wzs8Lt30TWsa/Nfv5SVb4BklTdTXMiEFPTs52y7ougDCZSaxSoMVC/RjAqeFhx3ocYvAyKopC4cWmPTxcVc/NVRs5OvJb8CQQF+dYd3Whdf6dv80tB5ChDS58hXaMdW+OXcczSpmYENtns7BX+AhvvZ5jRVyPbSg3FxYEY2RsTDg4iC24AcFr3VM40Iittct/zy/zh3+SYYcCLwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0xMC0xMFQxNjozMTo0MCswMDowMDb1z1kAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMTAtMTBUMTY6MzE6NDArMDA6MDBHqHflAAAAAElFTkSuQmCC\"","import { Link } from \"react-router-dom\";\r\n\r\nconst NavWidget = () => {\r\n  return (\r\n    <nav className=\"nav-widget\">\r\n      <ul className=\"nav-widget__list\">\r\n        <li className=\"nav-widget__item\">\r\n          <Link to=\"/catalog/\">Каталог</Link>\r\n        </li>\r\n        {/* <li className=\"nav-widget__item\">\r\n          <Link to=\"/cart/\">Корзина</Link>\r\n        </li> */}\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavWidget;\r\n","import TextWidget from \"../../components/widgets/TextWidget\";\r\nimport NavWidget from \"../../components/widgets/NavWidget\";\r\n\r\nconst Sidebar = () => {\r\n  return (\r\n    <div className=\"sidebar-wrapper\">\r\n      <div className=\"sidebar-block\">\r\n        <NavWidget />\r\n      </div>\r\n      <div className=\"sidebar-block\">\r\n        <TextWidget />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import ProductContent from \"../components/product/ProductContent\";\r\nimport Sidebar from \"../ui/sidebar/Sidebar\";\r\n\r\nconst Product = () => {\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row justify-content-start\">\r\n        <div className=\"col-3\">\r\n          <Sidebar />\r\n        </div>\r\n        <div className=\"col-8 single-product\">\r\n          <ProductContent />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import { FC, MouseEvent, useContext, useEffect, useState } from \"react\";\r\nimport trash from \"../../images/icons/delete.svg\";\r\nimport trash_h from \"../../images/icons/delete-red.svg\";\r\n// Utils\r\nimport { Link } from \"react-router-dom\";\r\nimport { price_format } from \"../../utils\";\r\nimport { CartContext } from \"../../Context\";\r\nimport { IMapProduct } from \"../../types/types\";\r\nimport DOMPurify from \"dompurify\";\r\n\r\ninterface CIProps {\r\n  product: IMapProduct;\r\n}\r\n\r\ntype RPT = (id: string) => void;\r\ntype CTT = (id: string, qty: number) => void;\r\n\r\nconst CartItem: FC<CIProps> = ({ product }) => {\r\n  const [qty, setQty] = useState(product.qty);\r\n  const { removeProduct, calcTotal }: { removeProduct: RPT; calcTotal: CTT } =\r\n    useContext(CartContext);\r\n\r\n  useEffect(() => {\r\n    calcTotal(`${product.id}`, qty);\r\n  }, [qty]); // eslint-disable-line\r\n\r\n  return (\r\n    <tr>\r\n      <td className=\"cart__content-img\">\r\n        <img\r\n          src={product.image.src ?? \"https://via.placeholder.com/300x300\"}\r\n          alt={product.image.alt || product.image.name}\r\n          onLoad={(e) => {\r\n            const target = e.target as HTMLImageElement;\r\n            target.style.height = getComputedStyle(target).width;\r\n          }}\r\n        />\r\n      </td>\r\n      <td className=\"cart__content-name\">\r\n        <Link to={`/catalog/${product.id}`}>{product.name}</Link>\r\n      </td>\r\n      <td\r\n        className=\"cart__content-price\"\r\n        dangerouslySetInnerHTML={{\r\n          __html: DOMPurify.sanitize(product.price_html),\r\n        }}\r\n      ></td>\r\n      <td className=\"cart__content-qty\">\r\n        <input\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          min=\"1\"\r\n          max=\"10\"\r\n          value={qty}\r\n          onChange={(e) => setQty(parseInt(e.target.value))}\r\n        />\r\n      </td>\r\n      <td className=\"cart__content-total\">\r\n        {price_format(product.total)}\r\n        {\" ₽\"}\r\n      </td>\r\n      <td className=\"cart__content-remove\">\r\n        <img\r\n          src={trash}\r\n          alt=\"move-to-trash\"\r\n          onClick={() => removeProduct(`${product.id}`)}\r\n          onMouseEnter={(e: MouseEvent<HTMLImageElement>) => {\r\n            const target = e.target as HTMLImageElement;\r\n            target.setAttribute(\"src\", trash_h);\r\n          }}\r\n          onMouseLeave={(e: React.MouseEvent<HTMLImageElement>) => {\r\n            const target = e.target as HTMLImageElement;\r\n            target.setAttribute(\"src\", trash);\r\n          }}\r\n        />\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import { CartContext } from \"../Context\";\r\nimport { useContext } from \"react\";\r\nimport CartItem from \"../components/cart/CartItem\";\r\nimport { price_format } from \"../utils\";\r\nimport Sidebar from \"../ui/sidebar/Sidebar\";\r\n// import Checkout from \"../components/checkout/Checkout\";\r\n\r\nconst sizes_td = [\"11%\", \"45%\", \"13%\", \"12%\", \"13%\", \"6%\"];\r\n\r\nconst Colgroup = () => (\r\n  <colgroup>\r\n    {sizes_td.map((item, ind) => (\r\n      <col style={{ width: item }} key={ind} />\r\n    ))}\r\n  </colgroup>\r\n);\r\n\r\nconst THead = () => (\r\n  <thead className=\"cart__content-head\">\r\n    <tr>\r\n      <td>Фото</td>\r\n      <td>Наименование товара</td>\r\n      <td>Цена</td>\r\n      <td>Кол-во</td>\r\n      <td>Стоимость</td>\r\n      <td>&nbsp;</td>\r\n    </tr>\r\n  </thead>\r\n);\r\n\r\nconst TBody = ({ cartMap }) => (\r\n  <tbody className=\"cart__content-body\">\r\n    {Object.keys(cartMap).length\r\n      ? Object.keys(cartMap).map((key, ind) => (\r\n          <CartItem product={cartMap[key]} key={key} />\r\n        ))\r\n      : null}\r\n  </tbody>\r\n);\r\n\r\nconst TFoot = ({ totalCart }) => (\r\n  <tfoot className=\"cart__content-foot\">\r\n    <tr className=\"cart__content-result\">\r\n      <td colSpan={4}>Итого:</td>\r\n      <td>\r\n        {price_format(totalCart)}\r\n        {\" ₽\"}\r\n      </td>\r\n      <td>&nbsp;</td>\r\n    </tr>\r\n  </tfoot>\r\n);\r\n\r\nconst Cart = () => {\r\n  const { cartMap, totalCart } = useContext(CartContext);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"col-3\">\r\n          <Sidebar />\r\n        </div>\r\n        <div className=\"col-9 d-flex flex-column\" style={{ gap: \"30px 0\" }}>\r\n          {/* <h2 className=\"cart__title\">Корзина</h2> */}\r\n          <section className=\"cart__wrapper\">\r\n            <table className=\"cart__content\">\r\n              <Colgroup />\r\n              <THead />\r\n              <TBody cartMap={cartMap} />\r\n              <TFoot totalCart={totalCart} />\r\n            </table>\r\n          </section>\r\n          {/* <Checkout /> */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import { useState, useContext, useEffect, FC } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { CartContext } from \"../../Context\";\r\nimport { WC_REST_API_Product } from \"../../types/wc-types\";\r\nimport DOMPurify from \"dompurify\";\r\n\r\ninterface PIProps {\r\n  product: WC_REST_API_Product;\r\n}\r\n\r\nconst ProductItem: FC<PIProps> = ({ product }) => {\r\n  const [inCart, setInCart] = useState(false);\r\n  const { cartMap, addToCart } = useContext(CartContext);\r\n  const { push } = useHistory();\r\n\r\n  useEffect(() => {\r\n    setInCart(Object.keys(cartMap).includes(String(product.id)));\r\n  }, [cartMap, product.id]);\r\n\r\n  return (\r\n    <div className=\"col-12 col-sm-6 col-md-12 col-lg-6 col-xl-4\">\r\n      <div className=\"product__wrapper\">\r\n        <img\r\n          src={product.images[0].src ?? \"https://via.placeholder.com/300x300\"}\r\n          alt={product.images[0].alt || product.images[0].name}\r\n          onLoad={(e) => {\r\n            const target = e.target as HTMLImageElement;\r\n            target.style.height = getComputedStyle(target).width;\r\n          }}\r\n        />\r\n        <div className=\"product__body\">\r\n          <p\r\n            className=\"product__name\"\r\n            onClick={() => push(`/catalog/${product.id}`)}\r\n          >\r\n            {product.name}\r\n          </p>\r\n          <p\r\n            className=\"product__cost\"\r\n            dangerouslySetInnerHTML={{\r\n              __html: DOMPurify.sanitize(product.price_html),\r\n            }}\r\n          />\r\n\r\n          {inCart ? (\r\n            <span className=\"product__cart cart_added\">В корзине &#10004;</span>\r\n          ) : (\r\n            <span\r\n              className=\"product__cart\"\r\n              onClick={() => {\r\n                addToCart(product);\r\n                setInCart(true);\r\n              }}\r\n            >\r\n              В корзину\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductItem;\r\n","import ProductItem from \"./ProductItem\";\r\nimport { Context } from \"../../Context\";\r\nimport { useContext } from \"react\";\r\nimport { WC_REST_API_Products } from \"../../types/wc-types\";\r\n\r\nconst ProductList = () => {\r\n  const { products }: { products: WC_REST_API_Products } = useContext(Context);\r\n\r\n  return (\r\n    <div className=\"row\" style={{ gap: \"15px 0\" }}>\r\n      {products.length ? (\r\n        products.map((product) => {\r\n          return <ProductItem key={product.id} product={product} />;\r\n        })\r\n      ) : (\r\n        <p className=\"produst__not-found\">\r\n          Мы не смогли найти подходящих товаров для вас! Попробуйте поменять\r\n          настройки фильтра\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductList;\r\n","import { Context, FilterContext } from \"../../Context\";\r\nimport React, {\r\n  useState,\r\n  useContext,\r\n  useEffect,\r\n  ChangeEvent,\r\n  MouseEvent,\r\n} from \"react\";\r\nimport { calc_min_max } from \"../../utils\";\r\n\r\nconst FilterRange = () => {\r\n  const [minRange, setMinRange] = useState(0);\r\n  const [maxRange, setMaxRange] = useState(0);\r\n  const [currentRange, setCurrentRange] = useState(0);\r\n  const { setMaxCost, sortedPosts } = useContext(FilterContext);\r\n  const { category } = useContext(Context);\r\n\r\n  useEffect(() => {\r\n    if (sortedPosts.length) {\r\n      const min_max = calc_min_max(sortedPosts);\r\n\r\n      setMinRange(min_max[0]);\r\n      setMaxRange(min_max[1]);\r\n      setMaxCost(min_max[1]);\r\n      setCurrentRange(min_max[1]);\r\n    }\r\n  }, [category, sortedPosts]); // eslint-disable-line\r\n\r\n  const onInputHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setCurrentRange(parseInt(e.target.value));\r\n  };\r\n\r\n  const onMouseUpHandler = (e: MouseEvent<HTMLInputElement>) => {\r\n    const target = e.target as HTMLInputElement;\r\n    setMaxCost(parseInt(target.value));\r\n  };\r\n\r\n  return (\r\n    <div className=\"main__filter-block\">\r\n      <p className=\"filter-item__title\">Стоимость</p>\r\n      <div className=\"filter-item__content\">\r\n        <input\r\n          type=\"range\"\r\n          className=\"form-range\"\r\n          min={minRange}\r\n          max={maxRange}\r\n          value={currentRange}\r\n          step=\"50\"\r\n          onInput={onInputHandler}\r\n          onMouseUp={onMouseUpHandler}\r\n        />\r\n        <p className=\"filter-item__by-cost\">\r\n          Цена: <span className=\"min-cost\">{minRange}</span> ₽ —{\" \"}\r\n          <span className=\"max-cost\">{currentRange}</span> ₽\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterRange;\r\n","import { Context, FilterContext } from \"../../Context\";\r\nimport { useContext } from \"react\";\r\nimport { WC_REST_API_Categories } from \"../../types/wc-types\";\r\n\r\nconst FilterCategory = () => {\r\n  const { categories }: { categories: WC_REST_API_Categories } =\r\n    useContext(Context);\r\n  const { category, setCategory } = useContext(FilterContext);\r\n\r\n  return (\r\n    <div className=\"main__filter-block\">\r\n      <p className=\"filter-item__title\">Категории</p>\r\n      <div className=\"filter-item__content\">\r\n        <select\r\n          className=\"form-select\"\r\n          value={category}\r\n          onChange={(e) => setCategory(parseInt(e.target.value))}\r\n        >\r\n          <option value={-1}>Выбрать категорию</option>\r\n          {categories.map((category) => {\r\n            return (\r\n              category.count !== 0 && (\r\n                <option value={category.id} key={category.id}>\r\n                  {category.name}\r\n                </option>\r\n              )\r\n            );\r\n          })}\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterCategory;\r\n","import { Context, FilterContext } from \"../../Context\";\r\nimport React, { useContext } from \"react\";\r\n\r\nconst FilterOrderby = () => {\r\n  const { orderby, setOrderby } = useContext(FilterContext);\r\n  const { products } = useContext(Context);\r\n\r\n  if (products.length < 2) return null;\r\n  \r\n  return (\r\n    <div className=\"main__filter-block\">\r\n      <p className=\"filter-item__title\">Сортировка</p>\r\n      <div className=\"filter-item__content\">\r\n        <select\r\n          className=\"form-select\"\r\n          value={orderby}\r\n          onChange={(e) => setOrderby(e.target.value)}\r\n        >\r\n          <option value=\"default\">По умолчанию</option>\r\n          <option value=\"asc\">По возрастанию</option>\r\n          <option value=\"desc\">По убыванию</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterOrderby;\r\n","import { FilterContext } from \"../../Context\";\r\nimport { ChangeEvent } from \"react\";\r\nimport { useContext } from \"react\";\r\n\r\nconst FilterSearch = () => {\r\n  const { searchQuery, setSearchQuery } = useContext(FilterContext);\r\n\r\n  return (\r\n    <div className=\"main__filter-block\">\r\n      <p className=\"filter-item__title\">Поиск</p>\r\n      <div className=\"filter-item__content\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={searchQuery}\r\n          onInput={(e: ChangeEvent<HTMLInputElement>) =>\r\n            setSearchQuery(e.target.value)\r\n          }\r\n          placeholder=\"Введите запрос\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterSearch;\r\n","import { FilterContext } from \"../../Context\";\r\nimport React, { useContext } from \"react\";\r\n\r\nconst ClearFilter = () => {\r\n  const { setCategory, setOrderby, setSearchQuery } = useContext(FilterContext);\r\n\r\n  const ClearFilter = () => {\r\n    setCategory(-1);\r\n    setOrderby(\"default\");\r\n    setSearchQuery(\"\");\r\n  };\r\n\r\n  return (\r\n    <button className=\"btn btn-default\" onClick={ClearFilter}>\r\n      Сбросить\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default ClearFilter;\r\n","import FilterRange from \"./FilterRange\";\r\nimport FilterCategory from \"./FilterCategory\";\r\nimport FilterOrderby from \"./FilterOrderby\";\r\nimport FilterSearch from \"./FilterSearch\";\r\nimport ClearFilter from \"./ClearFilter\";\r\n// CSS\r\nimport \"./product_filter.css\";\r\n\r\nconst ProductsFilter = () => {\r\n  return (\r\n    <div className=\"main__filter\">\r\n      <FilterSearch />\r\n      <FilterCategory />\r\n      <FilterRange />\r\n      <FilterOrderby />\r\n      <ClearFilter />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductsFilter;\r\n","import { useMemo } from \"react\";\r\nimport {\r\n  sortByCategory,\r\n  sortByCost,\r\n  sortByOrderby,\r\n  searchByQuery,\r\n} from \"../utils\";\r\n\r\nexport const useSortedByCategoryProducts = (category, products) => {\r\n  const sortedPosts = useMemo(() => {\r\n    return sortByCategory(category, [...products]);\r\n  }, [category, products]);\r\n\r\n  return sortedPosts;\r\n};\r\n\r\nexport const useSortedByCostProducts = (maxCost, products) => {\r\n  const sortedByCost = useMemo(() => {\r\n    return maxCost !== 0 ? sortByCost(maxCost, [...products]) : products;\r\n  }, [maxCost, products]);\r\n\r\n  return sortedByCost;\r\n};\r\n\r\nexport const useSortedByOrderbyProducts = (orderby, products) => {\r\n  const sortedByOrderby = useMemo(() => {\r\n    return sortByOrderby(orderby, [...products]);\r\n  }, [orderby, products]);\r\n\r\n  return sortedByOrderby;\r\n};\r\n\r\nexport const useSortedBySearchProducts = (query, products) => {\r\n  const filtredPosts = useMemo(() => {\r\n    return searchByQuery(query, [...products]);\r\n  }, [query, products]);\r\n\r\n  return filtredPosts;\r\n};\r\n\r\n// Полная фильтрация\r\nexport const useProducts = (category, maxCost, orderby, query, products) => {\r\n  const byCategory = useSortedByCategoryProducts(category, products);\r\n  const byMaxCost = useSortedByCostProducts(maxCost, byCategory);\r\n  const byOrderby = useSortedByOrderbyProducts(orderby, byMaxCost);\r\n  const bySearch = useSortedBySearchProducts(query, byOrderby);\r\n\r\n  return bySearch;\r\n};\r\n","import React, { FC } from \"react\";\r\nimport { fillArrayFromTo } from \"../../utils\";\r\n\r\ninterface IPagination {\r\n  page: number;\r\n  total: number;\r\n  setPage: (page: number) => void;\r\n}\r\n\r\nconst Pagination: FC<IPagination> = ({ page, total, setPage }) => {\r\n  if (total === 1) return null;\r\n\r\n  const list = fillArrayFromTo(1, total);\r\n\r\n  return (\r\n    <div className=\"pagination_list\">\r\n      {list.map((item) => (\r\n        <span\r\n          className={`pagination_item${item === page ? \" current_page\" : \"\"}`}\r\n          onClick={() => setPage(item)}\r\n          key={item}\r\n        >\r\n          {item}\r\n        </span>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import { WC_REST_API_Categories } from \"./../types/wc-types\";\r\nimport axios, { AxiosError } from \"axios\";\r\nimport wcApi from \"../tools/wc-api\";\r\n\r\nexport default class ProductService {\r\n  static async getCategories(\r\n    callback: (categories: WC_REST_API_Categories) => void\r\n  ) {\r\n    try {\r\n      let categories: WC_REST_API_Categories = [];\r\n      let totalPages = 1;\r\n\r\n      const read_categories = async (page = 1) => {\r\n        const {\r\n          data,\r\n          headers,\r\n        }: { data: WC_REST_API_Categories; headers: any } = await wcApi.get(\r\n          \"products/categories\",\r\n          {\r\n            page,\r\n          }\r\n        );\r\n\r\n        categories = [...categories, ...data];\r\n        totalPages = parseInt(headers[\"x-wp-totalpages\"]) ?? 1;\r\n\r\n        if (page < totalPages) {\r\n          read_categories(page + 1);\r\n        } else {\r\n          callback(categories);\r\n        }\r\n      };\r\n\r\n      await read_categories();\r\n    } catch (err) {\r\n      const e = err as AxiosError;\r\n      console.error(e.message);\r\n      throw new Error(e.message);\r\n    }\r\n  }\r\n\r\n  static getProducts = async () => {\r\n    let products = [];\r\n    let page = 1;\r\n    let isNext = true;\r\n\r\n    while (isNext) {\r\n      const { headers, data } = await axios.get(\r\n        \"https://laserkids.ru/wp-json/wc/store/products?page=\" + page\r\n      );\r\n\r\n      products = [...products, ...data];\r\n      const total = headers[\"x-wp-totalpages\"] ?? 1;\r\n\r\n      isNext = page < total;\r\n      page++;\r\n    }\r\n\r\n    return products;\r\n  };\r\n\r\n  static getWcProducts(limit: number, page: number = 1) {}\r\n\r\n  static getProductById = async (id: number) => {\r\n    const res = await axios.get(\r\n      \"https://laserkids.ru/wp-json/wc/store/products/?include=\" + id\r\n    );\r\n\r\n    return res.data[0];\r\n  };\r\n}\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport ProductList from \"../components/products/ProductList\";\r\nimport ProductsFilter from \"../components/filter/ProductsFilter\";\r\n// Context\r\nimport { Context, FilterContext, ProductContext } from \"../Context\";\r\n// Hooks\r\nimport { useSortedByCategoryProducts, useProducts } from \"../hooks/useProducts\";\r\nimport { useStateIfMounted } from \"use-state-if-mounted\";\r\nimport useFetch from \"../hooks/useFetch\";\r\nimport Loader from \"../ui/Loader\";\r\nimport wcApi from \"../tools/wc-api\";\r\nimport {\r\n  WC_REST_API_Categories,\r\n  WC_REST_API_Products,\r\n} from \"../types/wc-types\";\r\nimport Pagination from \"../components/pagination/Pagination\";\r\nimport ProductService from \"../api/rest\";\r\n\r\nconst Catalog = () => {\r\n  // context { cacheProducts }\r\n  const { setCacheProducts } = useContext(ProductContext);\r\n  // states\r\n  const [products, setProducts] = useStateIfMounted<WC_REST_API_Products>([]);\r\n  const [categories, setCategories] = useStateIfMounted<WC_REST_API_Categories>(\r\n    []\r\n  );\r\n  const [category, setCategory] = useState(-1);\r\n  const [maxCost, setMaxCost] = useState(0);\r\n  const [orderby, setOrderby] = useState(\"default\");\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [limit] = useState(18);\r\n  const [page, setPage] = useState(1);\r\n  const [total, setTotal] = useState(0);\r\n  // fetch\r\n  const [fetchProducts, isLoading, error] = useFetch(async () => {\r\n    const { data, headers } = await wcApi.get(\"products\", { per_page: limit, page });\r\n    setProducts(data);\r\n    setTotal(parseInt(headers[\"x-wp-totalpages\"]));\r\n  });\r\n\r\n  const sortedPosts = useSortedByCategoryProducts(category, products);\r\n  const filtredPosts = useProducts(\r\n    category,\r\n    maxCost,\r\n    orderby,\r\n    searchQuery,\r\n    products\r\n  );\r\n\r\n  // Initial Render\r\n  useEffect(() => {\r\n    fetchProducts();\r\n\r\n    ProductService.getCategories((data) => {\r\n      setCategories(data);\r\n    });\r\n    // eslint-disable-next-line\r\n  }, [page]);\r\n\r\n  useEffect(() => {\r\n    if (products.length) {\r\n      setCacheProducts(products);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [products]);\r\n\r\n  return (\r\n    <Context.Provider value={{ products: filtredPosts, categories, category }}>\r\n      <div className=\"container\">\r\n        <div className=\"row main-section justify-content-between\">\r\n          <aside className=\"col-12 col-md-5 col-lg-4 col-xl-3 mb-4 mb-md-0\">\r\n            <FilterContext.Provider\r\n              value={{\r\n                category,\r\n                orderby,\r\n                maxCost,\r\n                searchQuery,\r\n                sortedPosts,\r\n                setCategory,\r\n                setOrderby,\r\n                setMaxCost,\r\n                setSearchQuery,\r\n              }}\r\n            >\r\n              <ProductsFilter />\r\n            </FilterContext.Provider>\r\n          </aside>\r\n          <article className=\"col-12 col-md-6 col-lg-7 col-xl-8 mb-5 product-list\">\r\n            {!error.status ? (\r\n              isLoading ? (\r\n                <Loader />\r\n              ) : (\r\n                <>\r\n                  <ProductList />\r\n                  <Pagination\r\n                    page={page}\r\n                    total={total}\r\n                    setPage={(page: number) => setPage(page)}\r\n                  />\r\n                </>\r\n              )\r\n            ) : (\r\n              <div>Произошла какая то ошибка - {error.message}</div>\r\n            )}\r\n          </article>\r\n        </div>\r\n      </div>\r\n    </Context.Provider>\r\n  );\r\n};\r\n\r\nexport default Catalog;\r\n","import Product from \"../pages/Product\";\r\nimport Cart from \"../pages/Cart.\";\r\nimport Catalog from \"../pages/Catalog\";\r\nimport IRoute from \"../types/IRoute\";\r\n\r\nconst routes: IRoute[] = [\r\n  {\r\n    path: \"/catalog\",\r\n    component: Catalog,\r\n    exact: true,\r\n    title: \"Laserkids Store - Каталог\",\r\n  },\r\n  {\r\n    path: \"/catalog/:id\",\r\n    component: Product,\r\n    exact: true,\r\n    title: \"Laserkids Store\",\r\n  },\r\n  {\r\n    path: \"/cart/\",\r\n    component: Cart,\r\n    exact: false,\r\n    title: \"Laserkids Store - Корзина товаров\",\r\n  },\r\n];\r\n\r\nexport default routes;\r\n","import { useEffect, useState } from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport useDidUpdateEffect from \"./hooks/useDidUpdateEffect\";\nimport { calcTotalCart, filterCart, pushCart, getMapProduct } from \"./utils\";\n// Router\nimport MainRouter from \"./router/MainRouter\";\n// Context\nimport { CartContext, ProductContext } from \"./Context\";\n// UI\nimport Header from \"./ui/header/Header\";\n// CSS\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./assets/css/style.scss\";\nimport routes from \"./router\";\n// import DemoAlert from \"./components/demo/DemoAlert\";\n\nconst App = () => {\n  const [cacheProducts, setCacheProducts] = useState([]);\n  const [cartMap, setCartMap] = useState({});\n  const [cartCounter, setCartCounter] = useState(0);\n  const [totalCart, setTotalCart] = useState(0);\n\n  // Проверка локальной корзины при рендере\n  useEffect(() => {\n    if (localStorage.getItem(\"WC_Cart\") !== null) {\n      const localCart = JSON.parse(localStorage.getItem(\"WC_Cart\"));\n\n      if (Object.keys(localCart).length !== 0) {\n        setCartMap(localCart);\n        setCartCounter(Object.keys(localCart).length);\n        setTotalCart(calcTotalCart(localCart));\n      }\n    }\n  }, []);\n\n  // Обновление корзины\n  useDidUpdateEffect(() => {\n    localStorage.setItem(\"WC_Cart\", JSON.stringify(cartMap));\n    setCartCounter(Object.keys(cartMap).length);\n    setTotalCart(calcTotalCart(cartMap));\n  }, [cartMap]);\n\n  // --------------------------------------\n\n  const removeProduct = (id: string) => {\n    setCartMap(filterCart(id, cartMap));\n  };\n\n  /**\n   * Calculating the total amount of the product, taking into account its quantity\n   *\n   * @param { string } id ID of the product being counted\n   * @param { number } qty new quantity of products in the cart\n   */\n  const calcTotal = (id: string, qty: number) => {\n    const map = {\n      ...cartMap[id],\n      qty: qty,\n      total: cartMap[id].price * qty,\n    };\n\n    setCartMap((prev) => pushCart(id, map, prev));\n  };\n\n  const addToCart = (product: any, qty: number = 1) => {\n    const map = getMapProduct(product, qty);\n    setCartMap((prev) => pushCart(product.id, map, prev));\n  };\n\n  return (\n    <BrowserRouter>\n      <ProductContext.Provider value={{ cacheProducts, setCacheProducts }}>\n        <CartContext.Provider\n          value={{\n            cartMap,\n            cartCounter,\n            totalCart,\n            removeProduct,\n            calcTotal,\n            addToCart,\n          }}\n        >\n          <Header />\n          <MainRouter routes={routes} redirect=\"/catalog\" />\n          {/* <DemoAlert /> */}\n        </CartContext.Provider>\n      </ProductContext.Provider>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","import WooCommerceRestApi from \"@woocommerce/woocommerce-rest-api\";\r\n\r\nconst wcApi = new WooCommerceRestApi({\r\n  url: \"https://laserkids.ru\",\r\n  consumerKey: \"ck_f630e083e201d809e9054871d305f211abc832c5\",\r\n  consumerSecret: \"cs_5c9c01c48ea9db07a9e45a55c729c5406b02ef9b\",\r\n  version: \"wc/v3\",\r\n  axiosConfig: { headers: {} },\r\n});\r\n\r\nexport default wcApi;\r\n","import React from \"react\";\r\n\r\nexport const Context = React.createContext(null);\r\nexport const CartContext = React.createContext(null);\r\nexport const FilterContext = React.createContext(null);\r\nexport const ProductContext = React.createContext(null);\r\n","import { useRef, useEffect } from \"react\";\r\n\r\nfunction useDidUpdateEffect(effect, deps) {\r\n  const didMount = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (didMount.current) {\r\n      effect();\r\n    } else {\r\n      didMount.current = true;\r\n    }\r\n  }, [...deps]); // eslint-disable-line react-hooks/exhaustive-deps\r\n}\r\n\r\nexport default useDidUpdateEffect;\r\n","import { useState } from \"react\";\r\n\r\ninterface IError {\r\n  status: boolean;\r\n  message: string;\r\n}\r\n\r\ntype useFetchT = (callback: () => void) => [() => void, boolean, IError];\r\n\r\nconst useFetch: useFetchT = (callback: () => void) => {\r\n  const [isLoading, setLoading] = useState(false);\r\n  const [isError, setError] = useState<IError>({\r\n    status: false,\r\n    message: \"\",\r\n  });\r\n\r\n  const fetching = async () => {\r\n    try {\r\n      setLoading(true);\r\n      await callback();\r\n    } catch (e) {\r\n      setError({\r\n        status: true,\r\n        message: e.message,\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return [fetching, isLoading, isError];\r\n};\r\n\r\nexport default useFetch;\r\n","const Loader = () => (\r\n  <div className=\"loading-spinner\">\r\n    <div className=\"spinner-border text-default\" role=\"status\">\r\n      <span className=\"visually-hidden\">Loading...</span>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Loader;\r\n","import DOMPurify from \"dompurify\";\r\nimport React, { FC, useContext, useEffect, useRef, useState } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { CartContext } from \"../../Context\";\r\nimport useDidUpdateEffect from \"../../hooks/useDidUpdateEffect\";\r\nimport useFetch from \"../../hooks/useFetch\";\r\nimport wcApi from \"../../tools/wc-api\";\r\nimport { IParams } from \"../../types/types\";\r\nimport {\r\n  WC_REST_API_Product,\r\n  WC_REST_API_Product_Image,\r\n} from \"../../types/wc-types\";\r\nimport Loader from \"../../ui/Loader\";\r\n// styles\r\nimport \"owl.carousel/dist/assets/owl.carousel.css\";\r\nimport \"owl.carousel/dist/assets/owl.theme.default.css\";\r\nimport ReactOwlCarousel from \"react-owl-carousel\";\r\n\r\ninterface IProductImage {\r\n  image: WC_REST_API_Product_Image;\r\n  ind?: number;\r\n  wrapperRef?: any;\r\n}\r\n\r\nconst ProductImage: FC<IProductImage> = ({ image, ind, wrapperRef }) => {\r\n  return (\r\n    <img\r\n      src={image.src ?? \"https://via.placeholder.com/300x300\"}\r\n      alt={image.alt || image.name}\r\n      onLoad={(e) => {\r\n        if (ind === 0) {\r\n          const wrapper = wrapperRef.current.container;\r\n          const imgHeight = $(e.target).css(\"height\");\r\n\r\n          $(wrapper).find(\".owl-stage-outer\").css(\"height\", imgHeight);\r\n        }\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nconst ProductContent = () => {\r\n  // context\r\n  const { cartMap, calcTotal, addToCart } = useContext(CartContext);\r\n  // params\r\n  const { id } = useParams<IParams>();\r\n  // states\r\n  const [product, setProduct] = useState<WC_REST_API_Product>(null);\r\n  const [qty, setQty] = useState(1);\r\n  const [inCart, setInCart] = useState(false);\r\n  // fetch\r\n  const [fetching, isLoading] = useFetch(async () => {\r\n    const { data } = await wcApi.get(`products/${id}`);\r\n    setProduct(data);\r\n  });\r\n\r\n  const sliderRef = useRef(null);\r\n  const previewRef = useRef(null);\r\n\r\n  useEffect(() => fetching(), [id]); // eslint-disable-line\r\n\r\n  useDidUpdateEffect(() => {\r\n    if (inCart) calcTotal(id, qty);\r\n  }, [qty]);\r\n\r\n  useEffect(() => {\r\n    const cartKeys = Object.keys(cartMap);\r\n    if (cartKeys.length && cartKeys.includes(id)) setQty(cartMap[id].qty);\r\n    setInCart(cartKeys.includes(id));\r\n  }, [cartMap, id]);\r\n\r\n  const previewClick = (ind: number) => {\r\n    if (!previewRef.current?.container) return;\r\n\r\n    const owlItem = $(previewRef.current.container).find(\".owl-item\");\r\n    const activeClass = \"current\";\r\n\r\n    for (let i = 0; i < owlItem.length; i++) {\r\n      owlItem.eq(i).removeClass(activeClass);\r\n    }\r\n\r\n    owlItem.eq(ind).addClass(activeClass);\r\n    $(sliderRef.current.container).trigger(\"to.owl.carousel\", [ind]);\r\n  };\r\n\r\n  const slidesPerPage = 3; //globaly define number of elements per page\r\n  const syncedSecondary = true;\r\n\r\n  function syncPosition(el: any) {\r\n    const sync2 = $(\".previewSlider\");\r\n\r\n    //if you set loop to false, you have to restore this next line\r\n    const current = el.item.index;\r\n\r\n    //if you disable loop you have to comment this block\r\n    // var count = el.item.count - 1;\r\n    // var current = Math.round(el.item.index - el.item.count / 2 - 0.5);\r\n\r\n    // if (current < 0) {\r\n    //   current = count;\r\n    // }\r\n    // if (current > count) {\r\n    //   current = 0;\r\n    // }\r\n\r\n    //end block\r\n\r\n    sync2\r\n      .find(\".owl-item\")\r\n      .removeClass(\"current\")\r\n      .eq(current)\r\n      .addClass(\"current\");\r\n\r\n    const onscreen = sync2.find(\".owl-item.active\").length - 1;\r\n    const start = sync2.find(\".owl-item.active\").first().index();\r\n    const end = sync2.find(\".owl-item.active\").last().index();\r\n\r\n    if (current > end) {\r\n      sync2.trigger(\"to.owl.carousel\", [current, 100, true]);\r\n    }\r\n    \r\n    if (current < start) {\r\n      sync2.trigger(\"to.owl.carousel\", [current - onscreen, 100, true]);\r\n    }\r\n  }\r\n\r\n  function syncPosition2(el: any) {\r\n    if (syncedSecondary) {\r\n      const sync1 = $(\".product-images\");\r\n      var number = el.item.index;\r\n      sync1.trigger(\"to.owl.carousel\", [number, 100, true]);\r\n    }\r\n  }\r\n\r\n  const sliderPrms = {\r\n    items: 1,\r\n    dots: false,\r\n    nav: true,\r\n    margin: 10,\r\n    responsive: {\r\n      0: {\r\n        items: 1,\r\n        autoHeight: true,\r\n      },\r\n      768: {\r\n        items: 1,\r\n        autoHeight: true,\r\n      },\r\n    },\r\n    onChanged: syncPosition,\r\n  };\r\n\r\n  const previewPrms = {\r\n    onInitialized: (e: any) => {\r\n      $(e.target).find(\".owl-item\").eq(0).addClass(\"current\");\r\n    },\r\n    items: slidesPerPage,\r\n    dots: false,\r\n    nav: false,\r\n    margin: 5,\r\n    slideBy: slidesPerPage,\r\n    responsiveRefreshRate: 100,\r\n    onChanged: syncPosition2,\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {!isLoading && product !== null ? (\r\n        <React.Fragment>\r\n          <div className=\"product-wrapper\">\r\n            <div className=\"row\">\r\n              <div className=\"col-5\">\r\n                {product.images.length > 1 ? (\r\n                  <>\r\n                    {/* images slider */}\r\n                    <ReactOwlCarousel\r\n                      className=\"owl-theme product-images\"\r\n                      {...sliderPrms}\r\n                      ref={sliderRef}\r\n                    >\r\n                      {product.images.map((img, ind) => (\r\n                        <ProductImage\r\n                          image={img}\r\n                          key={img.id}\r\n                          ind={ind}\r\n                          wrapperRef={sliderRef}\r\n                        />\r\n                      ))}\r\n                    </ReactOwlCarousel>\r\n                    {/* images preview */}\r\n                    <div className=\"product-images__preview mt-2\">\r\n                      <ReactOwlCarousel\r\n                        {...previewPrms}\r\n                        className=\"previewSlider\"\r\n                        ref={previewRef}\r\n                      >\r\n                        {product.images.map((img, ind) => (\r\n                          <img\r\n                            src={img.src}\r\n                            alt={img.alt || img.name}\r\n                            key={img.id}\r\n                            onClick={() => previewClick(ind)}\r\n                          />\r\n                        ))}\r\n                      </ReactOwlCarousel>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <div className=\"product-image\">\r\n                    <a\r\n                      href={product.images[0].src}\r\n                      target=\"_blank\"\r\n                      rel=\"noreferrer\"\r\n                      style={{ display: \"block\" }}\r\n                    >\r\n                      <ProductImage image={product.images[0]} />\r\n                    </a>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"col-7\">\r\n                <div className=\"product-body\">\r\n                  <p className=\"product-name\">{product.name}</p>\r\n                  <p\r\n                    className=\"product-price\"\r\n                    dangerouslySetInnerHTML={{\r\n                      __html: DOMPurify.sanitize(product.price_html),\r\n                    }}\r\n                  />\r\n                  <div className=\"product__add-cart\">\r\n                    <input\r\n                      type=\"number\"\r\n                      className=\"form-control product-qty\"\r\n                      value={qty}\r\n                      onChange={(e) => setQty(parseInt(e.target.value))}\r\n                    />\r\n                    {inCart ? (\r\n                      <span className=\"product__cart cart_added\">\r\n                        В корзине &#10004;\r\n                      </span>\r\n                    ) : (\r\n                      <span\r\n                        className=\"product__cart\"\r\n                        onClick={() => {\r\n                          addToCart(product, qty);\r\n                          setInCart(true);\r\n                        }}\r\n                      >\r\n                        В корзину\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  <p>\r\n                    <span>\r\n                      {product.categories.length > 1\r\n                        ? \"Категории: \"\r\n                        : \"Категория: \"}\r\n                    </span>\r\n                    <span className=\"product-categories\">\r\n                      {product.categories.map((item, ind) => {\r\n                        return ind + 1 !== product.categories.length\r\n                          ? `${item.name}, `\r\n                          : `${item.name}`;\r\n                      })}\r\n                    </span>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {product.description ? (\r\n            <div className=\"product-wrapper\">\r\n              <div\r\n                className=\"product-description\"\r\n                dangerouslySetInnerHTML={{ __html: product.description }}\r\n              ></div>\r\n            </div>\r\n          ) : null}\r\n        </React.Fragment>\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ProductContent;\r\n"],"sourceRoot":""}