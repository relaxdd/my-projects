(this["webpackJsonplaserkids-filter-ts"]=this["webpackJsonplaserkids-filter-ts"]||[]).push([[0],{121:function(e,t){},123:function(e,t){},135:function(e,t){},137:function(e,t){},150:function(e,t,c){},170:function(e,t,c){"use strict";c.r(t);var a=c(79),r=c.n(a),n=c(19),s=c(2),i=c(1),l=c.n(i),o=c(13),j=c(9);var u,d=function(e,t){var c=Object(i.useRef)(!1);Object(i.useEffect)((function(){c.current?e():c.current=!0}),Object(j.a)(t))};!function(e){e.asc="asc",e.desc="desc",e.default="default"}(u||(u={}));var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ru-RU";return new Intl.NumberFormat(t).format(e)},O=function(e){var t=0;for(var c in e)t+=e[c].price*e[c].qty;return t},m=function(e,t,c){var a={};return(a=Object(n.a)({},c))[e]=t,a},p=function(e){var t,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a={id:e.id,name:e.name,img:null!==(t=e.images[0].src)&&void 0!==t?t:"https://via.placeholder.com/300x300",image:e.images[0],price:parseFloat(e.price),qty:c,total:parseFloat(e.price)*c,price_html:e.price_html};return a},x=c(4),h=c(80),A=c(0),f=function(e){var t=e.routes,c=e.redirect;return Object(A.jsxs)(x.d,{children:[t.map((function(e,t){return Object(A.jsx)(x.b,{path:e.path,exact:e.exact,children:Object(A.jsxs)(l.a.Fragment,{children:[Object(A.jsx)(h.a,{children:Object(A.jsx)("title",{children:e.title})}),Object(A.jsx)(e.component,{})]})},t)})),Object(A.jsx)(x.a,{to:c})]})},g=l.a.createContext(null),v=l.a.createContext(null),N=l.a.createContext(null),y=l.a.createContext(null),C=function(e){var t=Object(x.h)();Object(i.useEffect)((function(){e(t)}),[t,e])},_=c.p+"static/media/shopping-cart-white.61bc96f9.svg",w=c.p+"static/media/delete.e4efcb06.svg",S=c.p+"static/media/delete-red.0a2da310.svg",k=c(20),M=c.n(k),E=function(e){var t,c=e.product,a=Object(i.useContext)(v).removeProduct;return Object(A.jsx)("div",{className:"cart__products-item",children:Object(A.jsxs)("div",{className:"row justify-content-between align-items-center w-100 m-0",children:[Object(A.jsx)("div",{className:"col-8",children:Object(A.jsxs)("div",{className:"row align-items-center",children:[Object(A.jsx)("div",{className:"col-4",children:Object(A.jsx)("img",{src:null!==(t=c.image.src)&&void 0!==t?t:"https://via.placeholder.com/300x300",alt:c.image.alt||c.image.name,onLoad:function(e){var t=e.target;t.style.height=getComputedStyle(t).width},className:"cart__products-image"})}),Object(A.jsx)("div",{className:"col-8",children:Object(A.jsxs)(o.b,{className:"cart__products-name",to:"/catalog/".concat(c.id),children:[c.name,c.qty>1?" x ".concat(c.qty," \u0448\u0442."):null]})})]})}),Object(A.jsx)("div",{className:"col-3",children:Object(A.jsxs)("div",{className:"cart__products-right",children:[Object(A.jsx)("p",{className:"cart__products-price",dangerouslySetInnerHTML:{__html:M.a.sanitize(c.price_html)}}),Object(A.jsx)("img",{src:w,alt:"move-trash",className:"cart__products-remove",onMouseEnter:function(e){e.target.setAttribute("src",S)},onMouseLeave:function(e){e.target.setAttribute("src",w)},onClick:function(){return a("".concat(c.id))}})]})})]})})},F=function(){var e=Object(i.useState)("/"),t=Object(s.a)(e,2),c=t[0],a=t[1],r=Object(i.useState)(!0),n=Object(s.a)(r,2),l=n[0],j=n[1],u=Object(i.useContext)(v),d=u.cartMap,O=u.cartCounter,m=u.totalCart;return C((function(e){a("/"!==e.pathname?e.pathname.split("/").filter((function(e){return""!==e}))[0]:"/")})),Object(i.useEffect)((function(){j(Boolean(O>0&&"cart"!==c))}),[c,O]),Object(A.jsxs)("div",{className:"header__cart",children:[Object(A.jsxs)("div",{className:"header__cart-inner",children:[Object(A.jsx)("img",{src:_,alt:"cart",className:"header__cart-icon"}),Object(A.jsxs)("p",{children:[O>0?Object(A.jsxs)(o.b,{to:"/cart/",className:"header__cart-link",children:["\u041a\u043e\u0440\u0437\u0438\u043d\u0430"," "]}):"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 ",l?Object(A.jsx)("span",{className:"header__cart-cartCounter",children:O}):null]})]}),l?Object(A.jsxs)("div",{className:"header__cart-content",children:[Object(A.jsx)("div",{className:"cart__products",children:Object.keys(d).map((function(e){return Object(A.jsx)(E,{product:d[e]},e)}))}),Object(A.jsx)("div",{className:"cart__driver-wrapper",children:Object(A.jsx)("hr",{className:"cart__driver"})}),Object(A.jsxs)("div",{className:"cart__total",children:[Object(A.jsx)("span",{className:"cart__total-text",children:"\u0418\u0442\u043e\u0433\u043e:"}),Object(A.jsxs)("span",{className:"cart__total-price",children:[b(m)," \u20bd"]})]})]}):null]})},B=function(){return Object(A.jsx)("header",{className:"header",children:Object(A.jsx)("div",{className:"container",children:Object(A.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(A.jsx)(o.b,{to:"/catalog",className:"header__brand",children:"Laserkids Store"}),Object(A.jsx)(F,{})]})})})},I=(c(98),c(99),c(7)),P=c.n(I),T=c(18),Q=function(e){var t=Object(i.useState)(!1),c=Object(s.a)(t,2),a=c[0],r=c[1],n=Object(i.useState)({status:!1,message:""}),l=Object(s.a)(n,2),o=l[0],j=l[1],u=function(){var t=Object(T.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(!0),t.next=4,e();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),j({status:!0,message:t.t0.message});case 9:return t.prev=9,r(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}();return[u,a,o]},R=new(c(85).a)({url:"https://laserkids.ru",consumerKey:"ck_f630e083e201d809e9054871d305f211abc832c5",consumerSecret:"cs_5c9c01c48ea9db07a9e45a55c729c5406b02ef9b",version:"wc/v3"}),V=function(){return Object(A.jsx)("div",{className:"loading-spinner",children:Object(A.jsx)("div",{className:"spinner-border text-default",role:"status",children:Object(A.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})},L=function(){var e,t=Object(i.useContext)(v),c=t.cartMap,a=t.calcTotal,r=t.addToCart,n=Object(x.i)().id,o=Object(i.useState)(null),j=Object(s.a)(o,2),u=j[0],b=j[1],O=Object(i.useState)(1),m=Object(s.a)(O,2),p=m[0],h=m[1],f=Object(i.useState)(!1),g=Object(s.a)(f,2),N=g[0],y=g[1],C=Q(Object(T.a)(P.a.mark((function e(){var t,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("products/".concat(n));case 2:t=e.sent,c=t.data,b(c);case 5:case"end":return e.stop()}}),e)})))),_=Object(s.a)(C,2),w=_[0],S=_[1];return Object(i.useEffect)((function(){return w()}),[n]),d((function(){N&&a(n,p)}),[p]),Object(i.useEffect)((function(){var e=Object.keys(c);e.length&&e.includes(n)&&h(c[n].qty),y(e.includes(n))}),[c,n]),Object(A.jsx)(l.a.Fragment,{children:S||null===u?Object(A.jsx)(V,{}):Object(A.jsxs)(l.a.Fragment,{children:[Object(A.jsx)("div",{className:"product-wrapper",children:Object(A.jsxs)("div",{className:"row",children:[Object(A.jsx)("div",{className:"col-5",children:Object(A.jsx)("div",{className:"product-image",children:Object(A.jsx)("a",{href:u.images[0].src,target:"_blank",rel:"noreferrer",style:{display:"block"},children:Object(A.jsx)("img",{src:null!==(e=u.images[0].src)&&void 0!==e?e:"https://via.placeholder.com/300x300",alt:u.images[0].alt||u.images[0].name})})})}),Object(A.jsx)("div",{className:"col-7",children:Object(A.jsxs)("div",{className:"product-body",children:[Object(A.jsx)("p",{className:"product-name",children:u.name}),Object(A.jsx)("p",{className:"product-price",dangerouslySetInnerHTML:{__html:M.a.sanitize(u.price_html)}}),Object(A.jsxs)("div",{className:"product__add-cart",children:[Object(A.jsx)("input",{type:"number",className:"form-control product-qty",value:p,onChange:function(e){return h(parseInt(e.target.value))}}),N?Object(A.jsx)("span",{className:"product__cart cart_added",children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 \u2714"}):Object(A.jsx)("span",{className:"product__cart",onClick:function(){r(u,p),y(!0)},children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]}),Object(A.jsxs)("p",{children:["\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f:"," ",Object(A.jsx)("span",{className:"product-categories",children:u.categories.map((function(e,t){return t+1!==u.categories.length?"".concat(e.name,", "):"".concat(e.name)}))})]})]})})]})}),u.description?Object(A.jsx)("div",{className:"product-wrapper",children:Object(A.jsx)("div",{className:"product-description",dangerouslySetInnerHTML:{__html:u.description}})}):null]})})},D=function(){return Object(A.jsxs)("div",{className:"text-widget text-widget__contacts",children:[Object(A.jsxs)("p",{children:[Object(A.jsx)("span",{className:"text-widget__img",children:Object(A.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYEAYAAACw5+G7AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5QoKEBsa5yJJxAAABF5JREFUWMPNl3tMU2cYxp+3tDAuA1niGC2ijLExUMe4jGWyZGQYCS04QSqCMpxZqo5dYEtA5SoyYCJVRjYRmDpx0Qo2gwoyXBaRBHVAMghudtJFWCkjJlwk5db22x9SdjGkBVzZ89dJTp7nPL/vOyffewj/0nOlpeENShsbrVJ3jXWVldEEXsKncXFMil6sVKlYCE6ydcnJmq7ULaLi69exzCLjhY8sm8kuWFuPXnB6x764pgY3sA45kZGPOB7AiiQTE0xEmYYvo6IGvkkZE0VevbpcABzjio8EOSntk+TyeYsb9ST0rNzWlhQsj7O3ro4fL3VU1IeFLRuA9mt9DzuWnk4huIyaiAiznbMgyGDv0pRCIYiSJig0QqHFAaiTTVF5QsJiA2gjBLC1scFK1kvC8+cF75eGNyjd3CwGgEq8wU67uCw56QrEyHNwMGTrRKwqIMByAGpw8bJavdQgdhhtKJqZ4fnTAfZ6d7flAIJYLnuxrW3RxYtwHy+oVJwu9DPNtm19fSljIpFKZTmAcUxb7aitXXDxJIyhr72dlzCab+fp6/u7NPWG6Fe53FLF5wDUW1f1PNjS1MTa4IgDd++aa6QTCCNpVdU9yqVQmpy0dPE5AEAsFov1ejaFSnQVFprtDEc/+0IgWK7ifwN4KI3XaJud4cwZJKKDKjs7TTqfQgCmd+40HoTLDgDkUijpdJwV2IseiQTRkMFDr5/XeQkKsNWrtdO6Efjl5PwPAB6qPy01JELZ3s78yZM+yM01FUAy9LOktDT++pIjih1xcYst8syuYr8GpY+PgH+0WFEfG+tafnxFvb+7+4IBjBrYNVJ9szk/n32FQ/i+sXHeBDU+hpAIrXSQrE6dckspebXBLj7e3OKCDUerGtISE61GOAexqbsbRBziyGScW3pvDnp6TM1aZOoB7u4FBQqFs7Puc+tkCm9poX1Ugaa1a002G0YvvS2VGqT26/XuGRkaiUQS2anVGm8/61FY0Pydk9NkvY10JvP2bdrE0lkWn/9Ijonp1ySAUauKin759jU+3+DJ8+JNtrbiQxxneR4epnysAn+gUaOhIRZHg+fOsTJOFHt6fHxuBnNFOqvz8jJZYBbEMGTYx+SbN2ue+IQnDGpuNhtgDiT0s8kGpaen4T0uD3HNzeaCPDbNgtAdzhg7Fh6+YIA5kNkd0XtzBdyWpiazX63HJPYzClDa1bVoAKPmvpFrNtEUW1294P+KxQJkQgK7wUHOUoP6+vbvF4mGhwc8Rp+/pY2MZIepg6RZWSbPkSWKNuAeHM6eXfIOzCe+TMoub/Xzw08sF29WVNBpOMI9MHCpuUyOGPxWW+u6x77RJXj79v8M4C9lsx8YlysQO17UfrR7N4LpEkbT01GCVxC7Zs1ii3d0SvYEBs3MWADgnwrwLz/R/iOPNyDRSoZOCoXkyu7jZkwMvQVf9AQHwxtc1i4QsCs4hKSBAbqDaHhVVak3jjrbXSwuNo48xrw/AeIx3Jud3VH5AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTEwLTEwVDE2OjI3OjI2KzAwOjAwX9pcYwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0xMC0xMFQxNjoyNzoyNiswMDowMC6H5N8AAAAASUVORK5CYII=",alt:"phone-call"})}),Object(A.jsx)("a",{href:"tel:+79603621543",children:"+7 (960) 362 1543"})]}),Object(A.jsxs)("p",{children:[Object(A.jsx)("span",{className:"text-widget__img",children:Object(A.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAMrSURBVEiJrZZfaFt1FMc/55emydbV3IamUp06ttkYROdsU9wQt8L61o4ksIIw4oOoCIKCLxaZ+OfBh8EQ3waCFEVrC00LgogPKTJBSBvbMq1OZDhsH5rOBZvRLmnu8cE2velyu6b4fbq/cw7f7zm/e885V1QVNyRSibaiSlSM3QV0CnQBKEwB02qbqUbRzFh8bMmNQ2oJ9Ez2NDTlrUEDFxS8rhkAAiUbPrht5T9Mn06v31OgL5WIiOgQEN2JuAYyqvLC1/GxeafROA/9E7GkGDu7B3KAqBg72z8RSzqNlQr6UomIGDuLin8P5E7GNbXN05uVGPjvzkV0yEn+0IGDxA6fJegP1ieg4hfRoZ7JnoaKQFPeGsRxLeGWDi49d5Fk5DwXooN7qSO6wYln7thcmwoTgGfTm4yc59B9jwBg+Sxml+dYXrtZl4KBZ0fnRy6bokp0+6cYaQlXBfc+fKbuEhS8RZWo2WiiKty6k68OVrtuAQAxdpcBOrc7ZnKzlee/127xyS+f7kkA6DSb7e/E94tXKGt546R4zY7N7AqBLlNrFCwUFhj7YxyAoD/Im8ffwIi5i2A3MMCvtRzD10b4KTcDwJOtT/DS4y/iEU9VTHNjM5bPciVXmPJ0PB8+AXLXewCYXsoSbesk4Atw1DrCifZnuLFyg9zqMu1N7Xx86hKxw2cJ7W/lr8IihVJhO8WX0peKvQ585JZFc2Mzb0ffosN6tGKbyc1y8MCDtO5rrdjKWubV9Gssr271i9qmz3hVPgdW3ARWiiu8++P7fPvnd2zOradCx6rIATzioVC6XTkLlBpFM5754fnVL34b9gtyyk1kXctML2WZXsryQFM7oX0hRKQq5qvfR5nNzW1lD+9NxFPfiKrSOzoQ8HtL14EWNxEnLF+A7vujRIKPcadc5MriD1y9+bMzJFOw8ifTp9PrW+N6PH5d4NBuBHZErXHdPx7v/r/IgVecW60BQGDAffXvGhm1Te2VqXAOyAOfIZoow1FELwL/3DNpKCm8U7DyJ7eTA8iZkXOB/Q3r3Qu50OTUy5dLTmfv6EDA5y0lReU4omEgLFCs57flX0EkMkeNoDLGAAAAAElFTkSuQmCC",alt:"whatsapp"})}),Object(A.jsx)("a",{href:"https://wa.me/79603621543",target:"_blank",rel:"noreferrer",children:"+7 (960) 362 1543"})]}),Object(A.jsxs)("p",{children:[Object(A.jsx)("span",{className:"text-widget__img",children:Object(A.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYEAYAAACw5+G7AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5QoKEB8oS5ndQAAAAv1JREFUWMPtl11IU2EYx//POU4ktShEp9tACzSZepMaGkoYhZFgfpIEfgx1KhlEpFSEelGkIhKSmR9bRiTMJIUsyIrIStQUdBMDK8S5nCKo4MVqbm83ngXJIHV4Cvzdnfdw3uf3f57D4bzALrtsC1JUt1XPXImMtCXSMlVqNFQJFXqVSgyhHzEcJ7agg2jEYcBuZ+0IRqjBwEI4rX2vSkUBPZqlWT+9nkrwlH0KCxPb829hzzGFA3o9RzUkZ3elUrGFNgvdxmE0SaUcvHCRPOvrxRbaNCHwpJX6ehKuZQFazawxIwNBKGWDjY2YZg046uMjtqcAewIzJSwvkwH3EF9ebipQGeVtzc2cLFubP/tAq3UzIc8q7+tb28N/lXgrlewpPYShq0tscSxQJ3S9vfw7xtvPKpVu+TRjbdXpBG8Or1ksO5Gba73PrknOTE5y6TY/69XY2O/ReW8Vp9PTwQiEzEwEUikGFxd3qtOoRAVVqtUma94LxeWkJGbmykgaEbG2H7zbqF4veJNMptEYjYxt3AkVqOjsZJ/5O5yuuNiWRrF8F8/zN23nrPbGRkph2QhLS3N1p+kCZwLUavduS8nP5NVVyyPJefeemhrKRCcyCwv/fMz5d55QhaqMDDy2DbN4g8HVk3HWacA+BoSH/1hyL3FfMRiciTs0nU7AaeVtTmaLnXZdACHHDUyR2mxmRLeYubh4Tp1HitHubn+j5ojxWFYWlwp/pJaVIYje4wtj9jp2COO1tXMK1YjiQ0eH/JKWGesSE5kWPI63tMCTtcJXLt+sx5YDbECKASS3t1v32UqtReXlC28KIg4Wzs8Lt30TWsa/Nfv5SVb4BklTdTXMiEFPTs52y7ougDCZSaxSoMVC/RjAqeFhx3ocYvAyKopC4cWmPTxcVc/NVRs5OvJb8CQQF+dYd3Whdf6dv80tB5ChDS58hXaMdW+OXcczSpmYENtns7BX+AhvvZ5jRVyPbSg3FxYEY2RsTDg4iC24AcFr3VM40Iittct/zy/zh3+SYYcCLwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0xMC0xMFQxNjozMTo0MCswMDowMDb1z1kAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMTAtMTBUMTY6MzE6NDArMDA6MDBHqHflAAAAAElFTkSuQmCC",alt:"email"})}),Object(A.jsx)("a",{href:"mailto:laserkid@yandex.ru",target:"_blank",rel:"noreferrer",children:"laserkid@yandex.ru"})]})]})},J=function(){return Object(A.jsx)("nav",{className:"nav-widget",children:Object(A.jsx)("ul",{className:"nav-widget__list",children:Object(A.jsx)("li",{className:"nav-widget__item",children:Object(A.jsx)(o.b,{to:"/catalog/",children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"})})})})},Y=function(){return Object(A.jsxs)("div",{className:"sidebar-wrapper",children:[Object(A.jsx)("div",{className:"sidebar-block",children:Object(A.jsx)(J,{})}),Object(A.jsx)("div",{className:"sidebar-block",children:Object(A.jsx)(D,{})})]})},U=function(){return Object(A.jsx)("div",{className:"container",children:Object(A.jsxs)("div",{className:"row justify-content-start",children:[Object(A.jsx)("div",{className:"col-3",children:Object(A.jsx)(Y,{})}),Object(A.jsx)("div",{className:"col-8 single-product",children:Object(A.jsx)(L,{})})]})})},G=function(e){var t,c=e.product,a=Object(i.useState)(c.qty),r=Object(s.a)(a,2),n=r[0],l=r[1],j=Object(i.useContext)(v),u=j.removeProduct,d=j.calcTotal;return Object(i.useEffect)((function(){d("".concat(c.id),n)}),[n]),Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{className:"cart__content-img",children:Object(A.jsx)("img",{src:null!==(t=c.image.src)&&void 0!==t?t:"https://via.placeholder.com/300x300",alt:c.image.alt||c.image.name,onLoad:function(e){var t=e.target;t.style.height=getComputedStyle(t).width}})}),Object(A.jsx)("td",{className:"cart__content-name",children:Object(A.jsx)(o.b,{to:"/catalog/".concat(c.id),children:c.name})}),Object(A.jsx)("td",{className:"cart__content-price",dangerouslySetInnerHTML:{__html:M.a.sanitize(c.price_html)}}),Object(A.jsx)("td",{className:"cart__content-qty",children:Object(A.jsx)("input",{type:"number",className:"form-control",min:"1",max:"10",value:n,onChange:function(e){return l(parseInt(e.target.value))}})}),Object(A.jsxs)("td",{className:"cart__content-total",children:[b(c.total)," \u20bd"]}),Object(A.jsx)("td",{className:"cart__content-remove",children:Object(A.jsx)("img",{src:w,alt:"move-to-trash",onClick:function(){return u("".concat(c.id))},onMouseEnter:function(e){e.target.setAttribute("src",S)},onMouseLeave:function(e){e.target.setAttribute("src",w)}})})]})},X=["11%","45%","13%","12%","13%","6%"],z=function(){return Object(A.jsx)("colgroup",{children:X.map((function(e,t){return Object(A.jsx)("col",{style:{width:e}},t)}))})},W=function(){return Object(A.jsx)("thead",{className:"cart__content-head",children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:"\u0424\u043e\u0442\u043e"}),Object(A.jsx)("td",{children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430"}),Object(A.jsx)("td",{children:"\u0426\u0435\u043d\u0430"}),Object(A.jsx)("td",{children:"\u041a\u043e\u043b-\u0432\u043e"}),Object(A.jsx)("td",{children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(A.jsx)("td",{children:"\xa0"})]})})},K=function(e){var t=e.cartMap;return Object(A.jsx)("tbody",{className:"cart__content-body",children:Object.keys(t).length?Object.keys(t).map((function(e,c){return Object(A.jsx)(G,{product:t[e]},e)})):null})},Z=function(e){var t=e.totalCart;return Object(A.jsx)("tfoot",{className:"cart__content-foot",children:Object(A.jsxs)("tr",{className:"cart__content-result",children:[Object(A.jsx)("td",{colSpan:4,children:"\u0418\u0442\u043e\u0433\u043e:"}),Object(A.jsxs)("td",{children:[b(t)," \u20bd"]}),Object(A.jsx)("td",{children:"\xa0"})]})})},q=function(){var e=Object(i.useContext)(v),t=e.cartMap,c=e.totalCart;return Object(A.jsx)("div",{className:"container",children:Object(A.jsxs)("div",{className:"row justify-content-center",children:[Object(A.jsx)("div",{className:"col-3",children:Object(A.jsx)(Y,{})}),Object(A.jsx)("div",{className:"col-9 d-flex flex-column",style:{gap:"30px 0"},children:Object(A.jsx)("section",{className:"cart__wrapper",children:Object(A.jsxs)("table",{className:"cart__content",children:[Object(A.jsx)(z,{}),Object(A.jsx)(W,{}),Object(A.jsx)(K,{cartMap:t}),Object(A.jsx)(Z,{totalCart:c})]})})})]})})},H=function(e){var t,c=e.product,a=Object(i.useState)(!1),r=Object(s.a)(a,2),n=r[0],l=r[1],o=Object(i.useContext)(v),j=o.cartMap,u=o.addToCart,d=Object(x.g)().push;return Object(i.useEffect)((function(){l(Object.keys(j).includes(String(c.id)))}),[j,c.id]),Object(A.jsx)("div",{className:"col-12 col-sm-6 col-md-12 col-lg-6 col-xl-4",children:Object(A.jsxs)("div",{className:"product__wrapper",children:[Object(A.jsx)("img",{src:null!==(t=c.images[0].src)&&void 0!==t?t:"https://via.placeholder.com/300x300",alt:c.images[0].alt||c.images[0].name,onLoad:function(e){var t=e.target;t.style.height=getComputedStyle(t).width}}),Object(A.jsxs)("div",{className:"product__body",children:[Object(A.jsx)("p",{className:"product__name",onClick:function(){return d("/catalog/".concat(c.id))},children:c.name}),Object(A.jsx)("p",{className:"product__cost",dangerouslySetInnerHTML:{__html:M.a.sanitize(c.price_html)}}),n?Object(A.jsx)("span",{className:"product__cart cart_added",children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 \u2714"}):Object(A.jsx)("span",{className:"product__cart",onClick:function(){u(c),l(!0)},children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]})]})})},$=function(){var e=Object(i.useContext)(g).products;return Object(A.jsx)("div",{className:"row",style:{gap:"15px 0"},children:e.length?e.map((function(e){return Object(A.jsx)(H,{product:e},e.id)})):Object(A.jsx)("p",{className:"produst__not-found",children:"\u041c\u044b \u043d\u0435 \u0441\u043c\u043e\u0433\u043b\u0438 \u043d\u0430\u0439\u0442\u0438 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0434\u043b\u044f \u0432\u0430\u0441! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u0430"})})},ee=function(){var e=Object(i.useState)(0),t=Object(s.a)(e,2),c=t[0],a=t[1],r=Object(i.useState)(0),n=Object(s.a)(r,2),l=n[0],o=n[1],u=Object(i.useState)(0),d=Object(s.a)(u,2),b=d[0],O=d[1],m=Object(i.useContext)(N),p=m.setMaxCost,x=m.sortedPosts,h=Object(i.useContext)(g).category;Object(i.useEffect)((function(){if(x.length){var e=function(e){var t=[];return t.push.apply(t,Object(j.a)(e.map((function(e){return parseInt(e.price)})))),[Math.min.apply(Math,t),Math.max.apply(Math,t)]}(x);a(e[0]),o(e[1]),p(e[1]),O(e[1])}}),[h,x]);return Object(A.jsxs)("div",{className:"main__filter-block",children:[Object(A.jsx)("p",{className:"filter-item__title",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(A.jsxs)("div",{className:"filter-item__content",children:[Object(A.jsx)("input",{type:"range",className:"form-range",min:c,max:l,value:b,step:"50",onInput:function(e){O(parseInt(e.target.value))},onMouseUp:function(e){var t=e.target;p(parseInt(t.value))}}),Object(A.jsxs)("p",{className:"filter-item__by-cost",children:["\u0426\u0435\u043d\u0430: ",Object(A.jsx)("span",{className:"min-cost",children:c})," \u20bd \u2014"," ",Object(A.jsx)("span",{className:"max-cost",children:b})," \u20bd"]})]})]})},te=function(){var e=Object(i.useContext)(g).categories,t=Object(i.useContext)(N),c=t.category,a=t.setCategory;return Object(A.jsxs)("div",{className:"main__filter-block",children:[Object(A.jsx)("p",{className:"filter-item__title",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),Object(A.jsx)("div",{className:"filter-item__content",children:Object(A.jsxs)("select",{className:"form-select",value:c,onChange:function(e){return a(parseInt(e.target.value))},children:[Object(A.jsx)("option",{value:-1,children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"}),e.map((function(e){return 0!==e.count&&Object(A.jsx)("option",{value:e.id,children:e.name},e.id)}))]})})]})},ce=function(){var e=Object(i.useContext)(N),t=e.orderby,c=e.setOrderby;return Object(i.useContext)(g).products.length<2?null:Object(A.jsxs)("div",{className:"main__filter-block",children:[Object(A.jsx)("p",{className:"filter-item__title",children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430"}),Object(A.jsx)("div",{className:"filter-item__content",children:Object(A.jsxs)("select",{className:"form-select",value:t,onChange:function(e){return c(e.target.value)},children:[Object(A.jsx)("option",{value:"default",children:"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"}),Object(A.jsx)("option",{value:"asc",children:"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e"}),Object(A.jsx)("option",{value:"desc",children:"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e"})]})})]})},ae=function(){var e=Object(i.useContext)(N),t=e.searchQuery,c=e.setSearchQuery;return Object(A.jsxs)("div",{className:"main__filter-block",children:[Object(A.jsx)("p",{className:"filter-item__title",children:"\u041f\u043e\u0438\u0441\u043a"}),Object(A.jsx)("div",{className:"filter-item__content",children:Object(A.jsx)("input",{type:"text",className:"form-control",value:t,onInput:function(e){return c(e.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441"})})]})},re=function(){var e=Object(i.useContext)(N),t=e.setCategory,c=e.setOrderby,a=e.setSearchQuery,r=function(){t(-1),c("default"),a("")};return Object(A.jsx)("button",{className:"btn btn-default",onClick:r,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})},ne=(c(150),function(){return Object(A.jsxs)("div",{className:"main__filter",children:[Object(A.jsx)(ae,{}),Object(A.jsx)(te,{}),Object(A.jsx)(ee,{}),Object(A.jsx)(ce,{}),Object(A.jsx)(re,{})]})}),se=function(e,t){var c=Object(i.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0;return-1===e?t:t.filter((function(t){return t.categories.some((function(t){return t.id===e}))}))}(e,Object(j.a)(t))}),[e,t]);return c},ie=function(e,t){var c=Object(i.useMemo)((function(){return 0!==e?function(e,t){return t.filter((function(t){return parseFloat(t.price)<=e}))}(e,Object(j.a)(t)):t}),[e,t]);return c},le=function(e,t){var c=Object(i.useMemo)((function(){return function(e,t){return"default"===e?t:t.sort((function(t,c){return"asc"===e?parseFloat(t.price)-parseFloat(c.price):"desc"===e?parseFloat(c.price)-parseFloat(t.price):null}))}(e,Object(j.a)(t))}),[e,t]);return c},oe=function(e,t,c,a,r){var n=se(e,r),s=ie(t,n),l=function(e,t){var c=Object(i.useMemo)((function(){return function(e,t){return""!==e?t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase().trim())})):t}(e,Object(j.a)(t))}),[e,t]);return c}(a,le(c,s));return l},je=c(44),ue=function(e){var t=e.page,c=e.total,a=e.setPage;if(1===c)return null;var r=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Array.from({length:(t-e)/c+1},(function(t,a){return e+a*c}))}(1,c);return Object(A.jsx)("div",{className:"pagination_list",children:r.map((function(e){return Object(A.jsx)("span",{className:"pagination_item".concat(e===t?" current_page":""),onClick:function(){return a(e)},children:e},e)}))})},de=c(32),be=c(37),Oe=c(45),me=c.n(Oe),pe=function(){function e(){Object(de.a)(this,e)}return Object(be.a)(e,null,[{key:"getCategories",value:function(){var e=Object(T.a)(P.a.mark((function e(t){var c,a,r,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=[],a=1,r=function(){var e=Object(T.a)(P.a.mark((function e(){var n,s,i,l,o,u=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=u.length>0&&void 0!==u[0]?u[0]:1,e.next=3,R.get("products/categories",{page:s});case 3:i=e.sent,l=i.data,o=i.headers,c=[].concat(Object(j.a)(c),Object(j.a)(l)),a=null!==(n=parseInt(o["x-wp-totalpages"]))&&void 0!==n?n:1,s<a?r(s+1):t(c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=6,r();case 6:e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(0),n=e.t0,console.error(n.message),new Error(n.message);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getWcProducts",value:function(e){}}]),e}();pe.getProducts=Object(T.a)(P.a.mark((function e(){var t,c,a,r,n,s,i,l;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],c=1,a=!0;case 3:if(!a){e.next=15;break}return e.next=6,me.a.get("https://laserkids.ru/wp-json/wc/store/products?page="+c);case 6:n=e.sent,s=n.headers,i=n.data,t=[].concat(Object(j.a)(t),Object(j.a)(i)),l=null!==(r=s["x-wp-totalpages"])&&void 0!==r?r:1,a=c<l,c++,e.next=3;break;case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e)}))),pe.getProductById=function(){var e=Object(T.a)(P.a.mark((function e(t){var c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("https://laserkids.ru/wp-json/wc/store/products/?include="+t);case 2:return c=e.sent,e.abrupt("return",c.data[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var xe=[{path:"/catalog",component:function(){var e=Object(i.useContext)(y).setCacheProducts,t=Object(je.useStateIfMounted)([]),c=Object(s.a)(t,2),a=c[0],r=c[1],n=Object(je.useStateIfMounted)([]),l=Object(s.a)(n,2),o=l[0],j=l[1],u=Object(i.useState)(-1),d=Object(s.a)(u,2),b=d[0],O=d[1],m=Object(i.useState)(0),p=Object(s.a)(m,2),x=p[0],h=p[1],f=Object(i.useState)("default"),v=Object(s.a)(f,2),C=v[0],_=v[1],w=Object(i.useState)(""),S=Object(s.a)(w,2),k=S[0],M=S[1],E=Object(i.useState)(18),F=Object(s.a)(E,1)[0],B=Object(i.useState)(1),I=Object(s.a)(B,2),L=I[0],D=I[1],J=Object(i.useState)(0),Y=Object(s.a)(J,2),U=Y[0],G=Y[1],X=Q(Object(T.a)(P.a.mark((function e(){var t,c,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("products",{per_page:F,page:L});case 2:t=e.sent,c=t.data,a=t.headers,r(c),G(parseInt(a["x-wp-totalpages"]));case 7:case"end":return e.stop()}}),e)})))),z=Object(s.a)(X,3),W=z[0],K=z[1],Z=z[2],q=se(b,a),H=oe(b,x,C,k,a);return Object(i.useEffect)((function(){W(),pe.getCategories((function(e){j(e)}))}),[L]),Object(i.useEffect)((function(){a.length&&e(a)}),[a]),Object(A.jsx)(g.Provider,{value:{products:H,categories:o,category:b},children:Object(A.jsx)("div",{className:"container",children:Object(A.jsxs)("div",{className:"row main-section justify-content-between",children:[Object(A.jsx)("aside",{className:"col-12 col-md-5 col-lg-4 col-xl-3 mb-4 mb-md-0",children:Object(A.jsx)(N.Provider,{value:{category:b,orderby:C,maxCost:x,searchQuery:k,sortedPosts:q,setCategory:O,setOrderby:_,setMaxCost:h,setSearchQuery:M},children:Object(A.jsx)(ne,{})})}),Object(A.jsx)("article",{className:"col-12 col-md-6 col-lg-7 col-xl-8 mb-5 product-list",children:Z.status?Object(A.jsxs)("div",{children:["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043a\u0430\u043a\u0430\u044f \u0442\u043e \u043e\u0448\u0438\u0431\u043a\u0430 - ",Z.message]}):K?Object(A.jsx)(V,{}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)($,{}),Object(A.jsx)(ue,{page:L,total:U,setPage:function(e){return D(e)}})]})})]})})})},exact:!0,title:"Laserkids Store - \u041a\u0430\u0442\u0430\u043b\u043e\u0433"},{path:"/catalog/:id",component:U,exact:!0,title:"Laserkids Store"},{path:"/cart/",component:q,exact:!1,title:"Laserkids Store - \u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"}],he=function(){var e=Object(i.useState)(!0),t=Object(s.a)(e,2),c=t[0],a=t[1];return c?Object(A.jsxs)("div",{className:"wrapperAlert",children:[Object(A.jsx)("span",{className:"wrapperAlert_text",children:"\u0414\u0430\u043d\u043d\u044b\u0439 \u0441\u0430\u0439\u0442 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u043e\u0439 \u0430\u0432\u0442\u043e\u0440\u0430 \u0438 \u043d\u0435 \u043d\u0430\u0446\u0435\u043b\u0435\u043d \u043d\u0430 \u043a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u0443\u044e \u0434\u0435\u044f\u044c\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c, \u043f\u0440\u043e\u0434\u0430\u0436\u0443 \u0442\u043e\u0432\u0430\u0440\u0430 \u0438 \u043f\u0440\u043e\u0447\u0435\u0435"}),Object(A.jsx)("span",{className:"wrapperAlert_close",onClick:function(){return a(!1)},children:"\xd7"})]}):null},Ae=function(){var e=Object(i.useState)([]),t=Object(s.a)(e,2),c=t[0],a=t[1],r=Object(i.useState)({}),l=Object(s.a)(r,2),j=l[0],u=l[1],b=Object(i.useState)(0),x=Object(s.a)(b,2),h=x[0],g=x[1],N=Object(i.useState)(0),C=Object(s.a)(N,2),_=C[0],w=C[1];Object(i.useEffect)((function(){if(null!==localStorage.getItem("WC_Cart")){var e=JSON.parse(localStorage.getItem("WC_Cart"));0!==Object.keys(e).length&&(u(e),g(Object.keys(e).length),w(O(e)))}}),[]),d((function(){localStorage.setItem("WC_Cart",JSON.stringify(j)),g(Object.keys(j).length),w(O(j))}),[j]);return Object(A.jsx)(o.a,{children:Object(A.jsx)(y.Provider,{value:{cacheProducts:c,setCacheProducts:a},children:Object(A.jsxs)(v.Provider,{value:{cartMap:j,cartCounter:h,totalCart:_,removeProduct:function(e){u(function(e,t){return Object.keys(t).filter((function(t){return t!==e})).reduce((function(e,c){return e[c]=t[c],e}),{})}(e,j))},calcTotal:function(e,t){var c=Object(n.a)(Object(n.a)({},j[e]),{},{qty:t,total:j[e].price*t});u((function(t){return m(e,c,t)}))},addToCart:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=p(e,t);u((function(t){return m(e.id,c,t)}))}},children:[Object(A.jsx)(B,{}),Object(A.jsx)(f,{routes:xe,redirect:"/catalog"}),Object(A.jsx)(he,{})]})})})};r.a.render(Object(A.jsx)(Ae,{}),document.getElementById("root"))},99:function(e,t,c){}},[[170,1,2]]]);
//# sourceMappingURL=main.c8bdf5f3.chunk.js.map