(this["webpackJsonplaserkids-filter-ts"]=this["webpackJsonplaserkids-filter-ts"]||[]).push([[0],{107:function(e,t,c){},129:function(e,t){},131:function(e,t){},143:function(e,t){},145:function(e,t){},162:function(e,t,c){},182:function(e,t,c){"use strict";c.r(t);var a,r=c(86),n=c.n(r),s=c(9),i=c(2),o=c(1),l=c.n(o),u=c(15),j=c(39),d=c(11);!function(e){e.asc="asc",e.desc="desc",e.default="default"}(a||(a={}));var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ru-RU";return new Intl.NumberFormat(t).format(e)},O=function(e){var t=0;for(var c in e)t+=e[c].price*e[c].qty;return t},m=function(e,t,c){var a={};return(a=Object(s.a)({},c))[e]=t,a},p=function(e){var t,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a={id:e.id,name:e.name,img:null!==(t=e.images[0].src)&&void 0!==t?t:"https://via.placeholder.com/300x300",image:e.images[0],price:parseFloat(e.price),qty:c,total:parseFloat(e.price)*c,price_html:e.price_html};return a},h=c(5),x=c(87),f=c(0),A=function(e){var t=e.routes,c=e.redirect;return Object(f.jsxs)(h.d,{children:[t.map((function(e,t){return Object(f.jsx)(h.b,{path:e.path,exact:e.exact,children:Object(f.jsxs)(l.a.Fragment,{children:[Object(f.jsx)(x.a,{children:Object(f.jsx)("title",{children:e.title})}),Object(f.jsx)(e.component,{})]})},t)})),Object(f.jsx)(h.a,{to:c})]})},g=c(3),v=function(e){var t=Object(h.h)();Object(o.useEffect)((function(){e(t)}),[t,e])},N=c.p+"static/media/shopping-cart-white.61bc96f9.svg",C=c.p+"static/media/delete.e4efcb06.svg",w=c.p+"static/media/delete-red.0a2da310.svg",y=c(21),_=c.n(y),S=function(e){var t,c=e.product,a=Object(o.useContext)(g.a).removeProduct;return Object(f.jsx)("div",{className:"cart__products-item",children:Object(f.jsxs)("div",{className:"row justify-content-between align-items-center w-100 m-0",children:[Object(f.jsx)("div",{className:"col-8",children:Object(f.jsxs)("div",{className:"row align-items-center",children:[Object(f.jsx)("div",{className:"col-4",children:Object(f.jsx)("img",{src:null!==(t=c.image.src)&&void 0!==t?t:"https://via.placeholder.com/300x300",alt:c.image.alt||c.image.name,onLoad:function(e){var t=e.target;t.style.height=getComputedStyle(t).width},className:"cart__products-image"})}),Object(f.jsx)("div",{className:"col-8",children:Object(f.jsxs)(u.b,{className:"cart__products-name",to:"/catalog/".concat(c.id),children:[c.name,c.qty>1?" x ".concat(c.qty," \u0448\u0442."):null]})})]})}),Object(f.jsx)("div",{className:"col-3",children:Object(f.jsxs)("div",{className:"cart__products-right",children:[Object(f.jsx)("p",{className:"cart__products-price",dangerouslySetInnerHTML:{__html:_.a.sanitize(c.price_html)}}),Object(f.jsx)("img",{src:C,alt:"move-trash",className:"cart__products-remove",onMouseEnter:function(e){e.target.setAttribute("src",w)},onMouseLeave:function(e){e.target.setAttribute("src",C)},onClick:function(){return a("".concat(c.id))}})]})})]})})},k=function(){var e=Object(o.useState)("/"),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(o.useState)(!0),n=Object(i.a)(r,2),s=n[0],l=n[1],j=Object(o.useContext)(g.a),d=j.cartMap,O=j.cartCounter,m=j.totalCart;return v((function(e){a("/"!==e.pathname?e.pathname.split("/").filter((function(e){return""!==e}))[0]:"/")})),Object(o.useEffect)((function(){l(Boolean(O>0&&"cart"!==c))}),[c,O]),Object(f.jsxs)("div",{className:"header__cart",children:[Object(f.jsxs)("div",{className:"header__cart-inner",children:[Object(f.jsx)("img",{src:N,alt:"cart",className:"header__cart-icon"}),Object(f.jsxs)("p",{children:[O>0?Object(f.jsxs)(u.b,{to:"/cart/",className:"header__cart-link",children:["\u041a\u043e\u0440\u0437\u0438\u043d\u0430"," "]}):"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 ",s?Object(f.jsx)("span",{className:"header__cart-cartCounter",children:O}):null]})]}),s?Object(f.jsxs)("div",{className:"header__cart-content",children:[Object(f.jsx)("div",{className:"cart__products",children:Object.keys(d).map((function(e){return Object(f.jsx)(S,{product:d[e]},e)}))}),Object(f.jsx)("div",{className:"cart__driver-wrapper",children:Object(f.jsx)("hr",{className:"cart__driver"})}),Object(f.jsxs)("div",{className:"cart__total",children:[Object(f.jsx)("span",{className:"cart__total-text",children:"\u0418\u0442\u043e\u0433\u043e:"}),Object(f.jsxs)("span",{className:"cart__total-price",children:[b(m)," \u20bd"]})]})]}):null]})},M=function(){return Object(f.jsx)("header",{className:"header",children:Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(f.jsx)(u.b,{to:"/catalog",className:"header__brand",children:"Laserkids Store"}),Object(f.jsx)(k,{})]})})})},E=(c(106),c(107),c(92)),F=function(){return Object(f.jsxs)("div",{className:"text-widget text-widget__contacts",children:[Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{className:"text-widget__img",children:Object(f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYEAYAAACw5+G7AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5QoKEBsa5yJJxAAABF5JREFUWMPNl3tMU2cYxp+3tDAuA1niGC2ijLExUMe4jGWyZGQYCS04QSqCMpxZqo5dYEtA5SoyYCJVRjYRmDpx0Qo2gwoyXBaRBHVAMghudtJFWCkjJlwk5db22x9SdjGkBVzZ89dJTp7nPL/vOyffewj/0nOlpeENShsbrVJ3jXWVldEEXsKncXFMil6sVKlYCE6ydcnJmq7ULaLi69exzCLjhY8sm8kuWFuPXnB6x764pgY3sA45kZGPOB7AiiQTE0xEmYYvo6IGvkkZE0VevbpcABzjio8EOSntk+TyeYsb9ST0rNzWlhQsj7O3ro4fL3VU1IeFLRuA9mt9DzuWnk4huIyaiAiznbMgyGDv0pRCIYiSJig0QqHFAaiTTVF5QsJiA2gjBLC1scFK1kvC8+cF75eGNyjd3CwGgEq8wU67uCw56QrEyHNwMGTrRKwqIMByAGpw8bJavdQgdhhtKJqZ4fnTAfZ6d7flAIJYLnuxrW3RxYtwHy+oVJwu9DPNtm19fSljIpFKZTmAcUxb7aitXXDxJIyhr72dlzCab+fp6/u7NPWG6Fe53FLF5wDUW1f1PNjS1MTa4IgDd++aa6QTCCNpVdU9yqVQmpy0dPE5AEAsFov1ejaFSnQVFprtDEc/+0IgWK7ifwN4KI3XaJud4cwZJKKDKjs7TTqfQgCmd+40HoTLDgDkUijpdJwV2IseiQTRkMFDr5/XeQkKsNWrtdO6Efjl5PwPAB6qPy01JELZ3s78yZM+yM01FUAy9LOktDT++pIjih1xcYst8syuYr8GpY+PgH+0WFEfG+tafnxFvb+7+4IBjBrYNVJ9szk/n32FQ/i+sXHeBDU+hpAIrXSQrE6dckspebXBLj7e3OKCDUerGtISE61GOAexqbsbRBziyGScW3pvDnp6TM1aZOoB7u4FBQqFs7Puc+tkCm9poX1Ugaa1a002G0YvvS2VGqT26/XuGRkaiUQS2anVGm8/61FY0Pydk9NkvY10JvP2bdrE0lkWn/9Ijonp1ySAUauKin759jU+3+DJ8+JNtrbiQxxneR4epnysAn+gUaOhIRZHg+fOsTJOFHt6fHxuBnNFOqvz8jJZYBbEMGTYx+SbN2ue+IQnDGpuNhtgDiT0s8kGpaen4T0uD3HNzeaCPDbNgtAdzhg7Fh6+YIA5kNkd0XtzBdyWpiazX63HJPYzClDa1bVoAKPmvpFrNtEUW1294P+KxQJkQgK7wUHOUoP6+vbvF4mGhwc8Rp+/pY2MZIepg6RZWSbPkSWKNuAeHM6eXfIOzCe+TMoub/Xzw08sF29WVNBpOMI9MHCpuUyOGPxWW+u6x77RJXj79v8M4C9lsx8YlysQO17UfrR7N4LpEkbT01GCVxC7Zs1ii3d0SvYEBs3MWADgnwrwLz/R/iOPNyDRSoZOCoXkyu7jZkwMvQVf9AQHwxtc1i4QsCs4hKSBAbqDaHhVVak3jjrbXSwuNo48xrw/AeIx3Jud3VH5AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTEwLTEwVDE2OjI3OjI2KzAwOjAwX9pcYwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0xMC0xMFQxNjoyNzoyNiswMDowMC6H5N8AAAAASUVORK5CYII=",alt:"phone-call"})}),Object(f.jsx)("a",{href:"tel:+79603621543",children:"+7 (960) 362 1543"})]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{className:"text-widget__img",children:Object(f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAMrSURBVEiJrZZfaFt1FMc/55emydbV3IamUp06ttkYROdsU9wQt8L61o4ksIIw4oOoCIKCLxaZ+OfBh8EQ3waCFEVrC00LgogPKTJBSBvbMq1OZDhsH5rOBZvRLmnu8cE2velyu6b4fbq/cw7f7zm/e885V1QVNyRSibaiSlSM3QV0CnQBKEwB02qbqUbRzFh8bMmNQ2oJ9Ez2NDTlrUEDFxS8rhkAAiUbPrht5T9Mn06v31OgL5WIiOgQEN2JuAYyqvLC1/GxeafROA/9E7GkGDu7B3KAqBg72z8RSzqNlQr6UomIGDuLin8P5E7GNbXN05uVGPjvzkV0yEn+0IGDxA6fJegP1ieg4hfRoZ7JnoaKQFPeGsRxLeGWDi49d5Fk5DwXooN7qSO6wYln7thcmwoTgGfTm4yc59B9jwBg+Sxml+dYXrtZl4KBZ0fnRy6bokp0+6cYaQlXBfc+fKbuEhS8RZWo2WiiKty6k68OVrtuAQAxdpcBOrc7ZnKzlee/127xyS+f7kkA6DSb7e/E94tXKGt546R4zY7N7AqBLlNrFCwUFhj7YxyAoD/Im8ffwIi5i2A3MMCvtRzD10b4KTcDwJOtT/DS4y/iEU9VTHNjM5bPciVXmPJ0PB8+AXLXewCYXsoSbesk4Atw1DrCifZnuLFyg9zqMu1N7Xx86hKxw2cJ7W/lr8IihVJhO8WX0peKvQ585JZFc2Mzb0ffosN6tGKbyc1y8MCDtO5rrdjKWubV9Gssr271i9qmz3hVPgdW3ARWiiu8++P7fPvnd2zOradCx6rIATzioVC6XTkLlBpFM5754fnVL34b9gtyyk1kXctML2WZXsryQFM7oX0hRKQq5qvfR5nNzW1lD+9NxFPfiKrSOzoQ8HtL14EWNxEnLF+A7vujRIKPcadc5MriD1y9+bMzJFOw8ifTp9PrW+N6PH5d4NBuBHZErXHdPx7v/r/IgVecW60BQGDAffXvGhm1Te2VqXAOyAOfIZoow1FELwL/3DNpKCm8U7DyJ7eTA8iZkXOB/Q3r3Qu50OTUy5dLTmfv6EDA5y0lReU4omEgLFCs57flX0EkMkeNoDLGAAAAAElFTkSuQmCC",alt:"whatsapp"})}),Object(f.jsx)("a",{href:"https://wa.me/79603621543",target:"_blank",rel:"noreferrer",children:"+7 (960) 362 1543"})]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{className:"text-widget__img",children:Object(f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYEAYAAACw5+G7AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5QoKEB8oS5ndQAAAAv1JREFUWMPtl11IU2EYx//POU4ktShEp9tACzSZepMaGkoYhZFgfpIEfgx1KhlEpFSEelGkIhKSmR9bRiTMJIUsyIrIStQUdBMDK8S5nCKo4MVqbm83ngXJIHV4Cvzdnfdw3uf3f57D4bzALrtsC1JUt1XPXImMtCXSMlVqNFQJFXqVSgyhHzEcJ7agg2jEYcBuZ+0IRqjBwEI4rX2vSkUBPZqlWT+9nkrwlH0KCxPb829hzzGFA3o9RzUkZ3elUrGFNgvdxmE0SaUcvHCRPOvrxRbaNCHwpJX6ehKuZQFazawxIwNBKGWDjY2YZg046uMjtqcAewIzJSwvkwH3EF9ebipQGeVtzc2cLFubP/tAq3UzIc8q7+tb28N/lXgrlewpPYShq0tscSxQJ3S9vfw7xtvPKpVu+TRjbdXpBG8Or1ksO5Gba73PrknOTE5y6TY/69XY2O/ReW8Vp9PTwQiEzEwEUikGFxd3qtOoRAVVqtUma94LxeWkJGbmykgaEbG2H7zbqF4veJNMptEYjYxt3AkVqOjsZJ/5O5yuuNiWRrF8F8/zN23nrPbGRkph2QhLS3N1p+kCZwLUavduS8nP5NVVyyPJefeemhrKRCcyCwv/fMz5d55QhaqMDDy2DbN4g8HVk3HWacA+BoSH/1hyL3FfMRiciTs0nU7AaeVtTmaLnXZdACHHDUyR2mxmRLeYubh4Tp1HitHubn+j5ojxWFYWlwp/pJaVIYje4wtj9jp2COO1tXMK1YjiQ0eH/JKWGesSE5kWPI63tMCTtcJXLt+sx5YDbECKASS3t1v32UqtReXlC28KIg4Wzs8Lt30TWsa/Nfv5SVb4BklTdTXMiEFPTs52y7ougDCZSaxSoMVC/RjAqeFhx3ocYvAyKopC4cWmPTxcVc/NVRs5OvJb8CQQF+dYd3Whdf6dv80tB5ChDS58hXaMdW+OXcczSpmYENtns7BX+AhvvZ5jRVyPbSg3FxYEY2RsTDg4iC24AcFr3VM40Iittct/zy/zh3+SYYcCLwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0xMC0xMFQxNjozMTo0MCswMDowMDb1z1kAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMTAtMTBUMTY6MzE6NDArMDA6MDBHqHflAAAAAElFTkSuQmCC",alt:"email"})}),Object(f.jsx)("a",{href:"mailto:laserkid@yandex.ru",target:"_blank",rel:"noreferrer",children:"laserkid@yandex.ru"})]})]})},B=function(){return Object(f.jsx)("nav",{className:"nav-widget",children:Object(f.jsx)("ul",{className:"nav-widget__list",children:Object(f.jsx)("li",{className:"nav-widget__item",children:Object(f.jsx)(u.b,{to:"/catalog/",children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"})})})})},I=function(){return Object(f.jsxs)("div",{className:"sidebar-wrapper",children:[Object(f.jsx)("div",{className:"sidebar-block",children:Object(f.jsx)(B,{})}),Object(f.jsx)("div",{className:"sidebar-block",children:Object(f.jsx)(F,{})})]})},P=function(){return Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("div",{className:"row justify-content-start",children:[Object(f.jsx)("div",{className:"col-3",children:Object(f.jsx)(I,{})}),Object(f.jsx)("div",{className:"col-8 single-product",children:Object(f.jsx)(E.a,{})})]})})},R=function(e){var t,c=e.product,a=Object(o.useState)(c.qty),r=Object(i.a)(a,2),n=r[0],s=r[1],l=Object(o.useContext)(g.a),j=l.removeProduct,d=l.calcTotal;return Object(o.useEffect)((function(){d("".concat(c.id),n)}),[n]),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"cart__content-img",children:Object(f.jsx)("img",{src:null!==(t=c.image.src)&&void 0!==t?t:"https://via.placeholder.com/300x300",alt:c.image.alt||c.image.name,onLoad:function(e){var t=e.target;t.style.height=getComputedStyle(t).width}})}),Object(f.jsx)("td",{className:"cart__content-name",children:Object(f.jsx)(u.b,{to:"/catalog/".concat(c.id),children:c.name})}),Object(f.jsx)("td",{className:"cart__content-price",dangerouslySetInnerHTML:{__html:_.a.sanitize(c.price_html)}}),Object(f.jsx)("td",{className:"cart__content-qty",children:Object(f.jsx)("input",{type:"number",className:"form-control",min:"1",max:"10",value:n,onChange:function(e){return s(parseInt(e.target.value))}})}),Object(f.jsxs)("td",{className:"cart__content-total",children:[b(c.total)," \u20bd"]}),Object(f.jsx)("td",{className:"cart__content-remove",children:Object(f.jsx)("img",{src:C,alt:"move-to-trash",onClick:function(){return j("".concat(c.id))},onMouseEnter:function(e){e.target.setAttribute("src",w)},onMouseLeave:function(e){e.target.setAttribute("src",C)}})})]})},T=["11%","45%","13%","12%","13%","6%"],Q=function(){return Object(f.jsx)("colgroup",{children:T.map((function(e,t){return Object(f.jsx)("col",{style:{width:e}},t)}))})},L=function(){return Object(f.jsx)("thead",{className:"cart__content-head",children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"\u0424\u043e\u0442\u043e"}),Object(f.jsx)("td",{children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430"}),Object(f.jsx)("td",{children:"\u0426\u0435\u043d\u0430"}),Object(f.jsx)("td",{children:"\u041a\u043e\u043b-\u0432\u043e"}),Object(f.jsx)("td",{children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(f.jsx)("td",{children:"\xa0"})]})})},V=function(e){var t=e.cartMap;return Object(f.jsx)("tbody",{className:"cart__content-body",children:Object.keys(t).length?Object.keys(t).map((function(e,c){return Object(f.jsx)(R,{product:t[e]},e)})):null})},D=function(e){var t=e.totalCart;return Object(f.jsx)("tfoot",{className:"cart__content-foot",children:Object(f.jsxs)("tr",{className:"cart__content-result",children:[Object(f.jsx)("td",{colSpan:4,children:"\u0418\u0442\u043e\u0433\u043e:"}),Object(f.jsxs)("td",{children:[b(t)," \u20bd"]}),Object(f.jsx)("td",{children:"\xa0"})]})})},J=function(){var e=Object(o.useContext)(g.a),t=e.cartMap,c=e.totalCart;return Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("div",{className:"row justify-content-center",children:[Object(f.jsx)("div",{className:"col-3",children:Object(f.jsx)(I,{})}),Object(f.jsx)("div",{className:"col-9 d-flex flex-column",style:{gap:"30px 0"},children:Object(f.jsx)("section",{className:"cart__wrapper",children:Object(f.jsxs)("table",{className:"cart__content",children:[Object(f.jsx)(Q,{}),Object(f.jsx)(L,{}),Object(f.jsx)(V,{cartMap:t}),Object(f.jsx)(D,{totalCart:c})]})})})]})})},Y=c(8),U=c.n(Y),G=c(20),X=function(e){var t,c=e.product,a=Object(o.useState)(!1),r=Object(i.a)(a,2),n=r[0],s=r[1],l=Object(o.useContext)(g.a),u=l.cartMap,j=l.addToCart,d=Object(h.g)().push;return Object(o.useEffect)((function(){s(Object.keys(u).includes(String(c.id)))}),[u,c.id]),Object(f.jsx)("div",{className:"col-12 col-sm-6 col-md-12 col-lg-6 col-xl-4",children:Object(f.jsxs)("div",{className:"product__wrapper",children:[Object(f.jsx)("img",{src:null!==(t=c.images[0].src)&&void 0!==t?t:"https://via.placeholder.com/300x300",alt:c.images[0].alt||c.images[0].name,onLoad:function(e){var t=e.target;t.style.height=getComputedStyle(t).width}}),Object(f.jsxs)("div",{className:"product__body",children:[Object(f.jsx)("p",{className:"product__name",onClick:function(){return d("/catalog/".concat(c.id))},children:c.name}),Object(f.jsx)("p",{className:"product__cost",dangerouslySetInnerHTML:{__html:_.a.sanitize(c.price_html)}}),n?Object(f.jsx)("span",{className:"product__cart cart_added",children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 \u2714"}):Object(f.jsx)("span",{className:"product__cart",onClick:function(){j(c),s(!0)},children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]})]})})},z=function(){var e=Object(o.useContext)(g.b).products;return Object(f.jsx)("div",{className:"row",style:{gap:"15px 0"},children:e.length?e.map((function(e){return Object(f.jsx)(X,{product:e},e.id)})):Object(f.jsx)("p",{className:"produst__not-found",children:"\u041c\u044b \u043d\u0435 \u0441\u043c\u043e\u0433\u043b\u0438 \u043d\u0430\u0439\u0442\u0438 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0434\u043b\u044f \u0432\u0430\u0441! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u0430"})})},W=function(){var e=Object(o.useState)(0),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(o.useState)(0),n=Object(i.a)(r,2),s=n[0],l=n[1],u=Object(o.useState)(0),j=Object(i.a)(u,2),b=j[0],O=j[1],m=Object(o.useContext)(g.c),p=m.setMaxCost,h=m.sortedPosts,x=Object(o.useContext)(g.b).category;Object(o.useEffect)((function(){if(h.length){var e=function(e){var t=[];return t.push.apply(t,Object(d.a)(e.map((function(e){return parseInt(e.price)})))),[Math.min.apply(Math,t),Math.max.apply(Math,t)]}(h);a(e[0]),l(e[1]),p(e[1]),O(e[1])}}),[x,h]);return Object(f.jsxs)("div",{className:"main__filter-block",children:[Object(f.jsx)("p",{className:"filter-item__title",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(f.jsxs)("div",{className:"filter-item__content",children:[Object(f.jsx)("input",{type:"range",className:"form-range",min:c,max:s,value:b,step:"50",onInput:function(e){O(parseInt(e.target.value))},onMouseUp:function(e){var t=e.target;p(parseInt(t.value))}}),Object(f.jsxs)("p",{className:"filter-item__by-cost",children:["\u0426\u0435\u043d\u0430: ",Object(f.jsx)("span",{className:"min-cost",children:c})," \u20bd \u2014"," ",Object(f.jsx)("span",{className:"max-cost",children:b})," \u20bd"]})]})]})},K=function(){var e=Object(o.useContext)(g.b).categories,t=Object(o.useContext)(g.c),c=t.category,a=t.setCategory;return Object(f.jsxs)("div",{className:"main__filter-block",children:[Object(f.jsx)("p",{className:"filter-item__title",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),Object(f.jsx)("div",{className:"filter-item__content",children:Object(f.jsxs)("select",{className:"form-select",value:c,onChange:function(e){return a(parseInt(e.target.value))},children:[Object(f.jsx)("option",{value:-1,children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"}),e.map((function(e){return 0!==e.count&&Object(f.jsx)("option",{value:e.id,children:e.name},e.id)}))]})})]})},q=function(){var e=Object(o.useContext)(g.c),t=e.orderby,c=e.setOrderby;return Object(o.useContext)(g.b).products.length<2?null:Object(f.jsxs)("div",{className:"main__filter-block",children:[Object(f.jsx)("p",{className:"filter-item__title",children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430"}),Object(f.jsx)("div",{className:"filter-item__content",children:Object(f.jsxs)("select",{className:"form-select",value:t,onChange:function(e){return c(e.target.value)},children:[Object(f.jsx)("option",{value:"default",children:"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"}),Object(f.jsx)("option",{value:"asc",children:"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e"}),Object(f.jsx)("option",{value:"desc",children:"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e"})]})})]})},Z=function(){var e=Object(o.useContext)(g.c),t=e.searchQuery,c=e.setSearchQuery;return Object(f.jsxs)("div",{className:"main__filter-block",children:[Object(f.jsx)("p",{className:"filter-item__title",children:"\u041f\u043e\u0438\u0441\u043a"}),Object(f.jsx)("div",{className:"filter-item__content",children:Object(f.jsx)("input",{type:"text",className:"form-control",value:t,onInput:function(e){return c(e.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441"})})]})},H=function(){var e=Object(o.useContext)(g.c),t=e.setCategory,c=e.setOrderby,a=e.setSearchQuery,r=function(){t(-1),c("default"),a("")};return Object(f.jsx)("button",{className:"btn btn-default",onClick:r,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})},$=(c(162),function(){return Object(f.jsxs)("div",{className:"main__filter",children:[Object(f.jsx)(Z,{}),Object(f.jsx)(K,{}),Object(f.jsx)(W,{}),Object(f.jsx)(q,{}),Object(f.jsx)(H,{})]})}),ee=function(e,t){var c=Object(o.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0;return-1===e?t:t.filter((function(t){return t.categories.some((function(t){return t.id===e}))}))}(e,Object(d.a)(t))}),[e,t]);return c},te=function(e,t){var c=Object(o.useMemo)((function(){return 0!==e?function(e,t){return t.filter((function(t){return parseFloat(t.price)<=e}))}(e,Object(d.a)(t)):t}),[e,t]);return c},ce=function(e,t){var c=Object(o.useMemo)((function(){return function(e,t){return"default"===e?t:t.sort((function(t,c){return"asc"===e?parseFloat(t.price)-parseFloat(c.price):"desc"===e?parseFloat(c.price)-parseFloat(t.price):null}))}(e,Object(d.a)(t))}),[e,t]);return c},ae=function(e,t,c,a,r){var n=ee(e,r),s=te(t,n),i=function(e,t){var c=Object(o.useMemo)((function(){return function(e,t){return""!==e?t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase().trim())})):t}(e,Object(d.a)(t))}),[e,t]);return c}(a,ce(c,s));return i},re=c(51),ne=c(40),se=c(42),ie=c(29),oe=function(e){var t=e.page,c=e.total,a=e.setPage;if(1===c)return null;var r=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Array.from({length:(t-e)/c+1},(function(t,a){return e+a*c}))}(1,c);return Object(f.jsx)("div",{className:"pagination_list",children:r.map((function(e){return Object(f.jsx)("span",{className:"pagination_item".concat(e===t?" current_page":""),onClick:function(){return a(e)},children:e},e)}))})},le=c(34),ue=c(41),je=c(52),de=c.n(je),be=function(){function e(){Object(le.a)(this,e)}return Object(ue.a)(e,null,[{key:"getCategories",value:function(){var e=Object(G.a)(U.a.mark((function e(t){var c,a,r,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=[],a=1,r=function(){var e=Object(G.a)(U.a.mark((function e(){var n,s,i,o,l,u=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=u.length>0&&void 0!==u[0]?u[0]:1,e.next=3,ie.a.get("products/categories",{page:s});case 3:i=e.sent,o=i.data,l=i.headers,c=[].concat(Object(d.a)(c),Object(d.a)(o)),a=null!==(n=parseInt(l["x-wp-totalpages"]))&&void 0!==n?n:1,s<a?r(s+1):t(c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=6,r();case 6:e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(0),n=e.t0,console.error(n.message),new Error(n.message);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getWcProducts",value:function(e){}}]),e}();be.getProducts=Object(G.a)(U.a.mark((function e(){var t,c,a,r,n,s,i,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],c=1,a=!0;case 3:if(!a){e.next=15;break}return e.next=6,de.a.get("https://laserkids.ru/wp-json/wc/store/products?page="+c);case 6:n=e.sent,s=n.headers,i=n.data,t=[].concat(Object(d.a)(t),Object(d.a)(i)),o=null!==(r=s["x-wp-totalpages"])&&void 0!==r?r:1,a=c<o,c++,e.next=3;break;case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e)}))),be.getProductById=function(){var e=Object(G.a)(U.a.mark((function e(t){var c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.a.get("https://laserkids.ru/wp-json/wc/store/products/?include="+t);case 2:return c=e.sent,e.abrupt("return",c.data[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Oe=[{path:"/catalog",component:function(){var e=Object(o.useContext)(g.d).setCacheProducts,t=Object(re.useStateIfMounted)([]),c=Object(i.a)(t,2),a=c[0],r=c[1],n=Object(re.useStateIfMounted)([]),s=Object(i.a)(n,2),l=s[0],u=s[1],j=Object(o.useState)(-1),d=Object(i.a)(j,2),b=d[0],O=d[1],m=Object(o.useState)(0),p=Object(i.a)(m,2),h=p[0],x=p[1],A=Object(o.useState)("default"),v=Object(i.a)(A,2),N=v[0],C=v[1],w=Object(o.useState)(""),y=Object(i.a)(w,2),_=y[0],S=y[1],k=Object(o.useState)(18),M=Object(i.a)(k,1)[0],E=Object(o.useState)(1),F=Object(i.a)(E,2),B=F[0],I=F[1],P=Object(o.useState)(0),R=Object(i.a)(P,2),T=R[0],Q=R[1],L=Object(ne.a)(Object(G.a)(U.a.mark((function e(){var t,c,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.a.get("products",{per_page:M,page:B});case 2:t=e.sent,c=t.data,a=t.headers,r(c),Q(parseInt(a["x-wp-totalpages"]));case 7:case"end":return e.stop()}}),e)})))),V=Object(i.a)(L,3),D=V[0],J=V[1],Y=V[2],X=ee(b,a),W=ae(b,h,N,_,a);return Object(o.useEffect)((function(){D(),be.getCategories((function(e){u(e)}))}),[B]),Object(o.useEffect)((function(){a.length&&e(a)}),[a]),Object(f.jsx)(g.b.Provider,{value:{products:W,categories:l,category:b},children:Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("div",{className:"row main-section justify-content-between",children:[Object(f.jsx)("aside",{className:"col-12 col-md-5 col-lg-4 col-xl-3 mb-4 mb-md-0",children:Object(f.jsx)(g.c.Provider,{value:{category:b,orderby:N,maxCost:h,searchQuery:_,sortedPosts:X,setCategory:O,setOrderby:C,setMaxCost:x,setSearchQuery:S},children:Object(f.jsx)($,{})})}),Object(f.jsx)("article",{className:"col-12 col-md-6 col-lg-7 col-xl-8 mb-5 product-list",children:Y.status?Object(f.jsxs)("div",{children:["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043a\u0430\u043a\u0430\u044f \u0442\u043e \u043e\u0448\u0438\u0431\u043a\u0430 - ",Y.message]}):J?Object(f.jsx)(se.a,{}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(z,{}),Object(f.jsx)(oe,{page:B,total:T,setPage:function(e){return I(e)}})]})})]})})})},exact:!0,title:"Laserkids Store - \u041a\u0430\u0442\u0430\u043b\u043e\u0433"},{path:"/catalog/:id",component:P,exact:!0,title:"Laserkids Store"},{path:"/cart/",component:J,exact:!1,title:"Laserkids Store - \u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"}],me=function(){var e=Object(o.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(o.useState)({}),n=Object(i.a)(r,2),l=n[0],d=n[1],b=Object(o.useState)(0),h=Object(i.a)(b,2),x=h[0],v=h[1],N=Object(o.useState)(0),C=Object(i.a)(N,2),w=C[0],y=C[1];Object(o.useEffect)((function(){if(null!==localStorage.getItem("WC_Cart")){var e=JSON.parse(localStorage.getItem("WC_Cart"));0!==Object.keys(e).length&&(d(e),v(Object.keys(e).length),y(O(e)))}}),[]),Object(j.a)((function(){localStorage.setItem("WC_Cart",JSON.stringify(l)),v(Object.keys(l).length),y(O(l))}),[l]);return Object(f.jsx)(u.a,{children:Object(f.jsx)(g.d.Provider,{value:{cacheProducts:c,setCacheProducts:a},children:Object(f.jsxs)(g.a.Provider,{value:{cartMap:l,cartCounter:x,totalCart:w,removeProduct:function(e){d(function(e,t){return Object.keys(t).filter((function(t){return t!==e})).reduce((function(e,c){return e[c]=t[c],e}),{})}(e,l))},calcTotal:function(e,t){var c=Object(s.a)(Object(s.a)({},l[e]),{},{qty:t,total:l[e].price*t});d((function(t){return m(e,c,t)}))},addToCart:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=p(e,t);d((function(t){return m(e.id,c,t)}))}},children:[Object(f.jsx)(M,{}),Object(f.jsx)(A,{routes:Oe,redirect:"/catalog"})]})})})};n.a.render(Object(f.jsx)(me,{}),document.getElementById("root"))},29:function(e,t,c){"use strict";var a=new(c(93).a)({url:"https://laserkids.ru",consumerKey:"ck_f630e083e201d809e9054871d305f211abc832c5",consumerSecret:"cs_5c9c01c48ea9db07a9e45a55c729c5406b02ef9b",version:"wc/v3",axiosConfig:{headers:{}}});t.a=a},3:function(e,t,c){"use strict";c.d(t,"b",(function(){return n})),c.d(t,"a",(function(){return s})),c.d(t,"c",(function(){return i})),c.d(t,"d",(function(){return o}));var a=c(1),r=c.n(a),n=r.a.createContext(null),s=r.a.createContext(null),i=r.a.createContext(null),o=r.a.createContext(null)},39:function(e,t,c){"use strict";var a=c(11),r=c(1);t.a=function(e,t){var c=Object(r.useRef)(!1);Object(r.useEffect)((function(){c.current?e():c.current=!0}),Object(a.a)(t))}},40:function(e,t,c){"use strict";var a=c(8),r=c.n(a),n=c(20),s=c(2),i=c(1);t.a=function(e){var t=Object(i.useState)(!1),c=Object(s.a)(t,2),a=c[0],o=c[1],l=Object(i.useState)({status:!1,message:""}),u=Object(s.a)(l,2),j=u[0],d=u[1],b=function(){var t=Object(n.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o(!0),t.next=4,e();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),d({status:!0,message:t.t0.message});case 9:return t.prev=9,o(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}();return[b,a,j]}},42:function(e,t,c){"use strict";var a=c(0);t.a=function(){return Object(a.jsx)("div",{className:"loading-spinner",children:Object(a.jsx)("div",{className:"spinner-border text-default",role:"status",children:Object(a.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}},92:function(e,t,c){"use strict";(function(e){var a=c(9),r=c(8),n=c.n(r),s=c(20),i=c(2),o=c(21),l=c.n(o),u=c(1),j=c.n(u),d=c(5),b=c(3),O=c(39),m=c(40),p=c(29),h=c(42),x=(c(158),c(159),c(50)),f=c.n(x),A=c(0),g=function(t){var c,a=t.image,r=t.ind,n=t.wrapperRef;return Object(A.jsx)("img",{src:null!==(c=a.src)&&void 0!==c?c:"https://via.placeholder.com/300x300",alt:a.alt||a.name,onLoad:function(t){if(0===r){var c=n.current.container,a=e(t.target).css("height");e(c).find(".owl-stage-outer").css("height",a)}}})};t.a=function(){var t=Object(u.useContext)(b.a),c=t.cartMap,r=t.calcTotal,o=t.addToCart,x=Object(d.i)().id,v=Object(u.useState)(null),N=Object(i.a)(v,2),C=N[0],w=N[1],y=Object(u.useState)(1),_=Object(i.a)(y,2),S=_[0],k=_[1],M=Object(u.useState)(!1),E=Object(i.a)(M,2),F=E[0],B=E[1],I=Object(m.a)(Object(s.a)(n.a.mark((function e(){var t,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("products/".concat(x));case 2:t=e.sent,c=t.data,w(c);case 5:case"end":return e.stop()}}),e)})))),P=Object(i.a)(I,2),R=P[0],T=P[1],Q=Object(u.useRef)(null),L=Object(u.useRef)(null);Object(u.useEffect)((function(){return R()}),[x]),Object(O.a)((function(){F&&r(x,S)}),[S]),Object(u.useEffect)((function(){var e=Object.keys(c);e.length&&e.includes(x)&&k(c[x].qty),B(e.includes(x))}),[c,x]);var V={items:1,dots:!1,nav:!0,margin:10,responsive:{0:{items:1,autoHeight:!0},768:{items:1,autoHeight:!0}},onChanged:function(t){var c=e(".previewSlider"),a=t.item.index;c.find(".owl-item").removeClass("current").eq(a).addClass("current");var r=c.find(".owl-item.active").length-1,n=c.find(".owl-item.active").first().index();a>c.find(".owl-item.active").last().index()&&c.trigger("to.owl.carousel",[a,100,!0]),a<n&&c.trigger("to.owl.carousel",[a-r,100,!0])}},D={onInitialized:function(t){e(t.target).find(".owl-item").eq(0).addClass("current")},items:3,dots:!1,nav:!1,margin:5,slideBy:3,responsiveRefreshRate:100,onChanged:function(t){var c=e(".product-images"),a=t.item.index;c.trigger("to.owl.carousel",[a,100,!0])}};return Object(A.jsx)(j.a.Fragment,{children:T||null===C?Object(A.jsx)(h.a,{}):Object(A.jsxs)(j.a.Fragment,{children:[Object(A.jsx)("div",{className:"product-wrapper",children:Object(A.jsxs)("div",{className:"row",children:[Object(A.jsx)("div",{className:"col-5",children:C.images.length>1?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(f.a,Object(a.a)(Object(a.a)({className:"owl-theme product-images"},V),{},{ref:Q,children:C.images.map((function(e,t){return Object(A.jsx)(g,{image:e,ind:t,wrapperRef:Q},e.id)}))})),Object(A.jsx)("div",{className:"product-images__preview mt-2",children:Object(A.jsx)(f.a,Object(a.a)(Object(a.a)({},D),{},{className:"previewSlider",ref:L,children:C.images.map((function(t,c){return Object(A.jsx)("img",{src:t.src,alt:t.alt||t.name,onClick:function(){return function(t){var c;if(null===(c=L.current)||void 0===c?void 0:c.container){for(var a=e(L.current.container).find(".owl-item"),r="current",n=0;n<a.length;n++)a.eq(n).removeClass(r);a.eq(t).addClass(r),e(Q.current.container).trigger("to.owl.carousel",[t])}}(c)}},t.id)}))}))})]}):Object(A.jsx)("div",{className:"product-image",children:Object(A.jsx)("a",{href:C.images[0].src,target:"_blank",rel:"noreferrer",style:{display:"block"},children:Object(A.jsx)(g,{image:C.images[0]})})})}),Object(A.jsx)("div",{className:"col-7",children:Object(A.jsxs)("div",{className:"product-body",children:[Object(A.jsx)("p",{className:"product-name",children:C.name}),Object(A.jsx)("p",{className:"product-price",dangerouslySetInnerHTML:{__html:l.a.sanitize(C.price_html)}}),Object(A.jsxs)("div",{className:"product__add-cart",children:[Object(A.jsx)("input",{type:"number",className:"form-control product-qty",value:S,onChange:function(e){return k(parseInt(e.target.value))}}),F?Object(A.jsx)("span",{className:"product__cart cart_added",children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 \u2714"}):Object(A.jsx)("span",{className:"product__cart",onClick:function(){o(C,S),B(!0)},children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]}),Object(A.jsxs)("p",{children:[Object(A.jsx)("span",{children:C.categories.length>1?"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438: ":"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f: "}),Object(A.jsx)("span",{className:"product-categories",children:C.categories.map((function(e,t){return t+1!==C.categories.length?"".concat(e.name,", "):"".concat(e.name)}))})]})]})})]})}),C.description?Object(A.jsx)("div",{className:"product-wrapper",children:Object(A.jsx)("div",{className:"product-description",dangerouslySetInnerHTML:{__html:C.description}})}):null]})})}}).call(this,c(44))}},[[182,1,2]]]);
//# sourceMappingURL=main.8d5c5063.chunk.js.map